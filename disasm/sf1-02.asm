
; GAME SECTION 02 :
; 
; FREE SPACE : 680 bytes.



; =============== S U B R O U T I N E =======================================

sub_8000:
		jmp     sub_811A(pc)

	; End of function sub_8000


; =============== S U B R O U T I N E =======================================

sub_8004:
		jmp     sub_80E2(pc)

	; End of function sub_8004


; =============== S U B R O U T I N E =======================================

sub_8008:
		jmp     sub_8DDE(pc)

	; End of function sub_8008


; =============== S U B R O U T I N E =======================================

sub_800C:
		jmp     sub_9A8A(pc)

	; End of function sub_800C


; =============== S U B R O U T I N E =======================================

sub_8010:
		jmp     sub_B092(pc)

	; End of function sub_8010


; =============== S U B R O U T I N E =======================================

sub_8014:
		jmp     sub_CF66(pc)

	; End of function sub_8014


; =============== S U B R O U T I N E =======================================

sub_8018:
		jmp     sub_CF8C(pc)

	; End of function sub_8018


; =============== S U B R O U T I N E =======================================

sub_801C:
		jmp     sub_AEA8(pc)

	; End of function sub_801C


; =============== S U B R O U T I N E =======================================

sub_8020:
		jmp     sub_AE36(pc)    

	; End of function sub_8020


; =============== S U B R O U T I N E =======================================

sub_8024:
		jmp     sub_84AE(pc)

	; End of function sub_8024


; =============== S U B R O U T I N E =======================================

sub_8028:
		jmp     sub_98A8(pc)

	; End of function sub_8028


; =============== S U B R O U T I N E =======================================

sub_802C:
		jmp     sub_E20A(pc)

	; End of function sub_802C


; =============== S U B R O U T I N E =======================================

sub_8030:
		jmp     sub_E286(pc)

	; End of function sub_8030

		jmp     sub_E02C(pc)

; =============== S U B R O U T I N E =======================================

sub_8038:
		jmp     sub_BF08(pc)

	; End of function sub_8038


; =============== S U B R O U T I N E =======================================

sub_803C:
		jmp     sub_E49E(pc)

	; End of function sub_803C


; =============== S U B R O U T I N E =======================================

sub_8040:
		jmp     sub_EA66(pc)

	; End of function sub_8040


; =============== S U B R O U T I N E =======================================

sub_8044:
		jmp     sub_EA72(pc)

	; End of function sub_8044


; =============== S U B R O U T I N E =======================================

sub_8048:
		jmp     sub_BF10(pc)

	; End of function sub_8048


; =============== S U B R O U T I N E =======================================

sub_804C:
		jmp     sub_B054(pc)

	; End of function sub_804C


; =============== S U B R O U T I N E =======================================

j_DisplayNumber:
		
		jmp     DisplayNumber(pc)

	; End of function j_DisplayNumber


; =============== S U B R O U T I N E =======================================

sub_8054:
		jmp     sub_AF66(pc)

	; End of function sub_8054


; =============== S U B R O U T I N E =======================================

sub_8058:
		jmp     sub_B274(pc)

	; End of function sub_8058


; =============== S U B R O U T I N E =======================================

sub_805C:
		jmp     sub_DCFA(pc)

	; End of function sub_805C


; =============== S U B R O U T I N E =======================================

sub_8060:
		jmp     sub_EC28(pc)

	; End of function sub_8060


; =============== S U B R O U T I N E =======================================

sub_8064:
		jmp     sub_ECA6(pc)

	; End of function sub_8064


; =============== S U B R O U T I N E =======================================

sub_8068:
		jmp     loc_ED5C(pc)

	; End of function sub_8068


; =============== S U B R O U T I N E =======================================

sub_806C:
		jmp     sub_EAA2(pc)

	; End of function sub_806C


; =============== S U B R O U T I N E =======================================

sub_8070:
		jmp     sub_CED8(pc)

	; End of function sub_8070


; =============== S U B R O U T I N E =======================================

sub_8074:
		jmp     sub_CF1E(pc)

	; End of function sub_8074


; =============== S U B R O U T I N E =======================================

sub_8078:
		jmp     sub_D32C(pc)

	; End of function sub_8078


; =============== S U B R O U T I N E =======================================

sub_807C:
		jmp     sub_D75A(pc)

	; End of function sub_807C


; =============== S U B R O U T I N E =======================================

sub_8080:
		jmp     sub_D774(pc)

	; End of function sub_8080


; =============== S U B R O U T I N E =======================================

sub_8084:
		jmp     sub_BF14(pc)

	; End of function sub_8084


; =============== S U B R O U T I N E =======================================

sub_8088:
		jmp     sub_F61E(pc)

	; End of function sub_8088


; =============== S U B R O U T I N E =======================================

sub_808C:
		jmp     loc_9BFC(pc)

	; End of function sub_808C


; =============== S U B R O U T I N E =======================================

sub_8090:
		jmp     sub_83E6(pc)

	; End of function sub_8090


; =============== S U B R O U T I N E =======================================

sub_8094:
		jmp     sub_8770(pc)

	; End of function sub_8094


; =============== S U B R O U T I N E =======================================

sub_8098:
		jmp     sub_8E52(pc)

	; End of function sub_8098


; =============== S U B R O U T I N E =======================================

sub_809C:
		jmp     sub_AB5C(pc)

	; End of function sub_809C


; =============== S U B R O U T I N E =======================================

j_nullsub_4:
		jmp     nullsub_4(pc)

	; End of function j_nullsub_4


; =============== S U B R O U T I N E =======================================

sub_80A4:
		jmp     sub_ADA6(pc)    

	; End of function sub_80A4


; =============== S U B R O U T I N E =======================================

sub_80A8:
		jmp     sub_ADB8(pc)    

	; End of function sub_80A8


; =============== S U B R O U T I N E =======================================

sub_80AC:
		jmp     sub_968A(pc)

	; End of function sub_80AC


; =============== S U B R O U T I N E =======================================

sub_80B0:
		jmp     sub_8D66(pc)

	; End of function sub_80B0


; =============== S U B R O U T I N E =======================================

sub_80B4:
		jmp     sub_9BD0(pc)

	; End of function sub_80B4


; =============== S U B R O U T I N E =======================================

sub_80B8:
		jmp     sub_9940(pc)

	; End of function sub_80B8


; =============== S U B R O U T I N E =======================================

j_nullsub_5:
		jmp     nullsub_5(pc)

	; End of function j_nullsub_5


; =============== S U B R O U T I N E =======================================

sub_80C0:
		jmp     loc_AE3A(pc)

	; End of function sub_80C0


; =============== S U B R O U T I N E =======================================

sub_80C4:
		jmp     sub_96FC(pc)    

	; End of function sub_80C4


; =============== S U B R O U T I N E =======================================

sub_80C8:
		jmp     sub_9718(pc)    

	; End of function sub_80C8


; =============== S U B R O U T I N E =======================================

sub_80CC:
		jmp     sub_9734(pc)

	; End of function sub_80CC


; =============== S U B R O U T I N E =======================================

sub_80D0:
		jmp     sub_E2C2(pc)

	; End of function sub_80D0


; =============== S U B R O U T I N E =======================================

sub_80D4:
		jmp     sub_E2D6(pc)

	; End of function sub_80D4


; =============== S U B R O U T I N E =======================================

sub_80D8:
		jmp     sub_DFEC(pc)

	; End of function sub_80D8


; =============== S U B R O U T I N E =======================================

sub_80DC:
		jmp     sub_AF84(pc)

	; End of function sub_80DC


; =============== S U B R O U T I N E =======================================

nullsub_5:
		rts

	; End of function nullsub_5


; =============== S U B R O U T I N E =======================================

sub_80E2:
		move.l  sp,(dword_FF0EFE).l
		clr.b   ((byte_FFB53A-$1000000)).w
		jsr     j_InitBattle
		jsr     sub_20010
		jsr     sub_20020
		jsr     sub_203A0
		bsr.w   sub_84AE
		clr.b   ((byte_FFB4C7-$1000000)).w
loc_810C:
		clr.b   ((byte_FFB4D7-$1000000)).w
loc_8110:
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		bra.w   loc_81D4

	; End of function sub_80E2


; =============== S U B R O U T I N E =======================================

sub_811A:
		move.l  sp,(dword_FF0EFE).l
		clr.w   ((SCREEN_POSITION-$1000000)).w
		move.w  #$101,((CURSOR_POSITION-$1000000)).w
		clr.b   ((byte_FFB4C7-$1000000)).w
		clr.b   ((byte_FFB4D7-$1000000)).w
		clr.b   ((byte_FFB53A-$1000000)).w
		jsr     j_InitBattle
		jsr     sub_20010
		jsr     sub_20004
		jsr     sub_203A0
		clr.w   d0
		jsr     j_GetTargetX
		move.b  d1,((CURSOR_POSITION-$1000000)).w
		subq.w  #5,d1
		bge.s   loc_8160
		clr.w   d1
loc_8160:
		move.w  ((MAP_WIDTH-$1000000)).w,d2
		subi.w  #$B,d2
		cmp.w   d2,d1
		ble.s   loc_816E
		move.w  d2,d1
loc_816E:
		move.b  d1,((SCREEN_POSITION-$1000000)).w
		move.w  d1,d2
		jsr     j_GetTargetY
		move.b  d1,((CURSOR_POSITION+1-$1000000)).w
		subq.w  #5,d1
		bge.s   loc_8184
		clr.w   d1
loc_8184:
		move.w  ((MAP_HEIGHT-$1000000)).w,d2
		subi.w  #$A,d2
		cmp.w   d2,d1
		ble.s   loc_8192
		move.w  d2,d1
loc_8192:
		move.b  d1,((SCREEN_POSITION+1-$1000000)).w
		clr.b   ((byte_FFB4D7-$1000000)).w
		bsr.w   sub_ACE4        
		bsr.w   sub_84AE
		tst.b   ((byte_FFB4D7-$1000000)).w
		beq.s   loc_81AE
		jsr     sub_20040
loc_81AE:
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		clr.b   ((byte_FFB538-$1000000)).w
		jsr     (j_WaitForVInt).l
		jsr     sub_124008
loc_81C4:
		clr.w   ((word_FFC0BE-$1000000)).w
		bsr.w   sub_8332
		bsr.w   sub_8EBC
		clr.b   ((byte_FF9C07-$1000000)).w
loc_81D4:
		lea     ((byte_FF9C08-$1000000)).w,a0
		clr.w   d0
		move.b  ((byte_FF9C07-$1000000)).w,d0
		add.w   d0,d0
		adda.w  d0,a0
		clr.b   ((byte_FFB4C7-$1000000)).w
		clr.w   d0
		move.b  (a0),d0
		move.b  d0,((byte_FFB53B-$1000000)).w
		cmpi.b  #$FF,d0
		beq.w   loc_8284
		jsr     j_GetHPFromForceID
		tst.w   d1
		beq.w   loc_8284
		jsr     j_GetTargetX
		lsl.w   #8,d1
		move.w  d1,d6
		jsr     j_GetTargetY
		or.w    d1,d6
		move.w  d0,-(sp)
		move.w  d6,d0
		bsr.w   sub_8770
		clr.b   ((byte_FFB538-$1000000)).w
		jsr     (j_WaitForVInt).l
		bsr.w   sub_8E52
		move.w  (sp)+,d0
		move.b  d0,((byte_FFB4C6-$1000000)).w
		bsr.w   sub_AB5C
		move.b  ((byte_FFB53B-$1000000)).w,d0
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_824A
		jsr     j_IsAsleep
		tst.b   ((IS_ASLEEP_FLAG-$1000000)).w
		bne.s   loc_8254
loc_824A:
		bsr.w   sub_83E6
		cmpi.w  #$FFFF,d0
		beq.s   loc_81D4
loc_8254:
		jsr     (j_WaitForVInt).l
		move.b  ((byte_FFB53B-$1000000)).w,d0
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_827C
		jsr     sub_20344
		tst.b   ((IS_POISONED_FLAG-$1000000)).w
		beq.s   loc_827C
		jsr     sub_124004
		jsr     (j_WaitForVInt).l
loc_827C:
		bsr.w   sub_ACE4        
		tst.w   d0              ; Check D0 for battle end
														;     0 = not done
														;     1 = win
														;     2 = lose
		bne.s   loc_8296
loc_8284:
		addq.b  #1,((byte_FF9C07-$1000000)).w
		cmpi.b  #$20,((byte_FF9C07-$1000000)).w 
		bne.w   loc_81D4
		bra.w   loc_81C4
loc_8296:
		clr.b   (FADING_SETTING).l
		movea.l (dword_FF0EFE).l,sp
		cmpi.w  #1,d0
		beq.w   loc_82DC
		trap    #SOUND_COMMAND
		dc.w MUSIC_MAX_DIED
loc_82AE:
		bsr.w   sub_AB2C
		jsr     (sub_304).l
		move.w  #$1B1,d0        ; "[Hero] has been[Line]defeated...[Wait2]"
		trap    #DISPLAY_MESSAGE
		jsr     (sub_30C).l
		bsr.w   sub_8770
		trap    #SOUND_COMMAND
		dc.w SOUND_COMMAND_FADE_OUT
		jsr     (j_FadeOutToBlack).l
		clr.l   (dword_FF0EF6).l
		moveq   #$FFFFFFFF,d0
		rts
loc_82DC:
		clr.w   d0
loc_82DE:
		move.b  ((CURRENT_MAP_VERSION-$1000000)).w,d0
		addi.w  #$28,d0 
		jsr     (j_SetEventFlag).l
		bsr.w   sub_AB2C
		jsr     sub_124010
		jsr     sub_20040
		bsr.w   sub_8770
		jsr     j_ResetForceMemberStats
		bra.w   loc_81C4

	; End of function sub_811A


; =============== S U B R O U T I N E =======================================

sub_830A:
		move.w  d0,-(sp)
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jsr     (j_SetVIntParam3AndWait).l
		move.w  (sp)+,d0
		rts

	; End of function sub_830A


; =============== S U B R O U T I N E =======================================

sub_8332:
		jsr     sub_20028
		lea     (FF3000_LOADING_SPACE).l,a0
		move.w  #$8F,d7 
loc_8342:
		clr.l   (a0)+
		dbf     d7,loc_8342
		lea     ((byte_FFA8C2-$1000000)).w,a0
loc_834C:
		move.b  (a0)+,d0
		bmi.w   loc_8362
		move.b  (a0)+,d1
		move.l  a0,-(sp)
		lea     (FF3000_LOADING_SPACE).l,a0
		bsr.s   sub_830A
		movea.l (sp)+,a0
		bra.s   loc_834C
loc_8362:
		lea     ((byte_FFA8C2-$1000000)).w,a0
loc_8366:
		move.b  (a0)+,d0
		bmi.w   locret_83E4
		move.b  (a0)+,d1
		ext.w   d0
		move.w  d0,((TEXT_NAME_INDEX-$1000000)).w
		move.l  a0,-(sp)
		move.w  d0,-(sp)
		jsr     j_GetTargetX
		lsl.w   #8,d1
		move.w  d1,d6
		jsr     j_GetTargetY
		or.w    d1,d6
		move.w  d6,d0
		bsr.w   sub_8770
		clr.b   ((byte_FFB538-$1000000)).w
		jsr     (j_WaitForVInt).l
		bsr.w   sub_8E52
		move.w  (sp)+,d0
		jsr     j_GetMapSpriteFromForceID
		movea.l (p_pt_MapSprites).l,a0
		lsl.w   #2,d1
		movea.l (a0,d1.w),a0
		movem.w d0,-(sp)
		jsr     (sub_300).l
		lea     (FF3000_LOADING_SPACE).l,a0
		movem.w (sp)+,d0
		bsr.w   sub_830A
		bsr.w   sub_AB2C
		jsr     (sub_304).l
		move.w  #$205,d0        ; "[Name] appears![Wait2]"
		trap    #DISPLAY_MESSAGE
		jsr     (sub_30C).l
		movea.l (sp)+,a0
		bra.s   loc_8366
locret_83E4:
		rts

	; End of function sub_8332


; =============== S U B R O U T I N E =======================================

sub_83E6:
		tst.b   ((byte_FFB4D7-$1000000)).w
		beq.s   loc_83F4
		bsr.w   sub_9D08
		bra.w   loc_8488
loc_83F4:
		clr.w   d0
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		jsr     j_GetTargetID
		btst    #7,d1
		beq.w   loc_8410
		bsr.w   sub_A6CE
		bra.w   loc_8488
loc_8410:
		move.b  #$FF,((byte_FFB53E-$1000000)).w
		clr.b   (CURRENT_PLAYER_INPUT).l
		move.b  #$16,(INPUT_REPEAT_DELAYER).l
loc_8424:
		move.b  #1,(byte_FF0F03).l
		bsr.w   sub_8C7C
		tst.b   ((byte_FFB53E-$1000000)).w
		beq.s   loc_8448
		clr.b   ((byte_FFB53E-$1000000)).w
		bsr.w   sub_9D08
		cmpi.w  #$FFFF,d0
		beq.s   loc_8424
		bra.w   loc_8488
loc_8448:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_8460
		bsr.w   sub_9D08
		cmpi.w  #$FFFF,d0
		beq.s   loc_8424
		bra.w   loc_8488
loc_8460:
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_8476
		bsr.w   sub_9D08
		cmpi.w  #$FFFF,d0
		beq.s   loc_8424
		bra.s   loc_8488
loc_8476:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.s   loc_8492
		jsr     (j_WaitForVInt).l
		bra.s   loc_8424
loc_8488:
		clr.b   (byte_FF0F03).l
		clr.w   d0
		rts
loc_8492:
		clr.b   (byte_FF0F03).l
		moveq   #$FFFFFFFF,d0
		rts

	; End of function sub_83E6


; =============== S U B R O U T I N E =======================================

sub_849C:
		move.w  #$FF,d0
		lea     (byte_FFA4C0).l,a0
loc_84A6:
		clr.l   (a0)+
		dbf     d0,loc_84A6
		rts

	; End of function sub_849C


; =============== S U B R O U T I N E =======================================

sub_84AE:
		clr.l   (dword_FF0EF6).l
		jsr     (j_DisableDisplayAndInterrupts).l
		jsr     (j_ClearScrollAndSpriteTables).l
		move.w  #$8C00,d0
		jsr     (j_SetVDPRegStatus).l
		move.w  #$9001,d0
		jsr     (j_SetVDPRegStatus).l
		move.w  #$8230,d0
		jsr     (j_SetVDPRegStatus).l
loc_84DE:
		move.w  #$8407,d0
		jsr     (j_SetVDPRegStatus).l
		move.w  #$8B00,d0
		jsr     (j_SetVDPRegStatus).l
		bsr.w   sub_99FC
		bsr.w   sub_97F4
		bsr.w   sub_98A8
		bsr.w   sub_9126
		jsr     (j_EnableDisplayAndInterrupts).l
		moveq   #$FFFFFFFC,d6
		jsr     (j_ClearOtherHScrollStuff).l
		moveq   #8,d6
		jsr     (j_ClearOtherVScrollStuff).l
		jsr     (j_SetVIntParam3AndWait).l
		bsr.w   sub_8DE2        
		move.l  #$9A8A,(dword_FF0EF6).l
		move.b  #$FF,((byte_FFB4C6-$1000000)).w
loc_8532:
		jsr     (j_FadeInFromBlack).l
		clr.w   d1
		clr.w   d2
		rts

	; End of function sub_84AE


; =============== S U B R O U T I N E =======================================

sub_853E:
		move.b  #2,((SPRITE_DIRECTION-$1000000)).w
		cmpi.b  #1,((CURSOR_POSITION+1-$1000000)).w
		beq.w   sub_8DDE
		tst.b   ((byte_FFB538-$1000000)).w
		beq.w   loc_8598
		move.l  a0,-(sp)
		lea     (byte_FF4240).l,a0
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		movea.l (sp)+,a0
		tst.b   ((byte_FFB4D4-$1000000)).w
		bne.s   loc_8598
		move.w  ((MAP_WIDTH-$1000000)).w,d0
		neg.w   d0
		btst    #0,(a0,d0.w)
		beq.w   sub_8DDE
loc_8598:
		subq.b  #1,((CURSOR_POSITION+1-$1000000)).w
		move.b  #4,((byte_FFB4C3-$1000000)).w
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		sub.b   ((SCREEN_POSITION+1-$1000000)).w,d0
		cmpi.b  #3,d0
		bne.s   locret_85C0
		tst.b   ((SCREEN_POSITION+1-$1000000)).w
		beq.s   locret_85C0
		move.b  #4,((byte_FFB4C1-$1000000)).w
		clr.b   ((byte_FFB4C3-$1000000)).w
locret_85C0:
		rts

	; End of function sub_853E


; =============== S U B R O U T I N E =======================================

sub_85C2:
		move.b  #0,((SPRITE_DIRECTION-$1000000)).w
		move.w  ((MAP_HEIGHT-$1000000)).w,d7
		subq.w  #2,d7
		cmp.b   ((CURSOR_POSITION+1-$1000000)).w,d7
		beq.w   sub_8DDE
		tst.b   ((byte_FFB538-$1000000)).w
		beq.w   loc_861E
		move.l  a0,-(sp)
		lea     (byte_FF4000).l,a0
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		movea.l (sp)+,a0
		tst.b   ((byte_FFB4D4-$1000000)).w
		bne.s   loc_861E
		move.w  ((MAP_WIDTH-$1000000)).w,d0
		btst    #0,(a0,d0.w)
		beq.w   sub_8DDE
loc_861E:
		addq.b  #1,((CURSOR_POSITION+1-$1000000)).w
		move.b  #$FC,((byte_FFB4C3-$1000000)).w
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		sub.b   ((SCREEN_POSITION+1-$1000000)).w,d0
		cmpi.b  #6,d0
		bne.s   locret_864E
		move.w  ((MAP_HEIGHT-$1000000)).w,d7
		subi.b  #$A,d7
		cmp.b   ((SCREEN_POSITION+1-$1000000)).w,d7
		beq.s   locret_864E
		move.b  #$FC,((byte_FFB4C1-$1000000)).w
		clr.b   ((byte_FFB4C3-$1000000)).w
locret_864E:
		rts

	; End of function sub_85C2


; =============== S U B R O U T I N E =======================================

sub_8650:
		move.b  #3,((SPRITE_DIRECTION-$1000000)).w
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		subq.w  #2,d7
		cmp.b   ((CURSOR_POSITION-$1000000)).w,d7
		beq.w   sub_8DDE
		tst.b   ((byte_FFB538-$1000000)).w
		beq.w   loc_86A8
		move.l  a0,-(sp)
		lea     (byte_FF46C0).l,a0
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		movea.l (sp)+,a0
		tst.b   ((byte_FFB4D4-$1000000)).w
		bne.s   loc_86A8
		btst    #0,1(a0)
		beq.w   sub_8DDE
loc_86A8:
		addq.b  #1,((CURSOR_POSITION-$1000000)).w
		move.b  #$FC,((byte_FFB4C2-$1000000)).w
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		sub.b   ((SCREEN_POSITION-$1000000)).w,d0
		cmpi.b  #7,d0
		bne.s   locret_86D8
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		subi.b  #$B,d7
		cmp.b   ((SCREEN_POSITION-$1000000)).w,d7
		beq.s   locret_86D8
		move.b  #4,((byte_FFB4C0-$1000000)).w
		clr.b   ((byte_FFB4C2-$1000000)).w
locret_86D8:
		rts

	; End of function sub_8650


; =============== S U B R O U T I N E =======================================

sub_86DA:
		move.b  #1,((SPRITE_DIRECTION-$1000000)).w
		cmpi.b  #1,((CURSOR_POSITION-$1000000)).w
		beq.w   sub_8DDE
		tst.b   ((byte_FFB538-$1000000)).w
		beq.w   loc_872E
		move.l  a0,-(sp)
		lea     (byte_FF4480).l,a0
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		movea.l (sp)+,a0
		tst.b   ((byte_FFB4D4-$1000000)).w
		bne.s   loc_872E
		btst    #0,-1(a0)
		beq.w   sub_8DDE
loc_872E:
		subq.b  #1,((CURSOR_POSITION-$1000000)).w
		move.b  #4,((byte_FFB4C2-$1000000)).w
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		sub.b   ((SCREEN_POSITION-$1000000)).w,d0
		cmpi.b  #3,d0
		bne.s   locret_8758
		cmpi.b  #0,((SCREEN_POSITION-$1000000)).w
		beq.s   locret_8758
		move.b  #$FC,((byte_FFB4C0-$1000000)).w
		clr.b   ((byte_FFB4C2-$1000000)).w
locret_8758:
		rts

	; End of function sub_86DA


; =============== S U B R O U T I N E =======================================

sub_875A:
		movea.l (p_CursorTiles).l,a0
		lea     ($D000).l,a1
		move.w  #$800,d0
		jmp     (sub_294).l

	; End of function sub_875A


; =============== S U B R O U T I N E =======================================

sub_8770:
		clr.b   ((byte_FFB4C7-$1000000)).w
		movem.l d0-d2/a0-a1,-(sp)
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_8786
		movea.l (p_CursorTiles).l,a0
		bra.s   loc_878C
loc_8786:
		lea     unk_87A2(pc), a0
		nop
loc_878C:
		lea     ($D000).l,a1
		move.w  #$800,d0
loc_8796:
		jsr     (sub_298).l
		movem.l (sp)+,d0-d2/a0-a1
		rts

	; End of function sub_8770

unk_87A2:       dc.b   8
		dc.b $10
		dc.b $C0 
		dc.b   0
		dc.b $10
		dc.b   1
		dc.b $80 
		dc.b $FF

; =============== S U B R O U T I N E =======================================

sub_87AA:
		clr.w   d0
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		sub.b   ((SCREEN_POSITION+1-$1000000)).w,d0
		mulu.w  #$18,d0
		move.w  d0,((SCREEN_ADJUSTED_CURSOR_Y-$1000000)).w
		clr.w   d0
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		sub.b   ((SCREEN_POSITION-$1000000)).w,d0
		mulu.w  #$18,d0
		move.w  d0,((SCREEN_ADJUSTED_CURSOR_X-$1000000)).w
		clr.w   d1
		clr.w   d2

	; End of function sub_87AA


; =============== S U B R O U T I N E =======================================

sub_87D2:
		tst.b   ((byte_FFB538-$1000000)).w
		bne.w   loc_891C
		lea     CursorData(pc), a0
		clr.w   d0
		move.b  ((byte_FFB4C7-$1000000)).w,d0
		andi.w  #$F,d0
		lsl.w   #6,d0
		adda.w  d0,a0
		lea     (dword_FF0E30).l,a1
		moveq   #7,d7
loc_87F4:
		move.w  ((SCREEN_ADJUSTED_CURSOR_Y-$1000000)).w,d0
		add.w   (a0)+,d0
		ext.w   d2
		add.w   d2,d0
		move.w  d0,(a1)+
		move.w  (a0)+,(a1)+
		move.w  (a0)+,(a1)+
		move.w  ((SCREEN_ADJUSTED_CURSOR_X-$1000000)).w,d0
		add.w   (a0)+,d0
		ext.w   d1
		add.w   d1,d0
		move.w  d0,(a1)+
		dbf     d7,loc_87F4
		btst    #4,((byte_FFB4C7-$1000000)).w
		beq.s   loc_883E
		lea     unk_8914(pc), a0
		move.w  ((SCREEN_ADJUSTED_CURSOR_Y-$1000000)).w,d0
		add.w   (a0)+,d0
		ext.w   d2
		add.w   d2,d0
		move.w  d0,(a1)+
		move.w  (a0)+,(a1)+
		move.w  (a0)+,(a1)+
		move.w  ((SCREEN_ADJUSTED_CURSOR_X-$1000000)).w,d0
		add.w   (a0)+,d0
		ext.w   d1
		add.w   d1,d0
		move.w  d0,(a1)+
		bra.s   loc_884A
loc_883E:
		move.l  #$10009,(a1)+
		move.l  #$10001,(a1)+
loc_884A:
		move.w  #1,(word_FF0C98).l
		rts
CursorData:
		dc.b 0
		dc.b $74 
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b $78 
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b $56 
		dc.b  $F
		dc.b $37 
		dc.b $46 
		dc.b $90 
		dc.b   0
		dc.b $78 
		dc.b   0
		dc.b $74 
		dc.b  $F
		dc.b $38 
		dc.b $46 
		dc.b $A0 
		dc.b   0
		dc.b $60 
		dc.b   0
		dc.b $92 
		dc.b  $F
		dc.b $39 
		dc.b $56 
		dc.b $90 
		dc.b   0
		dc.b $78 
		dc.b   0
		dc.b $74 
		dc.b  $F
		dc.b $3E 
		dc.b $4E 
		dc.b $A0 
		dc.b   0
		dc.b $90 
		dc.l loc_10F3A+4
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   1
		dc.b  $F
		dc.b $3E 
		dc.b $46 
		dc.b $80 
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b $3E 
		dc.b  $F
		dc.b $37 
		dc.b $46 
		dc.b $90 
		dc.b   0
		dc.b $78 
		dc.b   0
		dc.b $74 
		dc.b  $F
		dc.b $38 
		dc.b $46 
		dc.b $A0 
		dc.b   0
		dc.b $48 
		dc.b   0
		dc.b $AA 
		dc.b  $F
		dc.b $39 
		dc.b $56 
		dc.b $90 
		dc.b   0
		dc.b $78 
		dc.b   0
		dc.b $74 
		dc.b  $F
		dc.b $3A 
		dc.b $4E 
		dc.b $A0 
		dc.b   0
		dc.b $A8 
		dc.b   0
		dc.b $56 
		dc.b  $F
		dc.b $3B 
		dc.b $46 
		dc.b $B0 
		dc.b   0
		dc.b $5C 
		dc.b   0
		dc.b $56 
		dc.b  $F
		dc.b $3C 
		dc.b $4E 
		dc.b $B0 
		dc.b   0
		dc.b $94 
		dc.b   0
		dc.b $92 
		dc.b  $F
		dc.b $3D 
		dc.b $56 
		dc.b $B0 
		dc.b   0
		dc.b $5C 
		dc.b   0
		dc.b $92 
		dc.b  $F
		dc.b $3E 
		dc.b $5E 
		dc.b $B0 
		dc.b   0
		dc.b $94 
unk_8914:
		dc.b   0                ; related to cursor data?
		dc.b $74 
		dc.b  $F
		dc.b $3F 
		dc.b $46 
		dc.b $C0 
		dc.b   0
		dc.b $78 
loc_891C:
		addq.b  #1,((byte_FFB4C8-$1000000)).w
		lea     (word_FF0C98).l,a1
		move.w  ((SCREEN_ADJUSTED_CURSOR_Y-$1000000)).w,d0
		addi.w  #$70,d0 
		ext.w   d2
		add.w   d2,d0
		move.w  d0,(a1)+
		move.w  #$A08,(a1)+
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d1,-(sp)
		jsr     j_GetTargetID
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$4100,d0
		btst    #3,((byte_FFB4C8-$1000000)).w
		bne.s   loc_895E
		addi.w  #9,d0
loc_895E:
		btst    #7,d1
		beq.s   loc_8968
		addi.w  #$2000,d0
loc_8968:
		move.w  (sp)+,d1
		move.w  d0,(a1)+
		move.w  ((SCREEN_ADJUSTED_CURSOR_X-$1000000)).w,d0
		addi.w  #$7C,d0 
		ext.w   d1
		add.w   d1,d0
		move.w  d0,(a1)+
		move.l  #$10F04,(dword_FF0E30).l
		rts

	; End of function sub_87D2


; =============== S U B R O U T I N E =======================================

sub_8986:
		clr.w   d1
		clr.w   d2
		clr.w   d3
		clr.w   d4
		move.b  ((byte_FFB4C0-$1000000)).w,d3
		move.b  ((byte_FFB4C1-$1000000)).w,d4
		ext.w   d3
		ext.w   d4
		add.w   d3,d3
		add.w   d4,d4
		addi.w  #-$10,d3
		addi.w  #$14,d4
		moveq   #5,d7
loc_89A8:
		clr.b   ((byte_FFB4C4-$1000000)).w
		move.w  d7,-(sp)
		bsr.w   sub_8A22
		move.w  (sp)+,d7
		move.w  d7,-(sp)
		bsr.w   sub_8A8A
		move.w  (sp)+,d7
		movem.w d1-d7,-(sp)
		bsr.w   sub_99CC
		movem.w (sp)+,d1-d7
		tst.b   ((byte_FFB4C4-$1000000)).w
		beq.s   loc_89DA
		movem.w d1-d7,-(sp)
		bsr.w   sub_8DE2        
		movem.w (sp)+,d1-d7
loc_89DA:
		move.w  d7,-(sp)
		bsr.w   sub_89FE
		move.w  (sp)+,d7
		cmpi.b  #1,((byte_FFB538-$1000000)).w
		bne.s   loc_89F8
		cmpi.w  #3,d7
		bne.s   loc_89F8
		move.w  d7,-(sp)
		bsr.w   sub_DF08
		move.w  (sp)+,d7
loc_89F8:
		dbf     d7,loc_89A8
locret_89FC:
		rts

	; End of function sub_8986


; =============== S U B R O U T I N E =======================================

sub_89FE:
		move.b  ((byte_FFB4C2-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d1
		move.b  ((byte_FFB4C3-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d2
		move.w  d7,-(sp)
		bsr.w   sub_87D2
		move.w  (sp)+,d7
		tst.w   d7
		beq.s   locret_8A20
		jmp     (j_WaitForVInt).l
locret_8A20:
		rts

	; End of function sub_89FE


; =============== S U B R O U T I N E =======================================

sub_8A22:
		tst.b   ((byte_FFB4C0-$1000000)).w
		beq.s   locret_89FC
		bgt.w   loc_8A6A
		cmpi.w  #5,d7
		bne.w   loc_8A52
		move.w  d3,d6
loc_8A36:
		jsr     (j_ClearOtherHScrollStuff).l
		move.b  ((byte_FFB4C0-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d3
		asr.w   #2,d0
		add.b   d0,((SCREEN_POSITION-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts
loc_8A52:
		move.w  d3,d6
		jsr     (j_ClearOtherHScrollStuff).l
		jsr     (j_SetVIntParam3).l
		move.b  ((byte_FFB4C0-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d3
		rts
loc_8A6A:
		tst.w   d7
		bne.s   loc_8A52
		moveq   #$FFFFFFFC,d6
		jsr     (j_ClearOtherHScrollStuff).l
		move.b  ((byte_FFB4C0-$1000000)).w,d0
		ext.w   d0
		asr.w   #2,d0
		add.b   d0,((SCREEN_POSITION-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts

	; End of function sub_8A22


; =============== S U B R O U T I N E =======================================

sub_8A8A:
		tst.b   ((byte_FFB4C1-$1000000)).w
		beq.w   locret_89FC
		blt.w   loc_8AD4
		cmpi.w  #5,d7
		bne.w   loc_8ABC
		move.w  d4,d6
		jsr     (j_ClearOtherVScrollStuff).l
		move.b  ((byte_FFB4C1-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d4
		asr.w   #2,d0
		sub.b   d0,((SCREEN_POSITION+1-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts
loc_8ABC:
		move.w  d4,d6
		jsr     (j_ClearOtherVScrollStuff).l
		jsr     (j_SetVIntParam3).l
		move.b  ((byte_FFB4C1-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d4
		rts
loc_8AD4:
		tst.w   d7
		bne.s   loc_8ABC
		moveq   #8,d6
		jsr     (j_ClearOtherVScrollStuff).l
		move.b  ((byte_FFB4C1-$1000000)).w,d0
		ext.w   d0
		asr.w   #2,d0
		sub.b   d0,((SCREEN_POSITION+1-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts

	; End of function sub_8A8A


; =============== S U B R O U T I N E =======================================

sub_8AF4:
		clr.w   d1
		clr.w   d2
		clr.w   d3
		clr.w   d4
		move.b  ((byte_FFB4C0-$1000000)).w,d3
		ext.w   d3
		asr.w   #1,d3
		move.b  d3,((byte_FFB4C0-$1000000)).w
		move.w  d3,d0
		asl.w   #2,d3
		add.w   d0,d3
		addi.w  #-$10,d3
		move.b  ((byte_FFB4C1-$1000000)).w,d4
		ext.w   d4
		asr.w   #1,d4
		move.b  d4,((byte_FFB4C1-$1000000)).w
		move.w  d4,d0
		asl.w   #2,d4
		add.w   d0,d4
		addi.w  #$14,d4
		moveq   #$B,d7
loc_8B2A:
		clr.b   ((byte_FFB4C4-$1000000)).w
		move.w  d7,-(sp)
		bsr.w   sub_8BA8
		move.w  (sp)+,d7
		move.w  d7,-(sp)
		bsr.w   sub_8C12
		move.w  (sp)+,d7
		movem.w d1-d7,-(sp)
		bsr.w   sub_99CC
		movem.w (sp)+,d1-d7
		tst.b   ((byte_FFB4C4-$1000000)).w
		beq.s   loc_8B5C
		movem.w d1-d7,-(sp)
		bsr.w   sub_8DE2        
		movem.w (sp)+,d1-d7
loc_8B5C:
		move.w  d7,-(sp)
		bsr.w   sub_8B80
		move.w  (sp)+,d7
		cmpi.b  #1,((byte_FFB538-$1000000)).w
		bne.s   loc_8B7A
		cmpi.w  #3,d7
		bne.s   loc_8B7A
		move.w  d7,-(sp)
		bsr.w   sub_DF08
		move.w  (sp)+,d7
loc_8B7A:
		dbf     d7,loc_8B2A
		rts

	; End of function sub_8AF4


; =============== S U B R O U T I N E =======================================

sub_8B80:
		move.b  ((byte_FFB4C2-$1000000)).w,d0
		ext.w   d0
		lsr.w   #1,d0
		sub.w   d0,d1
		move.b  ((byte_FFB4C3-$1000000)).w,d0
		ext.w   d0
		lsr.w   #1,d0
		sub.w   d0,d2
		move.w  d7,-(sp)
		bsr.w   sub_87D2
		move.w  (sp)+,d7
		tst.w   d7
		beq.s   locret_8BA6
		jmp     (j_WaitForVInt).l
locret_8BA6:
		rts

	; End of function sub_8B80


; =============== S U B R O U T I N E =======================================

sub_8BA8:
		tst.b   ((byte_FFB4C0-$1000000)).w
		beq.w   locret_89FC
		bgt.w   loc_8BF2
		cmpi.w  #$B,d7
		bne.w   loc_8BDA
		move.w  d3,d6
		jsr     (j_ClearOtherHScrollStuff).l
		move.b  ((byte_FFB4C0-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d3
		asr.w   #1,d0
		add.b   d0,((SCREEN_POSITION-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts
loc_8BDA:
		move.w  d3,d6
		jsr     (j_ClearOtherHScrollStuff).l
		jsr     (j_SetVIntParam3).l
		move.b  ((byte_FFB4C0-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d3
		rts
loc_8BF2:
		tst.w   d7
		bne.s   loc_8BDA
		moveq   #$FFFFFFFC,d6
		jsr     (j_ClearOtherHScrollStuff).l
		move.b  ((byte_FFB4C0-$1000000)).w,d0
		ext.w   d0
		asr.w   #1,d0
		add.b   d0,((SCREEN_POSITION-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts

	; End of function sub_8BA8


; =============== S U B R O U T I N E =======================================

sub_8C12:
		tst.b   ((byte_FFB4C1-$1000000)).w
		beq.w   locret_89FC
		blt.w   loc_8C5C
		cmpi.w  #$B,d7
		bne.w   loc_8C44
		move.w  d4,d6
		jsr     (j_ClearOtherVScrollStuff).l
		move.b  ((byte_FFB4C1-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d4
		asr.w   #1,d0
		sub.b   d0,((SCREEN_POSITION+1-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts
loc_8C44:
		move.w  d4,d6
		jsr     (j_ClearOtherVScrollStuff).l
		jsr     (j_SetVIntParam3).l
		move.b  ((byte_FFB4C1-$1000000)).w,d0
		ext.w   d0
		sub.w   d0,d4
		rts
loc_8C5C:
		tst.w   d7
		bne.s   loc_8C44
		moveq   #8,d6
		jsr     (j_ClearOtherVScrollStuff).l
		move.b  ((byte_FFB4C1-$1000000)).w,d0
		ext.w   d0
		asr.w   #1,d0
		sub.b   d0,((SCREEN_POSITION+1-$1000000)).w
		move.b  #1,((byte_FFB4C4-$1000000)).w
		rts

	; End of function sub_8C12


; =============== S U B R O U T I N E =======================================

sub_8C7C:
		clr.b   ((byte_FFB538-$1000000)).w
		clr.l   ((byte_FFB4C0-$1000000)).w
		bsr.w   sub_87AA
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_8C96
		bsr.w   sub_86DA
loc_8C96:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_8CA4
		bsr.w   sub_8650
loc_8CA4:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_8CB2
		bsr.w   sub_853E
loc_8CB2:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_8CC0
		bsr.w   sub_85C2
loc_8CC0:
		tst.l   ((byte_FFB4C0-$1000000)).w
		beq.s   locret_8CD2
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bsr.w   sub_8986
		bsr.w   sub_9940
locret_8CD2:
		rts

	; End of function sub_8C7C


; =============== S U B R O U T I N E =======================================

sub_8CD4:
		move.l  a0,-(sp)
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_8CE4
		move.b  #1,((byte_FFB538-$1000000)).w
		bra.s   loc_8CEA
loc_8CE4:
		move.b  #2,((byte_FFB538-$1000000)).w
loc_8CEA:
		clr.l   ((byte_FFB4C0-$1000000)).w
		bsr.w   sub_87AA
		clr.w   d1
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d1
		mulu.w  ((MAP_WIDTH-$1000000)).w,d1
		clr.w   d0
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		add.w   d1,d0
		lea     (byte_FFA4C0).l,a0
		adda.w  d0,a0
		btst    #INPUT_A_UP_BIT,(P1_INPUT).l
		beq.s   loc_8D1C
		bsr.w   sub_853E
		bra.s   loc_8D4A
loc_8D1C:
		btst    #INPUT_A_DOWN_BIT,(P1_INPUT).l
		beq.s   loc_8D2C
		bsr.w   sub_85C2
		bra.s   loc_8D4A
loc_8D2C:
		btst    #INPUT_A_LEFT_BIT,(P1_INPUT).l
		beq.s   loc_8D3C
		bsr.w   sub_86DA
		bra.s   loc_8D4A
loc_8D3C:
		btst    #INPUT_A_RIGHT_BIT,(P1_INPUT).l
		beq.s   loc_8D4A
		bsr.w   sub_8650
loc_8D4A:
		tst.l   ((byte_FFB4C0-$1000000)).w
		beq.s   loc_8D62
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_8D5A
		trap    #SOUND_COMMAND
		dc.w SFX_WALKING
loc_8D5A:
		bsr.w   sub_8AF4
		bsr.w   sub_9940
loc_8D62:
		movea.l (sp)+,a0
		rts

	; End of function sub_8CD4


; =============== S U B R O U T I N E =======================================

sub_8D66:
		move.b  #2,((byte_FFB538-$1000000)).w
		bra.s   loc_8D74

	; End of function sub_8D66


; =============== S U B R O U T I N E =======================================

sub_8D6E:
		move.b  #1,((byte_FFB538-$1000000)).w
loc_8D74:
		clr.w   d1
		move.b  (a0)+,d1
		move.l  a0,-(sp)
		move.w  d1,-(sp)
		move.w  d1,-(sp)
		clr.l   ((byte_FFB4C0-$1000000)).w
		bsr.w   sub_87AA
		clr.w   d1
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d1
		mulu.w  ((MAP_WIDTH-$1000000)).w,d1
		clr.w   d0
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		add.w   d1,d0
		lea     (byte_FFA4C0).l,a0
		adda.w  d0,a0
		move.w  (sp)+,d1
		cmpi.w  #3,d1
		bhi.w   loc_8DD8
		add.w   d1,d1
		move.w  off_8DB8(pc,d1.w),d1
		jsr     off_8DB8(pc,d1.w)
		bra.w   loc_8DC0
off_8DB8:
		dc.w sub_853E+$10000-off_8DB8
		dc.w sub_85C2+$10000-off_8DB8
		dc.w sub_8650+$10000-off_8DB8
		dc.w sub_86DA+$10000-off_8DB8
loc_8DC0:
		tst.l   ((byte_FFB4C0-$1000000)).w
		beq.s   loc_8DD8
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_8DD0
		trap    #SOUND_COMMAND
		dc.w SFX_WALKING
loc_8DD0:
		bsr.w   sub_8AF4
		bsr.w   sub_9940
loc_8DD8:
		move.w  (sp)+,d0
		movea.l (sp)+,a0
		rts

	; End of function sub_8D6E


; =============== S U B R O U T I N E =======================================

sub_8DDE:
		rts

	; End of function sub_8DDE


; =============== S U B R O U T I N E =======================================

nullsub_4:
		rts

	; End of function nullsub_4


; =============== S U B R O U T I N E =======================================

; Update screen after tile changes

sub_8DE2:
		lea     (byte_FFE000).l,a1
		move.w  ((MAP_WIDTH-$1000000)).w,d0
		move.w  d0,d1
		add.w   d0,d0
		add.w   d1,d0
		clr.w   d1
		clr.w   d2
		move.b  ((SCREEN_POSITION-$1000000)).w,d1
		move.b  ((SCREEN_POSITION+1-$1000000)).w,d2
		mulu.w  d0,d2
		add.w   d2,d1
		move.l  d1,-(sp)
		add.w   d1,d1
		move.l  (sp)+,d2
		add.w   d2,d1
		add.w   d1,d1
		lea     (MAP_SPRITE_POSITION).l,a0
		adda.w  d1,a0
loc_8E14:
		move.w  ((MAP_WIDTH-$1000000)).w,d0
		move.w  d0,d1
		add.w   d0,d0
		add.w   d1,d0
		subi.w  #$40,d0 
		add.w   d0,d0
		moveq   #$1F,d1
loc_8E26:
		moveq   #$3F,d2 
loc_8E28:
		move.w  (a0)+,(a1)+
		dbf     d2,loc_8E28
		adda.w  d0,a0
		dbf     d1,loc_8E26
		lea     (byte_FFE000).l,a0
		lea     ($E000).l,a1
		move.w  #$800,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3).l

	; End of function sub_8DE2


; =============== S U B R O U T I N E =======================================

sub_8E52:
		move.b  d0,((byte_FFB51F-$1000000)).w
		lsr.w   #8,d0
		move.b  d0,((byte_FFB51E-$1000000)).w
loc_8E5C:
		clr.l   ((byte_FFB4C0-$1000000)).w
		bsr.w   sub_87AA
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		cmp.b   ((byte_FFB51E-$1000000)).w,d0
		ble.s   loc_8E76
		bsr.w   sub_86DA
		bra.w   loc_8E7C
loc_8E76:
		bge.s   loc_8E7C
		bsr.w   sub_8650
loc_8E7C:
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		cmp.b   ((byte_FFB51F-$1000000)).w,d0
		ble.s   loc_8E8C
		bsr.w   sub_853E
		bra.s   loc_8E92
loc_8E8C:
		bge.s   loc_8E92
		bsr.w   sub_85C2
loc_8E92:
		tst.l   ((byte_FFB4C0-$1000000)).w
		beq.s   loc_8EA0
		bsr.w   sub_8986
		bsr.w   sub_9940
loc_8EA0:
		jsr     (j_WaitForVInt).l
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		sub.b   ((byte_FFB51E-$1000000)).w,d0
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d1
		sub.b   ((byte_FFB51F-$1000000)).w,d1
		or.b    d1,d0
		bne.s   loc_8E5C
		rts

	; End of function sub_8E52


; =============== S U B R O U T I N E =======================================

sub_8EBC:
		lea     ((byte_FF9C08-$1000000)).w,a0
		move.l  a0,-(sp)
		moveq   #$F,d7
loc_8EC4:
		clr.l   (a0)+
		dbf     d7,loc_8EC4
		movea.l (sp)+,a0
		clr.w   d0
		moveq   #$1F,d7
loc_8ED0:
		move.w  d7,-(sp)
		jsr     j_GetTargetAGI
		cmpi.b  #$FF,d1
		bne.w   loc_8EE8
		clr.w   d1
		moveq   #$FFFFFFFF,d2
		bra.w   loc_8F26
loc_8EE8:
		move.w  d1,d5
		ble.w   loc_8F18
		move.w  d5,d6
		mulu.w  #$33,d6 
		addi.w  #$80,d6 
		lsr.w   #8,d6
		sub.w   d6,d5
		addq.w  #1,d6
		jsr     (j_UpdateRandomSeed).w
		add.w   d7,d5
		jsr     (j_UpdateRandomSeed).w
		add.w   d7,d5
		moveq   #3,d6
		jsr     (j_UpdateRandomSeed).w
		subq.w  #1,d7
		add.w   d7,d5
		bra.w   loc_8F22
loc_8F18:
		moveq   #4,d6
		jsr     (j_UpdateRandomSeed).w
		lsr.w   #1,d7
		move.w  d7,d5
loc_8F22:
		move.w  d5,d1
		move.b  d0,d2
loc_8F26:
		move.w  (sp)+,d7
		move.b  d2,(a0)+
		move.b  d1,(a0)+
		addq.w  #1,d0
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_8F38
		dbf     d7,loc_8ED0
loc_8F38:
		moveq   #$1D,d6
loc_8F3A:
		moveq   #$1E,d7
		lea     ((byte_FF9C08-$1000000)).w,a0
loc_8F40:
		move.w  (a0),d0
		move.w  2(a0),d1
		cmp.b   d0,d1
		ble.s   loc_8F50
		move.w  d1,(a0)
		move.w  d0,2(a0)
loc_8F50:
		addq.l  #2,a0
		dbf     d7,loc_8F40
		dbf     d6,loc_8F3A
		rts

	; End of function sub_8EBC


; =============== S U B R O U T I N E =======================================

sub_8F5C:
		move.b  ((CURRENT_REGION-$1000000)).w,d0
		ext.w   d0
		bpl.s   loc_8F7A
		lea     unk_8FBE(pc), a0
		nop
		moveq   #$23,d0 
		jsr     (j_CheckEventFlag).l
		beq.s   loc_8F76
		addq.l  #8,a0
loc_8F76:
		bra.w   loc_8F8C
loc_8F7A:
		clr.w   d1
		move.b  ((CURRENT_CHAPTER-$1000000)).w,d1
		subq.w  #1,d1
		lsl.w   #2,d1
		movea.l off_8F9E(pc,d1.w),a0
		lsl.w   #3,d0
		adda.w  d0,a0
loc_8F8C:
		clr.w   d0
		move.b  (a0)+,d0
		trap    #SOUND_COMMAND
		dc.w SOUND_COMMAND_GET_D0_PARAMETER
		move.b  (a0)+,d0
		move.w  (a0)+,d1
		move.w  (a0)+,d2
		move.w  (a0)+,d3
		rts

	; End of function sub_8F5C

off_8F9E:       dc.l unk_8FCE
		dc.l unk_9006
		dc.l unk_9036
		dc.l unk_904E
		dc.l unk_907E
		dc.l unk_909E
		dc.l unk_90BE
		dc.l unk_90DE
unk_8FBE:       dc.b $12
		dc.b  $B
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $12
		dc.b $26 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
unk_8FCE:       dc.b   8
		dc.b $12
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b   1
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $10
		dc.b   4
		dc.b   0
		dc.b   6
		dc.b   0
		dc.b   6
		dc.b $FF
		dc.b $FF
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   8
		dc.b $12
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
unk_9006:       dc.b   8
		dc.b $13
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   8
		dc.b $13
		dc.b   0
		dc.b   0
		dc.l algn_FD58+$2A7
		dc.b   8
		dc.b $13
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $1A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $10
		dc.b  $F
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $10
		dc.b   8
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   2
		dc.b $FF
		dc.b $FF
unk_9036:       dc.b   8
		dc.b $15
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $1C
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $1E
		dc.b  $A
		dc.b $23 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
unk_904E:       dc.b   8
		dc.b $14
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   8
		dc.b $14
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $1D
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $1D
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $1D
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $10
		dc.b $1D
		dc.b   0
		dc.b $29 
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
unk_907E:       dc.b $13
		dc.b $19
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $21 
		dc.b $29 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $2A 
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   9
		dc.b $FF
		dc.b $FF
		dc.b $21 
		dc.b $29 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
unk_909E:       dc.b   8
		dc.b $16
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   8
		dc.b $16
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $10
		dc.b $1F
		dc.b   0
		dc.b  $F
		dc.b   0
		dc.b  $E
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $1B
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
unk_90BE:       dc.b   8
		dc.b $17
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   8
		dc.b $17
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $24 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $D
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $10
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b $25 
		dc.b $FF
		dc.b $FF
unk_90DE:       dc.b   8
		dc.b $18
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $25 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $25 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $11
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $27 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b   9
		dc.b $27 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $17
		dc.b $2B 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b $24 
		dc.b $2B 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
		dc.b  $A
		dc.b $11
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF

; =============== S U B R O U T I N E =======================================

sub_9126:
		bsr.w   sub_8F5C
		move.w  d3,-(sp)
		move.w  d0,-(sp)
		move.b  d0,((byte_FFF807-$1000000)).w
		move.w  ((MAP_WIDTH-$1000000)).w,d3
		move.w  ((MAP_HEIGHT-$1000000)).w,d4
		movem.w d1-d4,-(sp)
		movea.l (p_pt_Maps).l,a0
		lsl.w   #5,d0
		adda.w  d0,a0
		movea.l (a0)+,a1
		move.l  a1,((dword_FFF910-$1000000)).w
		movea.l (a0)+,a2
		move.l  a2,((dword_FFF914-$1000000)).w
		addq.l  #8,a0
		movea.l (a0)+,a3
		move.l  a3,((dword_FFF920-$1000000)).w
		movea.l (a0)+,a4
		tst.w   (a0)+
		move.b  (a0),d0
		movem.l a1-a4,-(sp)
		move.w  d0,-(sp)
		andi.w  #$F0,d0 
		lsr.w   #2,d0
		movea.l (p_pt_MapTilesets).l,a0
		movea.l (a0,d0.w),a0
		lea     ($77C0).w,a1
		move.w  #$1000,d0
		moveq   #2,d1
		jsr     (sub_294).l
		move.w  (sp)+,d0
		move.w  d0,d1
		andi.w  #$F0,d1 
		lsr.w   #2,d1
		movea.l (off_58010).l,a0
		movea.l (a0,d1.w),a0
		andi.w  #$F,d0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		lea     ($97C0).l,a1
		move.w  #$1000,d0
		moveq   #2,d1
		jsr     (sub_294).l
		movem.l (sp)+,a1-a4
		lea     (word_FF0082).l,a0
		move.l  (a4)+,(a0)+
		move.l  (a4)+,(a0)+
		move.l  (a4)+,(a0)+
		move.l  (a4)+,(a0)+
		move.l  (a4)+,(a0)+
		move.l  (a4)+,(a0)+
		move.l  (a4)+,(a0)+
		move.w  (a4)+,(a0)+
		movem.l a1-a2,-(sp)
		movea.l a3,a0
		move.l  #FF3000_LOADING_SPACE,((dword_FFF006-$1000000)).w
		clr.w   d0
		jsr     sub_10014
		movem.l (sp)+,a1-a2
		movem.w (sp)+,d1-d4
		lea     (FF3000_LOADING_SPACE).l,a4
		lea     (MAP_SPRITE_POSITION).l,a3
		clr.w   d5
		move.b  (MAP_WIDTH_0).l,d5
		move.w  d5,d6
		mulu.w  d2,d5
		add.w   d1,d5
		add.w   d5,d5
		adda.w  d5,a4
		sub.w   d3,d6
		add.w   d6,d6
		move.w  d6,d2
		move.w  d3,d5
		add.w   d5,d5
		move.w  d5,d1
		add.w   d5,d5
		add.w   d1,d5
		move.w  d5,d6
		subq.l  #4,d5
		add.w   d6,d6
		move.w  d6,d7
		subq.l  #2,d6
		subq.w  #1,d4
		subq.w  #1,d3
loc_922C:
		move.w  d3,-(sp)
loc_922E:
		move.w  (a4)+,d0
		andi.w  #$3FF,d0
		cmpi.w  #$294,d0
		bge.s   loc_923E
		movea.l a1,a0
		bra.s   loc_9244
loc_923E:
		movea.l a2,a0
		subi.w  #$294,d0
loc_9244:
		add.w   d0,d0
		move.w  d0,d1
		lsl.w   #3,d0
		add.w   d1,d0
		adda.w  d0,a0
		move.l  (a0)+,(a3)+
		move.w  (a0)+,(a3)
		adda.w  d5,a3
		move.l  (a0)+,(a3)+
		move.w  (a0)+,(a3)
		adda.w  d5,a3
		move.l  (a0)+,(a3)+
		move.w  (a0)+,(a3)
		suba.w  d6,a3
		dbf     d3,loc_922E
		adda.w  d7,a3
		adda.w  d2,a4
		move.w  (sp)+,d3
		dbf     d4,loc_922C
		bsr.w   sub_93C4
		bsr.w   sub_96AE
		move.w  (sp)+,d0
		clr.w   d0
		move.b  ((CURRENT_REGION-$1000000)).w,d0
		bpl.s   loc_9286
		moveq   #6,d0
		bra.w   loc_92A0
loc_9286:
		clr.w   d1
		move.b  ((CURRENT_CHAPTER-$1000000)).w,d1
		subq.w  #1,d1
		lea     byte_93BC(pc), a0
		add.b   (a0,d1.w),d0
		lea     unk_938A(pc), a0
		nop
		move.b  (a0,d0.w),d0
loc_92A0:
		lea     off_930E(pc), a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		move.w  (a0)+,d0
		blt.s   loc_92DA
		move.l  a0,-(sp)
		movea.l (p_pt_TileAnimations).l,a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		jsr     (j_DecompressGraphics).l
		lea     (FF3000_LOADING_SPACE).l,a0
		lea     (byte_FF4900).l,a1
		move.w  #$1BF,d7
loc_92D2:
		move.l  (a0)+,(a1)+
		dbf     d7,loc_92D2
		movea.l (sp)+,a0
loc_92DA:
		move.w  (a0)+,((word_FFBC60-$1000000)).w
		move.w  (a0)+,((word_FFBC62-$1000000)).w
		move.w  (a0)+,((word_FFBC64-$1000000)).w
		move.w  #1,((word_FFBC66-$1000000)).w
		clr.w   ((word_FFBC68-$1000000)).w
		lea     ((byte_FFB5B1-$1000000)).w,a1
		moveq   #$A,d7
		jsr     (j_CopyBytes).l
		move.w  (sp)+,d0
		tst.b   ((CURRENT_MAP_VERSION-$1000000)).w
		blt.s   locret_930C
		tst.w   d0
		blt.s   locret_930C
		move.w  d0,((MAP_HEIGHT-$1000000)).w
locret_930C:
		rts

	; End of function sub_9126

off_930E:       dc.l unk_932A
		dc.l byte_9336
		dc.l byte_9348
		dc.l byte_9354
		dc.l byte_9360
		dc.l byte_936C
		dc.l byte_937E
unk_932A:       dc.b $FF
		dc.b $FF
		dc.b   0
		dc.b   9
		dc.b   3
		dc.b $40 
		dc.b $27 
		dc.b $10
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
byte_9336:      dc.b 0
		dc.b   0
		dc.b   0
		dc.b   9
		dc.b   4
		dc.b $B3 
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   1
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $FF
		dc.b $FF
byte_9348:      dc.b 0
		dc.b   1
		dc.b   0
		dc.b  $B
		dc.b   4
		dc.b $C3 
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   1
		dc.b $FF
		dc.b $FF
byte_9354:      dc.b 0
		dc.b   2
		dc.b   0
		dc.b  $D
		dc.b   5
		dc.b $1E
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   1
		dc.b $FF
		dc.b $FF
byte_9360:      dc.b 0
		dc.b   3
		dc.b   0
		dc.b  $C
		dc.b   3
		dc.b $D1 
		dc.b   0
		dc.b $14
		dc.b   0
		dc.b   1
		dc.b $FF
		dc.b $FF
byte_936C:      dc.b 0
		dc.b   4
		dc.b   0
		dc.b   2
		dc.b   4
		dc.b  $C
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   1
		dc.b   2
		dc.b   3
		dc.b   4
		dc.b   5
		dc.b   6
		dc.b   7
		dc.b $FF
		dc.b $FF
byte_937E:      dc.b 0
		dc.b   5
		dc.b   0
		dc.b   4
		dc.b   5
		dc.b $7B 
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   1
		dc.b $FF
		dc.b $FF
unk_938A:       dc.b   5
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   5
		dc.b   5
		dc.b   5
		dc.b   5
		dc.b   0
		dc.b   0
		dc.b 0
		dc.b   5
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   5
		dc.b   5
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   4
		dc.b   0
		dc.b   4
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   5
		dc.b   5
		dc.b   2
		dc.b   3
		dc.b   0
		dc.b   0
		dc.b   5
		dc.b   5
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   5
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   1
byte_93BC:      dc.b 0
		dc.b   7
		dc.b  $D
		dc.b $11
		dc.b $17
		dc.b $1E
		dc.b $24 
		dc.b $2A 

; =============== S U B R O U T I N E =======================================

sub_93C4:
		clr.w   d0
		move.b  ((CURRENT_REGION-$1000000)).w,d0
		bmi.w   locret_95E2
		clr.w   d1
		move.b  ((CURRENT_CHAPTER-$1000000)).w,d1
		subq.w  #1,d1
		add.b   byte_93BC(pc,d1.w),d0
		add.w   d0,d0
		move.w  off_93E4(pc,d0.w),d0
		jmp     off_93E4(pc,d0.w)
off_93E4:
		dc.w loc_944C-off_93E4
		dc.w loc_945C-off_93E4
		dc.w locret_9484-off_93E4
		dc.w locret_9484-off_93E4
		dc.w locret_9484-off_93E4
		dc.w locret_9484-off_93E4
		dc.w locret_9484-off_93E4
		dc.w locret_9486-off_93E4
		dc.w loc_9498-off_93E4
		dc.w loc_9488-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94A8-off_93E4
		dc.w locret_94AA-off_93E4
		dc.w loc_94AC-off_93E4
		dc.w locret_94BC-off_93E4
		dc.w loc_94CE-off_93E4
		dc.w loc_94BE-off_93E4
		dc.w loc_94DE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w locret_94EE-off_93E4
		dc.w loc_94F0-off_93E4
		dc.w locret_9500-off_93E4
		dc.w locret_9500-off_93E4
		dc.w locret_9500-off_93E4
		dc.w locret_9500-off_93E4
		dc.w locret_9500-off_93E4
		dc.w locret_9500-off_93E4
		dc.w loc_9502-off_93E4
		dc.w loc_9512-off_93E4
		dc.w locret_9542-off_93E4
		dc.w locret_9542-off_93E4
		dc.w locret_9542-off_93E4
		dc.w locret_9542-off_93E4
		dc.w locret_9542-off_93E4
		dc.w loc_9544-off_93E4
		dc.w loc_9554-off_93E4
		dc.w locret_9564-off_93E4
		dc.w loc_9566-off_93E4
		dc.w locret_9576-off_93E4
		dc.w loc_9578-off_93E4
		dc.w locret_95E2-off_93E4
		dc.w locret_95E2-off_93E4
loc_944C:
		moveq   #$20,d1 
		moveq   #0,d2
		moveq   #$15,d3
		moveq   #$17,d4
		moveq   #5,d5
		moveq   #6,d6
		bra.w   sub_95E4
loc_945C:
		moveq   #$32,d0 
		jsr     (j_CheckEventFlag).l
		bne.w   locret_95E2
		moveq   #$11,d1
		moveq   #0,d2
		moveq   #2,d3
		moveq   #7,d4
		moveq   #5,d5
		moveq   #$C,d6
		bra.w   sub_95E4
		moveq   #$28,d0 
		jsr     (j_CheckEventFlag).l
		bne.w   locret_95E2
locret_9484:
		rts
locret_9486:
		rts
loc_9488:
		moveq   #$20,d1 
		moveq   #$19,d2
		moveq   #$1C,d3
		moveq   #$19,d4
		moveq   #0,d5
		moveq   #0,d6
		bsr.w   sub_95E4
loc_9498:
		moveq   #$20,d1 
		moveq   #$1A,d2
		moveq   #$19,d3
		moveq   #$1B,d4
		moveq   #0,d5
		moveq   #1,d6
		bra.w   sub_95E4
locret_94A8:
		rts
locret_94AA:
		rts
loc_94AC:
		moveq   #2,d1
		moveq   #4,d2
		moveq   #$2A,d3 
		moveq   #$B,d4
		moveq   #1,d5
		moveq   #0,d6
		bra.w   sub_95E4
locret_94BC:
		rts
loc_94BE:
		moveq   #$26,d1 
		moveq   #$10,d2
		moveq   #9,d3
		moveq   #7,d4
		moveq   #0,d5
		moveq   #0,d6
		bra.w   sub_95E4
loc_94CE:
		moveq   #$26,d1 
		moveq   #$10,d2
		moveq   #$10,d3
		moveq   #$B,d4
		moveq   #0,d5
		moveq   #0,d6
		bra.w   sub_95E4
loc_94DE:
		moveq   #$57,d1 
		moveq   #$19,d2
		moveq   #5,d3
		moveq   #$11,d4
		moveq   #1,d5
		moveq   #1,d6
		bra.w   sub_95E4
locret_94EE:
		rts
loc_94F0:
		moveq   #0,d1
		moveq   #$20,d2 
		moveq   #$D,d3
		moveq   #$1D,d4
		moveq   #1,d5
		moveq   #1,d6
		bra.w   sub_95E4
locret_9500:
		rts
loc_9502:
		moveq   #0,d1
		moveq   #$20,d2 
		moveq   #$F,d3
		moveq   #$1E,d4
		moveq   #0,d5
		moveq   #0,d6
		bra.w   sub_95E4
loc_9512:
		moveq   #$13,d1
		moveq   #$2F,d2 
		moveq   #$F,d3
		moveq   #$16,d4
		moveq   #1,d5
		moveq   #1,d6
		bsr.w   sub_95E4
		moveq   #$15,d1
		moveq   #$2F,d2 
		moveq   #$F,d3
		moveq   #1,d4
		moveq   #0,d5
		moveq   #1,d6
		bsr.w   sub_95E4
		moveq   #1,d1
		moveq   #$2E,d2 
		moveq   #$F,d3
		moveq   #$18,d4
		moveq   #1,d5
		moveq   #0,d6
		bra.w   sub_95E4
locret_9542:
		rts
loc_9544:
		moveq   #$A,d1
		moveq   #$18,d2
		moveq   #$A,d3
		moveq   #$12,d4
		moveq   #6,d5
		moveq   #5,d6
		bra.w   sub_95E4
loc_9554:
		moveq   #$E,d1
		moveq   #0,d2
		moveq   #7,d3
		moveq   #$21,d4 
		moveq   #1,d5
		moveq   #2,d6
		bra.w   sub_95E4
locret_9564:
		rts
loc_9566:
		moveq   #$A,d1
		moveq   #$20,d2 
		moveq   #$E,d3
		moveq   #0,d4
		moveq   #4,d5
		moveq   #5,d6
		bra.w   sub_95E4
locret_9576:
		rts
loc_9578:
		moveq   #4,d0
		bsr.w   sub_9734
		moveq   #$FFFFFF81,d0
		jsr     j_GetForceMemberHP
		tst.w   d1
		bne.s   loc_959A
		moveq   #7,d1
		moveq   #$20,d2 
		moveq   #$B,d3
		moveq   #7,d4
		moveq   #2,d5
		moveq   #2,d6
		bsr.w   sub_95E4
loc_959A:
		moveq   #$FFFFFF80,d0
		jsr     j_GetForceMemberHP
		tst.w   d1
		bne.s   loc_95B6
		moveq   #$A,d1
		moveq   #$20,d2 
		moveq   #$E,d3
		moveq   #9,d4
		moveq   #2,d5
		moveq   #2,d6
		bsr.w   sub_95E4
loc_95B6:
		moveq   #$FFFFFF82,d0
		jsr     j_GetForceMemberHP
		tst.w   d1
		bne.s   loc_95D2
		moveq   #$D,d1
		moveq   #$20,d2 
		moveq   #$11,d3
		moveq   #7,d4
		moveq   #2,d5
		moveq   #2,d6
		bsr.w   sub_95E4
loc_95D2:
		moveq   #0,d1
		moveq   #$20,d2 
		moveq   #$C,d3
		moveq   #2,d4
		moveq   #6,d5
		moveq   #3,d6
		bra.w   sub_95E4
locret_95E2:
		rts

	; End of function sub_93C4


; =============== S U B R O U T I N E =======================================

sub_95E4:
		movem.w d1/d3/d5,-(sp)
loc_95E8:
		bsr.w   loc_960A
		addq.w  #1,d1
		addq.w  #1,d3
		dbf     d5,loc_95E8
		movem.w (sp)+,d1/d3/d5
		addq.w  #1,d2
		addq.w  #1,d4
		dbf     d6,sub_95E4
		rts

	; End of function sub_95E4


; =============== S U B R O U T I N E =======================================

; Wrapper for 9626 - Set tile D3,D4 to D0

sub_9602:
		movem.w d0-d7,-(sp)
		bra.w   loc_9626
loc_960A:
		movem.w d0-d7,-(sp)
		lea     (FF3000_LOADING_SPACE).l,a4
		clr.w   d5
		move.b  (MAP_WIDTH_0).l,d5
		mulu.w  d2,d5
		add.w   d1,d5
		add.w   d5,d5
		adda.w  d5,a4
		move.w  (a4)+,d0
loc_9626:
		move.w  ((MAP_WIDTH-$1000000)).w,d5
		add.w   d5,d5
		move.w  d5,d1
		add.w   d5,d5
		add.w   d1,d5
		subq.l  #4,d5
		lea     (MAP_SPRITE_POSITION).l,a3
		mulu.w  ((MAP_WIDTH-$1000000)).w,d4
		add.w   d4,d4
		move.w  d4,d1
		lsl.w   #3,d4
		add.w   d1,d4
		add.w   d3,d3
		move.w  d3,d1
		add.w   d3,d3
		add.w   d1,d3
		adda.w  d3,a3
		adda.w  d4,a3
		andi.w  #$3FF,d0
		cmpi.w  #$294,d0
		bge.s   loc_9662
		movea.l ((dword_FFF910-$1000000)).w,a0
		bra.s   loc_966A
loc_9662:
		movea.l ((dword_FFF914-$1000000)).w,a0
		subi.w  #$294,d0
loc_966A:
		add.w   d0,d0
		move.w  d0,d1
		lsl.w   #3,d0
		add.w   d1,d0
		adda.w  d0,a0
		move.l  (a0)+,(a3)+
		move.w  (a0)+,(a3)
		adda.w  d5,a3
		move.l  (a0)+,(a3)+
		move.w  (a0)+,(a3)
		adda.w  d5,a3
		move.l  (a0)+,(a3)+
		move.w  (a0)+,(a3)
		movem.w (sp)+,d0-d7
		rts

	; End of function sub_9602


; =============== S U B R O U T I N E =======================================

sub_968A:
		movem.w d1-d6,-(sp)
		movea.l ((dword_FFF920-$1000000)).w,a0
		move.l  #FF3000_LOADING_SPACE,((dword_FFF006-$1000000)).w
		clr.w   d0
		jsr     sub_10014
		movem.w (sp)+,d1-d6
		bsr.w   sub_95E4
		bra.w   sub_8DE2        

	; End of function sub_968A


; =============== S U B R O U T I N E =======================================

sub_96AE:
		clr.w   d7
		move.b  ((CURRENT_CHAPTER-$1000000)).w,d7
		subq.w  #1,d7
		lsl.w   #7,d7
		movea.l (p_BattleChests).l,a0
		adda.w  d7,a0
		move.b  ((CURRENT_REGION-$1000000)).w,d1
		move.w  #$1F,d7
		clr.w   d3
loc_96CA:
		cmp.b   (a0),d1
		bne.s   loc_96F2
		move.w  d3,d0
		jsr     (j_CheckEventFlag).l
		beq.s   loc_96F2
		move.w  d3,-(sp)
		clr.w   d3
		clr.w   d4
		move.b  1(a0),d3
		move.b  2(a0),d4
		moveq   #1,d0
		move.l  a0,-(sp)
		bsr.w   sub_9602        
		movea.l (sp)+,a0
		move.w  (sp)+,d3
loc_96F2:
		addq.w  #1,d3
		addq.l  #4,a0
		dbf     d7,loc_96CA
		rts

	; End of function sub_96AE


; =============== S U B R O U T I N E =======================================

; Change chest tile to open at D1,D2

sub_96FC:
		movem.w d0-d4,-(sp)
		moveq   #1,d0
		clr.w   d3
		clr.w   d4
		move.b  d1,d3
		move.b  d2,d4
		bsr.w   sub_9602        
		bsr.w   sub_8DE2        
		movem.w (sp)+,d0-d4
		rts

	; End of function sub_96FC


; =============== S U B R O U T I N E =======================================

; Change chest tile to closed at D1,D2

sub_9718:
		movem.w d0-d4,-(sp)
		clr.w   d0
		clr.w   d3
		clr.w   d4
		move.b  d1,d3
		move.b  d2,d4
		bsr.w   sub_9602        
		bsr.w   sub_8DE2        
		movem.w (sp)+,d0-d4
		rts

	; End of function sub_9718


; =============== S U B R O U T I N E =======================================

sub_9734:
		lea     byte_9754(pc), a0
		lsl.w   #5,d0
		adda.w  d0,a0
		lea     (PALETTE_1_BIS).l,a1
		lea     (PALETTE_1).l,a2
		moveq   #7,d7
loc_974A:
		move.l  (a0),(a1)+
		move.l  (a0)+,(a2)+
		dbf     d7,loc_974A
		rts

	; End of function sub_9734

byte_9754:      dc.b 0
		dc.b   0
		dc.b   0
		dc.b  $E
		dc.b   2
		dc.b   6
		dc.b   4
		dc.b $66 
		dc.b  $C
		dc.b $A8 
		dc.b   6
		dc.b $64 
		dc.b   4
		dc.b $42 
		dc.b   2
		dc.b $44 
		dc.b   4
		dc.b $20
		dc.b   4
		dc.b $4A 
		dc.b   4
		dc.b $46 
		dc.b   2
		dc.b $26 
		dc.b   2
		dc.b $26 
		dc.b   2
		dc.b   6
		dc.b   0
		dc.b   0
		dc.b   4
		dc.b $68 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $E
		dc.b   2
		dc.b   6
		dc.b   4
		dc.b $66 
		dc.b  $C
		dc.b $A8 
		dc.b   6
		dc.b $64 
		dc.b   4
		dc.b $42 
		dc.b   2
		dc.b $44 
		dc.b   4
		dc.b $20
		dc.b   6
		dc.b $4A 
		dc.b   6
		dc.b $66 
		dc.b   4
		dc.b $48 
		dc.b   2
		dc.b $46 
		dc.b   2
		dc.b   6
		dc.b   0
		dc.b   0
		dc.b   4
		dc.b $46 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $E
		dc.b   2
		dc.b   6
		dc.b   4
		dc.b $66 
		dc.b  $C
		dc.b $A8 
		dc.b   6
		dc.b $64 
		dc.b   4
		dc.b $42 
		dc.b   2
		dc.b $44 
		dc.b   4
		dc.b $20
		dc.b   6
		dc.b $48 
		dc.b   8
		dc.b $88 
		dc.b   4
		dc.b $6A 
		dc.b   4
		dc.b $68 
		dc.b   2
		dc.b $26 
		dc.b   0
		dc.b   0
		dc.b   2
		dc.b $44 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $E
		dc.b   2
		dc.b   6
		dc.b   4
		dc.b $66 
		dc.b  $C
		dc.b $A8 
		dc.b   6
		dc.b $64 
		dc.b   4
		dc.b $42 
		dc.b   2
		dc.b $44 
		dc.b   4
		dc.b $20
		dc.b   8
		dc.b $48 
		dc.b  $C
		dc.b $A8 
		dc.b   6
		dc.b $8A 
		dc.b   4
		dc.b $88 
		dc.b   2
		dc.b $26 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $22 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $E
		dc.b   2
		dc.b   6
		dc.b   4
		dc.b $66 
		dc.b  $C
		dc.b $A8 
		dc.b   6
		dc.b $64 
		dc.b   4
		dc.b $42 
		dc.b   2
		dc.b $44 
		dc.b   4
		dc.b $20
		dc.b  $A
		dc.b $48 
		dc.b  $E
		dc.b $E8 
		dc.b   8
		dc.b $AC 
		dc.b   4
		dc.b $8A 
		dc.b   2
		dc.b $46 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0

; =============== S U B R O U T I N E =======================================

sub_97F4:
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.w   loc_9824
		moveq   #$1F,d7
loc_97FE:
		movem.w d7,-(sp)
		moveq   #$1F,d0
		sub.w   d7,d0
		jsr     j_GetMapSpriteFromForceID
		cmpi.w  #$FFFF,d1
		beq.s   loc_9814
		bsr.s   sub_9872
loc_9814:
		movem.w (sp)+,d7
		dbf     d7,loc_97FE
locret_981C:
		rts
und_981E:
		dc.b 0
		dc.b $9A 
		dc.b $99 
		dc.b $99 
		dc.b $99 
		dc.b   0
loc_9824:
		cmpi.b  #$1E,((byte_FFA1C6-$1000000)).w
		beq.s   locret_981C
		clr.w   d0
		movem.w d0/d2,-(sp)
		moveq   #$38,d0 
		moveq   #$FFFFFFFF,d1
		jsr     (sub_37C).l
		move.b  d2,d1
		movem.w (sp)+,d0/d2
		beq.w   loc_9850
		andi.w  #$FF,d1
		move.b  und_981E(pc,d1.w),d1
		bra.s   loc_9856
loc_9850:
		jsr     j_GetMapSpriteFromForceID
loc_9856:
		bsr.s   sub_9872
		moveq   #$1E,d7
loc_985A:
		moveq   #$1F,d0
		sub.w   d7,d0
		moveq   #$70,d1 
		jsr     j_SetTargetX
		jsr     j_SetTargetY
		dbf     d7,loc_985A
		rts

	; End of function sub_97F4


; =============== S U B R O U T I N E =======================================

sub_9872:
		movea.l (p_pt_MapSprites).l,a0
		lsl.w   #2,d1
		movea.l (a0,d1.w),a0
		movem.w d0,-(sp)
		jsr     (sub_300).l
		lea     (FF3000_LOADING_SPACE).l,a0
		movem.w (sp)+,d0
		mulu.w  #$240,d0
		addi.w  #$2000,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jmp     (j_DMAFromRAMToVRAM).l

	; End of function sub_9872


; =============== S U B R O U T I N E =======================================

sub_98A8:
		lea     ((BATTLE_STATS-$1000000)).w,a0
		lea     (word_FF0D30).l,a1
		moveq   #$1F,d7
loc_98B4:
		moveq   #$1F,d0
		sub.w   d7,d0
		cmpi.b  #$FF,(a0)
		bne.s   loc_98C2
		moveq   #$FFFFFFFF,d1
		bra.s   loc_98C6
loc_98C2:
		move.b  2(a0),d1
loc_98C6:
		sub.b   ((SCREEN_POSITION+1-$1000000)).w,d1
		ext.w   d1
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		asl.w   #3,d1
		addi.w  #$70,d1 
		cmpi.w  #$50,d1 
		blt.s   loc_98E8
		cmpi.w  #$188,d1
		bgt.s   loc_98E8
		move.w  d1,(a1)+
		bra.s   loc_98EC
loc_98E8:
		move.w  #1,(a1)+
loc_98EC:
		move.w  #$A36,d0
		sub.w   d7,d0
		move.w  d0,(a1)+
		move.w  #$1F,d0
		sub.w   d7,d0
		mulu.w  #$12,d0
		addi.w  #$6100,d0
		tst.b   (a0)
		blt.s   loc_990A
		subi.w  #$2000,d0
loc_990A:
		move.w  d0,(a1)+
		move.b  1(a0),d1
		sub.b   ((SCREEN_POSITION-$1000000)).w,d1
		ext.w   d1
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		asl.w   #3,d1
		addi.w  #$7C,d1 
		cmpi.w  #$60,d1 
		blt.s   loc_9932
		cmpi.w  #$188,d1
		bgt.s   loc_9932
		move.w  d1,(a1)+
		bra.s   loc_9936
loc_9932:
		move.w  #1,(a1)+
loc_9936:
		adda.w  #$10,a0
		dbf     d7,loc_98B4
		rts

	; End of function sub_98A8


; =============== S U B R O U T I N E =======================================

sub_9940:
		lea     ((BATTLE_STATS-$1000000)).w,a0
		lea     (word_FF0D30).l,a1
		moveq   #$1F,d7
loc_994C:
		clr.w   d6
		moveq   #$1F,d0
		sub.w   d7,d0
		cmpi.b  #$FF,(a0)
		bne.s   loc_995C
		moveq   #$FFFFFFFF,d1
		bra.s   loc_996A
loc_995C:
		cmp.b   ((byte_FFB4D3-$1000000)).w,d0
		bne.s   loc_9966
		moveq   #$FFFFFFFF,d1
		bra.s   loc_996A
loc_9966:
		move.b  2(a0),d1
loc_996A:
		sub.b   ((SCREEN_POSITION+1-$1000000)).w,d1
		ext.w   d1
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		asl.w   #3,d1
		addi.w  #$70,d1 
		move.w  d1,(a1)+
		cmpi.w  #$50,d1 
		blt.s   loc_998A
		cmpi.w  #$188,d1
		ble.s   loc_998E
loc_998A:
		move.w  #1,d6
loc_998E:
		addq.l  #4,a1
		move.b  1(a0),d1
		sub.b   ((SCREEN_POSITION-$1000000)).w,d1
		ext.w   d1
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		asl.w   #3,d1
		addi.w  #$7C,d1 
		move.w  d1,(a1)+
		cmpi.w  #$60,d1 
		blt.s   loc_99B4
		cmpi.w  #$188,d1
		ble.s   loc_99B8
loc_99B4:
		move.w  #1,d6
loc_99B8:
		tst.w   d6
		beq.s   loc_99C2
		move.w  #1,-8(a1)
loc_99C2:
		adda.w  #$10,a0
		dbf     d7,loc_994C
		rts

	; End of function sub_9940


; =============== S U B R O U T I N E =======================================

sub_99CC:
		lea     (word_FF0D30).l,a1
		moveq   #$1F,d7
loc_99D4:
		move.w  (a1),d0
		move.b  ((byte_FFB4C1-$1000000)).w,d1
		ext.w   d1
		add.w   d1,d0
		ble.s   loc_99E2
		move.w  d0,(a1)
loc_99E2:
		move.w  6(a1),d0
		move.b  ((byte_FFB4C0-$1000000)).w,d1
		ext.w   d1
		sub.w   d1,d0
		ble.s   loc_99F4
		move.w  d0,6(a1)
loc_99F4:
		addq.l  #8,a1
		dbf     d7,loc_99D4
		rts

	; End of function sub_99CC


; =============== S U B R O U T I N E =======================================

sub_99FC:
		lea     MapSpritePalettes(pc), a0
		lea     (PALETTE_3_BIS).l,a1
		moveq   #$1F,d0
		jmp     (sub_2C0).l

	; End of function sub_99FC

MapSpritePalettes:
		incbin "data/graphics/tech/palettes/mapspritepalettes.bin"
defined_byte_9A4E:
		dc.b $10
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $41 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $40 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $11
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $41 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $40 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $20
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $41 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $40 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $21 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $41 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $40 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0

; =============== S U B R O U T I N E =======================================

sub_9A8A:
		bsr.s   sub_9A9A
		bsr.w   sub_9B4E
		bsr.w   sub_9BAA
		bsr.w   sub_E02C
		rts

	; End of function sub_9A8A


; =============== S U B R O U T I N E =======================================

sub_9A9A:
		clr.w   d6
		move.b  (byte_FF0EB6).l,d6
		lea     ((BATTLE_STATS-$1000000)).w,a0
		lea     (word_FF0D34).l,a1
		move.b  defined_byte_9A4E(pc,d6.w),d1
		beq.w   locret_9B4C
		btst    #6,d1
		bne.w   loc_9B08
		move.w  d1,d6
		andi.w  #$30,d6 
		cmpi.w  #$10,d6
		bne.s   loc_9ACC
		clr.w   d6
		bra.s   loc_9ACE
loc_9ACC:
		moveq   #$FFFFFFFF,d6
loc_9ACE:
		moveq   #$1F,d7
loc_9AD0:
		move.b  (a0),d0
		eor.b   d6,d0
		bge.w   loc_9AFC
		move.w  #$1F,d0
		sub.w   d7,d0
		mulu.w  #$12,d0
		addi.w  #$6100,d0
		cmpi.b  #$FF,(a0)
		blt.s   loc_9AF0
		subi.w  #$2000,d0
loc_9AF0:
		btst    #0,d1
		beq.s   loc_9AFA
		addi.w  #9,d0
loc_9AFA:
		move.w  d0,(a1)
loc_9AFC:
		addq.w  #8,a1
		adda.w  #$10,a0
		dbf     d7,loc_9AD0
		rts
loc_9B08:
		lea     (byte_FF0D2B).l,a0
		moveq   #$1F,d7
		moveq   #$16,d0
loc_9B12:
		move.b  d0,(a0)
		addq.w  #8,a0
		addq.w  #1,d0
		dbf     d7,loc_9B12
		clr.w   d0
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		cmpi.b  #$FF,d0
		beq.w   locret_9B4C
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.w   locret_9B4C
		move.w  d0,d2
		addi.w  #$17,d2
		btst    #0,d1
		beq.s   locret_9B4C
		lea     (word_FF0D34).l,a0
		lsl.w   #3,d0
		adda.w  d0,a0
		move.b  d2,-9(a0)
locret_9B4C:
		rts

	; End of function sub_9A9A


; =============== S U B R O U T I N E =======================================

sub_9B4E:
		cmpi.b  #$FF,((byte_FFB5B1-$1000000)).w
		beq.s   locret_9BA8
		subq.w  #1,((word_FFBC66-$1000000)).w
		bne.s   locret_9BA8
		move.w  ((word_FFBC64-$1000000)).w,((word_FFBC66-$1000000)).w
		move.w  ((word_FFBC68-$1000000)).w,d0
		lea     ((byte_FFB5B1-$1000000)).w,a0
		cmpi.b  #$FF,(a0,d0.w)
		bne.s   loc_9B74
		clr.w   d0
loc_9B74:
		clr.w   d1
		move.b  (a0,d0.w),d1
		addq.w  #1,d0
		move.w  d0,((word_FFBC68-$1000000)).w
		lea     (byte_FF4900).l,a0
		move.w  ((word_FFBC60-$1000000)).w,d0
		mulu.w  d0,d1
		lsl.w   #5,d1
		adda.w  d1,a0
		move.w  ((word_FFBC62-$1000000)).w,d1
		lsl.w   #5,d1           ; Controlling scroll effect of water tiles?
		movea.w d1,a1
		lsl.w   #4,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3).l
locret_9BA8:
		rts

	; End of function sub_9B4E


; =============== S U B R O U T I N E =======================================

sub_9BAA:
		btst    #INPUT_A_START_BIT,(P1_INPUT).l
		beq.s   loc_9BBA
		move.w  #$100,d6
		bra.s   loc_9BBC
loc_9BBA:
		clr.w   d6
loc_9BBC:
		jsr     (j_ClearHScrollStuff).l
		jsr     (j_SetVIntParam3).l
		rts

	; End of function sub_9BAA

defined_byte_9BCA:
		dc.b 0
		dc.b $9A
		dc.b $99
		dc.b $99
		dc.b $99
		dc.b 0

; =============== S U B R O U T I N E =======================================

sub_9BD0:
		tst.b   d0
		bne.s   loc_9BF6
		movem.w d0/d2,-(sp)
		moveq   #$38,d0 
		moveq   #$FFFFFFFF,d1
		jsr     (sub_37C).l
		move.b  d2,d1
		movem.w (sp)+,d0/d2
		beq.w   loc_9BF6
		andi.w  #$FF,d1
		move.b  defined_byte_9BCA(pc,d1.w),d1
		bra.s   loc_9BFC
loc_9BF6:
		jsr     j_GetMapSpriteFromForceID
loc_9BFC:
		move.w  d1,((word_FFB7C4-$1000000)).w
		move.w  d1,d0
		movea.l (p_pt_MapSprites).l,a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		jsr     (sub_300).l
		movem.l d7-a1,-(sp)
		lea     (FF3000_LOADING_SPACE).l,a0
		lea     (byte_FF4000).l,a1
		move.w  #$240,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		move.w  ((word_FFB7C4-$1000000)).w,d0
		movea.l (p_p_MapSprite304).l,a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		jsr     (sub_300).l
		movem.l d7-a1,-(sp)
		lea     (FF3000_LOADING_SPACE).l,a0
		lea     (byte_FF4240).l,a1
		move.w  #$240,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		move.w  ((word_FFB7C4-$1000000)).w,d0
		movea.l (p_p_MapSprite156).l,a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		jsr     (sub_300).l
		movem.l d7-a1,-(sp)
		lea     (FF3000_LOADING_SPACE).l,a0
		lea     (byte_FF4480).l,a1
		move.w  #$240,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		lea     (byte_FF4480).l,a0
		moveq   #1,d6
loc_9CA2:
		movea.l a0,a1
		adda.l  #$300,a1
		moveq   #$17,d7
loc_9CAC:
		move.l  (a0)+,d0
		rol.b   #4,d0
		rol.w   #8,d0
		rol.b   #4,d0
		swap    d0
		rol.b   #4,d0
		rol.w   #8,d0
		rol.b   #4,d0
		move.l  d0,(a1)+
		dbf     d7,loc_9CAC
		movea.l a0,a1
		adda.l  #$240,a1
		moveq   #$17,d7
loc_9CCC:
		move.l  (a0)+,d0
		rol.b   #4,d0
		rol.w   #8,d0
		rol.b   #4,d0
		swap    d0
		rol.b   #4,d0
		rol.w   #8,d0
		rol.b   #4,d0
		move.l  d0,(a1)+
		dbf     d7,loc_9CCC
		movea.l a0,a1
loc_9CE4:
		adda.l  #$180,a1
		moveq   #$17,d7
loc_9CEC:
		move.l  (a0)+,d0
		rol.b   #4,d0
		rol.w   #8,d0
		rol.b   #4,d0
		swap    d0
		rol.b   #4,d0
		rol.w   #8,d0
		rol.b   #4,d0
		move.l  d0,(a1)+
		dbf     d7,loc_9CEC
		dbf     d6,loc_9CA2
		rts

	; End of function sub_9BD0


; =============== S U B R O U T I N E =======================================

sub_9D08:
		clr.b   (FADING_SETTING).l
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB537-$1000000)).w
		move.b  ((CURSOR_POSITION-$1000000)).w,((byte_FFB535-$1000000)).w
		move.b  ((CURSOR_POSITION+1-$1000000)).w,((byte_FFB536-$1000000)).w
		bsr.w   sub_AB5C
		bcs.w   loc_AAE4
		clr.b   ((byte_FFB4C7-$1000000)).w
		clr.b   ((byte_FFB4CB-$1000000)).w
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		beq.w   loc_9D8C
		bsr.w   sub_A8C0
		jsr     (j_WaitForVInt).l
		clr.w   d1
		jsr     sub_20398
		clr.w   d0
		bsr.w   sub_AB9C
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.b  d0,((byte_FFB4C6-$1000000)).w
		bsr.w   sub_B0B8
		jsr     (j_WaitForVInt).l
		move.b  ((byte_FFB537-$1000000)).w,((byte_FFB4C6-$1000000)).w
		move.w  d0,-(sp)
		bsr.w   sub_A8C0
		move.w  (sp)+,d0
		cmpi.w  #$FFFF,d0
		bne.s   loc_9D7C
		rts
loc_9D7C:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		cmp.b   ((byte_FFB4C6-$1000000)).w,d0
		beq.w   loc_9DC4
		bra.w   loc_9DBE
loc_9D8C:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		cmp.b   ((byte_FFB4C6-$1000000)).w,d0
		beq.w   loc_9DC4
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CED8
		bsr.w   sub_DEC0
loc_9DA4:
		jsr     (j_WaitForVInt).l
		tst.b   (CURRENT_PLAYER_INPUT).l
		beq.s   loc_9DA4
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CF1E
		bsr.w   sub_DEE4
loc_9DBE:
		move.w  #$FFFF,d0
		rts
loc_9DC4:
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_9DD8
		bsr.w   sub_CED8
		bsr.w   sub_DEC0
loc_9DD8:
		move.b  #$FF,((byte_FFB4C6-$1000000)).w
		bsr.w   sub_AC86
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_9DFA
		jsr     sub_202C0
		moveq   #1,d0
		bsr.w   sub_AB9C
		bra.s   loc_9E00
loc_9DFA:
		jsr     sub_202D0
loc_9E00:
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_9BD0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.b  d0,((byte_FFB4D3-$1000000)).w
		jsr     (j_WaitForVInt).l
		bsr.w   sub_9940
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_9E26
		clr.b   ((SPRITE_DIRECTION-$1000000)).w
loc_9E26:
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		lsl.w   #8,d0
		or.b    ((CURSOR_POSITION-$1000000)).w,d0
		move.w  d0,((word_FFC0B2-$1000000)).w
loc_9E34:
		clr.b   ((byte_FFB4D4-$1000000)).w
		bsr.w   sub_8CD4
		jsr     (j_WaitForVInt).l
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		lsl.w   #8,d0
		or.b    ((CURSOR_POSITION-$1000000)).w,d0
		cmp.w   ((word_FFC0B2-$1000000)).w,d0
		beq.s   loc_9E5E
		move.w  d0,((word_FFC0B2-$1000000)).w
		bsr.w   ParseBattleExits
		bge.w   loc_9E8A
loc_9E5E:
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_9E70
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_A026
loc_9E70:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_A0DE
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_A0DE
		bra.s   loc_9E34
loc_9E8A:
		movem.w d3-d4,-(sp)
		clr.b   (FADING_SETTING).l
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		movem.w (sp)+,d3-d4
		cmpi.b  #$7F,((CURRENT_MAP-$1000000)).w 
		beq.w   loc_9F68
		cmpi.b  #$7E,((CURRENT_MAP-$1000000)).w 
		beq.w   loc_9F88
		cmpi.b  #$7D,((CURRENT_MAP-$1000000)).w 
		bne.s   loc_9ECC
		moveq   #$25,d0 
		jsr     (j_SetEventFlag).l
		clr.b   ((CURRENT_MAP-$1000000)).w
loc_9ECC:
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.w   loc_9F34
		moveq   #$29,d0 
		bsr.w   sub_E20A
		jsr     (sub_304).l
		move.w  #$4B,((word_FFC0BE-$1000000)).w 
		move.b  ((byte_FF9C4D-$1000000)).w,d0
		cmp.b   ((CURRENT_MAP-$1000000)).w,d0
		bne.s   loc_9EF8        
		move.w  #$1B3,d0        ; "[Hero]! You've reached[Line]your destination, but some[Line]enemies remain.[Wait2][Line]Will you leave them?"
		trap    #DISPLAY_MESSAGE
		bra.s   loc_9EFE
loc_9EF8:
		move.w  #$1B2,d0        ; "[Hero]! Do you really[Line]want to retreat from this[Line]battle?"
		trap    #DISPLAY_MESSAGE
loc_9EFE:
		jsr     (j_YesNoChoiceBox).l
		bsr.w   sub_E286
		jsr     (sub_30C).l
		bsr.w   sub_8770
		tst.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		beq.s   loc_9F34
		move.b  #5,(FADING_SETTING).l
		moveq   #1,d0
		bsr.w   sub_AB9C
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_9BD0
		bra.w   loc_9E5E
loc_9F34:
		move.b  ((byte_FF9C4D-$1000000)).w,d0
		cmp.b   ((CURRENT_MAP-$1000000)).w,d0
		bne.s   loc_9F4E
		clr.w   d0
		move.b  ((CURRENT_MAP_VERSION-$1000000)).w,d0
		addi.w  #$28,d0 
		jsr     (j_SetEventFlag).l
loc_9F4E:
		movea.l (dword_FF0EFE).l,sp
		trap    #SOUND_COMMAND
		dc.w SFX_WARP
		jsr     (j_FadeOutToBlack).l
		clr.l   (dword_FF0EF6).l
		clr.w   d0
		rts
loc_9F68:
		trap    #SOUND_COMMAND
		dc.w SFX_WARP
		jsr     (j_FadeOutToBlack).l
		bsr.w   sub_9FB0
		jsr     (j_FadeInFromBlack).l
		move.b  #2,(FADING_PALETTE_FLAGS).l
		bra.w   loc_9E5E
loc_9F88:
		trap    #SOUND_COMMAND
		dc.w SFX_SPELL_CAST
		jsr     (j_FadeOutToWhite).l
		bsr.w   sub_9FB0
		moveq   #$3C,d0 
		jsr     (j_Sleep).l
		jsr     (j_FadeInFromWhite).l
		move.b  #2,(FADING_PALETTE_FLAGS).l
		bra.w   loc_9E5E

	; End of function sub_9D08


; =============== S U B R O U T I N E =======================================

sub_9FB0:
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.b  d3,d1
		jsr     j_SetTargetX
		move.b  d1,((CURSOR_POSITION-$1000000)).w
		subq.w  #5,d1
		bge.s   loc_9FC8
		clr.w   d1
loc_9FC8:
		move.w  ((MAP_WIDTH-$1000000)).w,d2
		subi.w  #$B,d2
		cmp.w   d2,d1
		ble.s   loc_9FD6
		move.w  d2,d1
loc_9FD6:
		move.b  d1,((SCREEN_POSITION-$1000000)).w
		move.w  d1,d2
		move.b  d4,d1
		jsr     j_SetTargetY
		move.b  d1,((CURSOR_POSITION+1-$1000000)).w
		subq.w  #5,d1
		bge.s   loc_9FEE
		clr.w   d1
loc_9FEE:
		move.w  ((MAP_HEIGHT-$1000000)).w,d2
		subi.w  #$A,d2
		cmp.w   d2,d1
		ble.s   loc_9FFC
		move.w  d2,d1
loc_9FFC:
		move.b  d1,((SCREEN_POSITION+1-$1000000)).w
		bsr.w   sub_8DE2        
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_9BD0
		bsr.w   sub_87AA
		bsr.w   sub_9940
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		lsl.w   #8,d0
		or.b    ((CURSOR_POSITION-$1000000)).w,d0
		move.w  d0,((word_FFC0B2-$1000000)).w
		rts

	; End of function sub_9FB0


; START OF FUNCTION CHUNK FOR sub_9D08

loc_A026:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CF1E
		bsr.w   sub_DEE4
		clr.w   d1
		clr.w   d2
		move.b  ((byte_FFB535-$1000000)).w,d1
		move.b  ((byte_FFB536-$1000000)).w,d2
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		move.b  ((byte_FFB4C5-$1000000)).w,((byte_FFB4D3-$1000000)).w
		movem.w d0-d2,-(sp)
		bsr.w   sub_9940
		movem.w (sp)+,d0-d2
		move.b  #$FF,((byte_FFB4C6-$1000000)).w
		movem.w d0-d2,-(sp)
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d1
		move.b  ((CURSOR_POSITION-$1000000)).w,d2
		jsr     sub_202D4
		lea     ((byte_FFCB28-$1000000)).w,a0
loc_A074:
		move.b  #1,((byte_FFB4D4-$1000000)).w
		bsr.w   sub_8D66
		move.w  d0,-(sp)
		jsr     (j_WaitForVInt).l
		move.w  (sp)+,d0
		cmpi.b  #3,d0
		bls.s   loc_A074
		movem.w (sp)+,d0-d2
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		move.b  d1,((CURSOR_POSITION-$1000000)).w
		move.b  d2,((CURSOR_POSITION+1-$1000000)).w
		move.b  d0,((byte_FFB4C6-$1000000)).w
		bsr.w   sub_AB2C
		bsr.w   sub_A8C0
		bsr.w   sub_9940
		lea     (byte_FF4000).l,a0
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		move.w  #$FFFF,d0
		rts
loc_A0DE:
		move.w  #1,d0
		bsr.w   sub_AB40
		beq.w   loc_9E34
		clr.w   d6
		move.b  ((byte_FFB4C5-$1000000)).w,d6
		lsl.w   #4,d6
		lea     ((BATTLE_STATS-$1000000)).w,a0
		adda.w  d6,a0
		clr.w   d1
		move.b  1(a0),d1
		clr.w   d2
		move.b  2(a0),d2
		clr.w   d3
		move.b  ((CURSOR_POSITION-$1000000)).w,d3
		move.b  d3,1(a0)
		clr.w   d4
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d4
		move.b  d4,2(a0)
		bsr.w   sub_9940
		bsr.w   sub_A8C0
		clr.b   ((byte_FFB4CA-$1000000)).w
		bsr.w   sub_AB2C
		clr.l   ((byte_FFB51A-$1000000)).w
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB51A-$1000000)).w
loc_A132:
		clr.b   ((byte_FFB4C7-$1000000)).w
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		bsr.w   sub_9940
		clr.b   ((byte_FFB4CB-$1000000)).w
		cmpi.b  #$1E,((byte_FFA1C6-$1000000)).w
		bne.s   loc_A15C
		clr.b   (FADING_SETTING).l
		jsr     (sub_33C).l
		bra.w   loc_A17A
loc_A15C:
		clr.b   ((byte_FFCBB2-$1000000)).w
		clr.b   ((byte_FFCB3E-$1000000)).w
		bsr.w   sub_ADA6        
		move.b  #1,((byte_FFB526-$1000000)).w
		bsr.w   sub_BEE0
		cmpi.w  #$FFFF,d0
		bne.w   loc_A19C
loc_A17A:
		clr.w   d1
		clr.w   d2
		move.b  ((byte_FFB535-$1000000)).w,d1
		move.b  ((byte_FFB536-$1000000)).w,d2
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_SetTargetX
		move.w  d2,d1
		jsr     j_SetTargetY
		bra.w   loc_9DD8
loc_A19C:
		add.w   d0,d0
		move.w  off_A1A6(pc,d0.w),d0
		jmp     off_A1A6(pc,d0.w)

; END OF FUNCTION CHUNK FOR sub_9D08

off_A1A6:       dc.w sub_A1AE-off_A1A6
		dc.w sub_A202-off_A1A6
		dc.w sub_A30A-off_A1A6
		dc.w loc_A650-off_A1A6

; =============== S U B R O U T I N E =======================================

sub_A1AE:
		clr.b   ((byte_FFB51B-$1000000)).w
		bsr.w   sub_AC86
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     sub_202BC
		moveq   #1,d0
		bsr.w   sub_AB9C
		jsr     sub_202D8
		subq.w  #1,((word_FFA8C0-$1000000)).w
		blt.s   loc_A1E4
		bsr.w   sub_A8D4
		cmpi.w  #$FFFF,d0
		beq.s   loc_A1F0
		move.b  d0,((byte_FFB51D-$1000000)).w
		bra.w   sub_ACD4
loc_A1E4:
		jsr     (j_WaitForVInt).l
		clr.w   d0
		bsr.w   sub_D32C
loc_A1F0:
		bsr.w   sub_A8C0
		bsr.w   sub_AB2C
		jsr     (j_WaitForVInt).l
		bra.w   loc_A132

	; End of function sub_A1AE


; =============== S U B R O U T I N E =======================================

sub_A202:
		move.b  #1,((byte_FFB51B-$1000000)).w
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB4C9-$1000000)).w
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_GetForceSpellsFromForceID
		cmpi.b  #$FF,(a0)
		bne.s   loc_A22A
		moveq   #1,d0
		bsr.w   sub_D32C
		bra.w   loc_A132
loc_A22A:
		move.b  #2,((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		cmpi.w  #$FFFF,d0
		bne.s   loc_A24A
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		bra.w   loc_A132
loc_A24A:
		move.b  d1,((byte_FFB51C-$1000000)).w
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_GetMPFromForceID
		move.w  d1,-(sp)
		move.b  ((byte_FFB51C-$1000000)).w,d1
		jsr     j_GetMPCost
		move.w  (sp)+,d1
		cmp.w   d1,d2
		ble.s   loc_A274
		moveq   #3,d0
		bsr.w   sub_D32C
		bra.w   loc_A132
loc_A274:
		cmpi.b  #$D,((byte_FFB51C-$1000000)).w
		bne.s   loc_A2D0
		bsr.w   sub_AB2C
		clr.w   ((TEXT_NAME_INDEX-$1000000)).w
		move.w  #$D,((word_FFF846-$1000000)).w
		moveq   #1,d0
		move.l  d0,((TEXT_NUMBER-$1000000)).w
		trap    #5
		clr.w   ((word_FFC0BE-$1000000)).w
		move.w  #$1B5,d0        ; "[Name] casts [Spell][Line]level [Num]!"
		trap    #DISPLAY_MESSAGE
		trap    #SOUND_COMMAND
		dc.w SFX_SPELL_CAST
		move.w  #$1EA,d0        ; "[Dict][Line]"
		trap    #DISPLAY_MESSAGE
		tst.b   ((byte_FFB4D7-$1000000)).w
		beq.s   loc_A2CC
		trap    #7
		move.w  #$1D1,d0        ; "But nothing happens."
		trap    #DISPLAY_MESSAGE
		move.w  #$1EA,d0        ; "[Dict][Line]"
		trap    #DISPLAY_MESSAGE
		trap    #6
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		bra.w   loc_A656
loc_A2CC:
		bra.w   loc_A306
loc_A2D0:
		jsr     sub_202D8
		tst.b   ((byte_FFC600-$1000000)).w
		beq.w   loc_A306
		subq.w  #1,((word_FFA8C0-$1000000)).w
		blt.w   loc_A1E4
		bsr.w   sub_A8D4
		cmpi.w  #$FFFF,d0
		bne.s   loc_A302
		bsr.w   sub_A8C0
		bsr.w   sub_AB2C
		jsr     (j_WaitForVInt).l
		bra.w   loc_A22A
loc_A302:
		move.b  d0,((byte_FFB51D-$1000000)).w
loc_A306:
		bra.w   sub_ACD4

	; End of function sub_A202


; =============== S U B R O U T I N E =======================================

sub_A30A:
		tst.b   ((byte_FFB4D7-$1000000)).w
		beq.s   loc_A32C
		clr.b   (FADING_SETTING).l
		jsr     (sub_360).l
		bpl.s   locret_A32A
		move.b  #5,(FADING_SETTING).l
		bra.w   loc_A132
locret_A32A:
		rts
loc_A32C:
		move.b  #2,((byte_FFB51B-$1000000)).w
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB4C9-$1000000)).w
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		cmpi.b  #$FF,(a0)
		bne.s   loc_A354
		moveq   #2,d0
		bsr.w   sub_D32C
		bra.w   loc_A132
loc_A354:
		clr.b   ((byte_FFB52A-$1000000)).w
		move.b  #4,((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		cmpi.w  #$FFFF,d0
		beq.w   loc_A132
		add.w   d0,d0
		move.w  off_A374(pc,d0.w),d0
		jmp     off_A374(pc,d0.w)

	; End of function sub_A30A

off_A374:       dc.w sub_A37C-off_A374
		dc.w sub_A3EE-off_A374
		dc.w sub_A530-off_A374
		dc.w sub_A5EA-off_A374

; =============== S U B R O U T I N E =======================================

sub_A37C:
		move.b  #1,((byte_FFB52A-$1000000)).w
		move.b  #3,((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		cmpi.w  #$FFFF,d0
		bne.s   loc_A3A0
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		beq.s   loc_A354
loc_A3A0:
		tst.b   ((byte_FFCB7E-$1000000)).w
		beq.s   loc_A3AE
		moveq   #8,d0
		bsr.w   sub_D32C
		bra.s   loc_A354
loc_A3AE:
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,((byte_FFB51C-$1000000)).w
		jsr     sub_202D8
		tst.b   ((byte_FFC600-$1000000)).w
		beq.w   loc_A3E8
		subq.w  #1,((word_FFA8C0-$1000000)).w
		blt.w   loc_A1E4
		bsr.w   sub_A8D4
		cmpi.w  #$FFFF,d0
		bne.s   loc_A3E4
		bsr.w   sub_A8C0
		bsr.w   sub_AB2C
		jsr     (j_WaitForVInt).l
		bra.s   sub_A37C
loc_A3E4:
		move.b  d0,((byte_FFB51D-$1000000)).w
loc_A3E8:
		bsr.w   sub_ACD4
		rts

	; End of function sub_A37C


; =============== S U B R O U T I N E =======================================

sub_A3EE:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     sub_202CC
		moveq   #1,d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		jsr     sub_202D8
		subq.w  #1,((word_FFA8C0-$1000000)).w
		blt.w   loc_A1E4
		move.b  #3,((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		cmpi.w  #$FFFF,d0
		bne.s   loc_A432
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		bra.w   loc_A354
loc_A432:
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  d1,((byte_FFB4CD-$1000000)).w
		move.b  (a0,d1.w),d1
		move.b  d1,((byte_FFB4CE-$1000000)).w
loc_A44E:
		move.b  #1,((byte_FFB4CC-$1000000)).w
		bsr.w   sub_A8D4
		clr.b   ((byte_FFB4CC-$1000000)).w
		cmpi.w  #$FFFF,d0
		bne.s   loc_A474
		bsr.w   sub_A8C0
		bsr.w   sub_AB2C
		jsr     (j_WaitForVInt).l
		bra.w   sub_A3EE
loc_A474:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.b  ((byte_FFB4CE-$1000000)).w,d1
		jsr     j_FindEmptyItemSlotFromTargetID
		bcc.w   loc_A500
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CF1E
		move.b  ((byte_FFB4C5-$1000000)).w,((byte_FFB4C9-$1000000)).w
		move.b  #1,((byte_FFB4CC-$1000000)).w
		move.b  #3,((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		clr.b   ((byte_FFB4CC-$1000000)).w
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB4C9-$1000000)).w
		cmpi.w  #$FFFF,d0
		beq.s   loc_A44E
		move.b  ((byte_FFB4C5-$1000000)).w,d0
loc_A4B8:
		jsr     j_GetForceItemsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  d1,((byte_FFB4CF-$1000000)).w
		move.b  (a0,d1.w),d2
		move.b  d2,((byte_FFB4D0-$1000000)).w
		jsr     j_RemoveItemFromTargetID
		move.b  ((byte_FFB4CE-$1000000)).w,d1
		jsr     j_FindEmptyItemSlotFromTargetID
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		move.b  ((byte_FFB4CD-$1000000)).w,d1
		jsr     j_RemoveItemFromTargetID
		move.b  ((byte_FFB4D0-$1000000)).w,d1
		jsr     j_FindEmptyItemSlotFromTargetID
		bsr.w   loc_AAAA
		bra.w   loc_A51A
loc_A500:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_BEC0
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		move.b  ((byte_FFB4CD-$1000000)).w,d1
		jsr     j_RemoveItemFromTargetID
		bsr.w   loc_AA8C
loc_A51A:
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
loc_A526:
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB4C5-$1000000)).w
		bra.w   loc_A656

	; End of function sub_A3EE


; =============== S U B R O U T I N E =======================================

sub_A530:
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB4C9-$1000000)).w
		move.w  #$300,d1
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_LoadEquippableItemsFromForceID
		bne.s   loc_A552
		moveq   #4,d0
		bsr.w   sub_D32C
		bra.w   loc_A132
loc_A552:
		move.w  #$100,d1
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
loc_A55C:
		jsr     j_LoadEquippableItemsFromForceID
		beq.w   loc_A58C
		clr.b   ((byte_FFB526-$1000000)).w
		bsr.w   sub_D774
		move.w  d0,-(sp)
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		move.w  (sp)+,d0
		cmpi.w  #$FFFF,d0
		bne.s   loc_A58C
		bsr.w   sub_D75A
		bra.w   loc_A354
loc_A58C:
		move.w  #$200,d1
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
loc_A596:
		jsr     j_LoadEquippableItemsFromForceID
		beq.w   loc_A5D6
		move.b  #1,((byte_FFB526-$1000000)).w
		bsr.w   sub_D774
		cmpi.w  #$FFFF,d0
		bne.s   loc_A5D6
		clr.w   d0
loc_A5B2:
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		move.w  #$100,d1
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_LoadEquippableItemsFromForceID
		bne.s   loc_A552
		bsr.w   sub_D75A
		bra.w   loc_A354
loc_A5D6:
		bsr.w   sub_D75A
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
		bra.w   loc_A132

	; End of function sub_A530


; =============== S U B R O U T I N E =======================================

sub_A5EA:
		move.b  #3,((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		cmpi.w  #$FFFF,d0
		beq.w   loc_A354
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  d1,((byte_FFB4CD-$1000000)).w
		move.b  (a0,d1.w),d1
		jsr     j_GetItemType
		btst    #$B,d2
		bne.s   loc_A644
loc_A620:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		movem.w d1,-(sp)
		move.b  (a0,d1.w),d1
		jsr     j_IncreaseDealsItemStock
		movem.w (sp)+,d1
		jsr     j_RemoveItemFromTargetID
		bra.s   loc_A64C
loc_A644:
		moveq   #7,d0
		bsr.w   sub_D32C
		bra.s   sub_A5EA
loc_A64C:
		bra.w   loc_A132
loc_A650:
		jsr     (sub_34C).l

	; End of function sub_A5EA


; START OF FUNCTION CHUNK FOR sub_A202

loc_A656:
		move.b  #$FF,((byte_FFB537-$1000000)).w
		clr.b   ((byte_FFB4CB-$1000000)).w
		move.b  ((byte_FFB4C5-$1000000)).w,d0
loc_A664:
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_A672
		bsr.w   sub_CF1E
		bsr.w   sub_DEE4
loc_A672:
		jsr     (j_WaitForVInt).l
		bsr.w   sub_A8C0
		jsr     (j_WaitForVInt).l
		tst.b   ((byte_FFB4D7-$1000000)).w
		beq.s   loc_A68A
		rts
loc_A68A:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     j_GetMapSpriteFromForceID
		movea.l (p_pt_MapSprites).l,a0
		lsl.w   #2,d1
		movea.l (a0,d1.w),a0
		jsr     (sub_300).l
		lea     (FF3000_LOADING_SPACE).l,a0
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jmp     (sub_278).l

; END OF FUNCTION CHUNK FOR sub_A202


; =============== S U B R O U T I N E =======================================

sub_A6CE:
		move.b  ((byte_FFB4C6-$1000000)).w,((byte_FFB537-$1000000)).w
		bsr.w   sub_AB5C
		bcs.w   loc_AAE4
		clr.b   ((byte_FFB4C7-$1000000)).w
		clr.b   ((byte_FFB4CB-$1000000)).w
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CED8
		bsr.w   sub_DEC0
		move.b  #$FF,((byte_FFB4C6-$1000000)).w
		bsr.w   sub_AC86
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     sub_202C0
		moveq   #1,d0
		bsr.w   sub_AB9C
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_9BD0
		bsr.w   sub_AB2C
		bsr.w   sub_9940
		clr.b   ((byte_FFCBB2-$1000000)).w
		clr.b   ((byte_FFCB3E-$1000000)).w
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     sub_20320
		jsr     (j_WaitForVInt).l
		move.b  ((byte_FFB4C5-$1000000)).w,((byte_FFB4D3-$1000000)).w
		bsr.w   sub_9940
		lea     ((byte_FFCB28-$1000000)).w,a0
loc_A744:
		move.b  #1,((byte_FFB4D4-$1000000)).w
		bsr.w   sub_8D6E
		move.w  d0,-(sp)
		moveq   #$A,d0
		jsr     (j_WaitForVInt).l
		move.w  (sp)+,d0
		cmpi.b  #3,d0
		bls.s   loc_A744
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		bsr.w   sub_AB2C
		bsr.w   sub_9940
		clr.w   d6
		move.b  ((byte_FFB4C5-$1000000)).w,d6
		lsl.w   #4,d6
		lea     ((BATTLE_STATS-$1000000)).w,a0
		adda.w  d6,a0
		clr.w   d1
		move.b  1(a0),d1
		clr.w   d2
		move.b  2(a0),d2
		clr.w   d3
		move.b  ((CURSOR_POSITION-$1000000)).w,d3
		move.b  d3,1(a0)
		clr.w   d4
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d4
		move.b  d4,2(a0)
		bsr.w   sub_9940
		bsr.w   sub_A8C0
		jsr     (j_WaitForVInt).l
		clr.b   ((byte_FFB4CA-$1000000)).w
		clr.b   ((byte_FFB4CB-$1000000)).w
		cmpi.b  #3,((byte_FFB51B-$1000000)).w
		beq.w   loc_A656
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		bsr.w   sub_9940
		bsr.w   sub_AC86
		moveq   #1,d0
		bsr.w   sub_AB9C
		move.b  ((byte_FFB51D-$1000000)).w,d0
		cmpi.b  #$FF,d0
		blt.w   loc_A8BA
		jsr     (j_WaitForVInt).l
		move.b  #1,((byte_FFB4CB-$1000000)).w
		clr.w   d0
		move.w  d0,d7
		lsl.w   #2,d7
		lea     ((byte_FFA8C2-$1000000)).w,a0
		move.w  (a0,d7.w),d1
		move.w  2(a0,d7.w),d2
		movem.w d0-d2,-(sp)
		lea     (byte_FF4000).l,a0
		movem.w d0-d1,-(sp)
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		jsr     j_GetTargetX
		move.w  d1,d3
		jsr     j_GetTargetY
		move.w  d1,d4
		movem.w (sp)+,d0-d1
		clr.w   d6
		cmp.w   d1,d3
		beq.s   loc_A832
		bge.s   loc_A82E
		move.w  #$6C0,d6
		bra.s   loc_A832
loc_A82E:
		move.w  #$480,d6
loc_A832:
		cmp.w   d2,d4
		beq.s   loc_A842
		bge.s   loc_A83E
		move.w  #0,d6
		bra.s   loc_A842
loc_A83E:
		move.w  #$240,d6
loc_A842:
		sub.w   d2,d4
		bge.s   loc_A848
		neg.w   d4
loc_A848:
		move.w  d3,d5
		sub.w   d1,d5
		bge.s   loc_A850
		neg.w   d5
loc_A850:
		cmp.w   d4,d5
		ble.s   loc_A864
		cmp.w   d1,d3
		beq.s   loc_A864
		bge.s   loc_A860
		move.w  #$6C0,d6
		bra.s   loc_A864
loc_A860:
		move.w  #$480,d6
loc_A864:
		adda.w  d6,a0
		clr.w   d0
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		movem.w (sp)+,d0-d2
		lsl.w   #8,d1
		or.w    d2,d1
		move.w  d0,-(sp)
		move.w  d1,d0
		clr.b   ((byte_FFB538-$1000000)).w
		bsr.w   sub_8E52
		bsr.w   sub_AB5C
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CED8
		tst.b   ((byte_FFB4CC-$1000000)).w
		beq.s   loc_A8B8
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_BE94
loc_A8B8:
		move.w  (sp)+,d0
loc_A8BA:
		bsr.w   sub_ACD4
		rts

	; End of function sub_A6CE


; =============== S U B R O U T I N E =======================================

sub_A8C0:
		move.b  ((byte_FFB537-$1000000)).w,((byte_FFB4C6-$1000000)).w
		move.b  #1,((byte_FFB539-$1000000)).w
		clr.w   d0
		bsr.w   sub_AB9C
		rts

	; End of function sub_A8C0


; =============== S U B R O U T I N E =======================================

sub_A8D4:
		jsr     (j_WaitForVInt).l
		move.b  #1,((byte_FFB4CB-$1000000)).w
		clr.w   d0
loc_A8E2:
		move.w  d0,d7
		lsl.w   #2,d7
		lea     ((byte_FFA8C2-$1000000)).w,a0
loc_A8EA:
		move.w  (a0,d7.w),d1
		move.w  2(a0,d7.w),d2
		movem.w d0-d2,-(sp)
		lea     (byte_FF4000).l,a0
		movem.w d0-d1,-(sp)
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		jsr     j_GetTargetX
		move.w  d1,d3
		jsr     j_GetTargetY
		move.w  d1,d4
		movem.w (sp)+,d0-d1
		clr.w   d6
		cmp.w   d1,d3
		beq.s   loc_A92A
		bge.s   loc_A926
		move.w  #$6C0,d6
		bra.s   loc_A92A
loc_A926:
		move.w  #$480,d6
loc_A92A:
		cmp.w   d2,d4
		beq.s   loc_A93A
		bge.s   loc_A936
loc_A930:
		move.w  #0,d6
		bra.s   loc_A93A
loc_A936:
		move.w  #$240,d6
loc_A93A:
		sub.w   d2,d4
		bge.s   loc_A940
		neg.w   d4
loc_A940:
		move.w  d3,d5
		sub.w   d1,d5
		bge.s   loc_A948
		neg.w   d5
loc_A948:
		cmp.w   d4,d5
		ble.s   loc_A95C
		cmp.w   d1,d3
		beq.s   loc_A95C
		bge.s   loc_A958
		move.w  #$6C0,d6
		bra.s   loc_A95C
loc_A958:
		move.w  #$480,d6
loc_A95C:
		adda.w  d6,a0
		clr.w   d0
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		move.w  d0,d7
		lsl.w   #3,d0
		add.w   d7,d0
		add.w   d0,d0
		addi.w  #$100,d0
		lsl.w   #5,d0
		movea.w d0,a1
		move.w  #$120,d0
		moveq   #2,d1
		jsr     (sub_278).l
		movem.w (sp)+,d0-d2
		lsl.w   #8,d1
		or.w    d2,d1
		move.w  d0,-(sp)
		move.w  d1,d0
		clr.b   ((byte_FFB538-$1000000)).w
		bsr.w   sub_8E52
		bsr.w   sub_AB5C
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CED8
		tst.b   ((byte_FFB4CC-$1000000)).w
		beq.s   loc_A9B0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_BE94
loc_A9B0:
		move.w  (sp)+,d0
loc_A9B2:
		jsr     (j_WaitForVInt).l
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_AA82
loc_A9C4:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_AA76
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
loc_A9D8:
		bne.w   loc_AA76
		tst.w   ((word_FFA8C0-$1000000)).w
		beq.s   loc_A9B2
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_A9FE
		addq.w  #1,d0
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		cmp.w   ((word_FFA8C0-$1000000)).w,d0
		ble.s   loc_A9FA
		clr.w   d0
loc_A9FA:
		bra.w   loc_AA56
loc_A9FE:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_AA1A
		addq.w  #1,d0
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		cmp.w   ((word_FFA8C0-$1000000)).w,d0
		ble.s   loc_AA16
		clr.w   d0
loc_AA16:
		bra.w   loc_AA56
loc_AA1A:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_AA36
		subq.w  #1,d0
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		tst.w   d0
		bge.s   loc_AA32
		move.w  ((word_FFA8C0-$1000000)).w,d0
loc_AA32:
		bra.w   loc_AA56
loc_AA36:
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_AA52
		subq.w  #1,d0
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		tst.w   d0
		bge.s   loc_AA4E
		move.w  ((word_FFA8C0-$1000000)).w,d0
loc_AA4E:
		bra.w   loc_AA56
loc_AA52:
		bra.w   loc_A9B2
loc_AA56:
		move.w  d0,-(sp)
		tst.b   ((byte_FFB4CC-$1000000)).w
		beq.s   loc_AA66
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_BEC0
loc_AA66:
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CF1E
		move.w  (sp)+,d0
		bra.w   loc_A8E2
loc_AA76:
		trap    #SOUND_COMMAND
		dc.w SFX_VALIDATION
		clr.w   d0
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		rts
loc_AA82:
		trap    #SOUND_COMMAND
		dc.w SFX_VALIDATION
		move.b  #1,((byte_FFB4CA-$1000000)).w
loc_AA8C:
		clr.w   d0
		tst.b   ((byte_FFB4CC-$1000000)).w
		beq.s   loc_AA9C
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_BEC0
loc_AA9C:
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		bsr.w   sub_CF1E
		jsr     (j_WaitForVInt).l
loc_AAAA:
		clr.w   d0
		move.b  ((byte_FFB4C6-$1000000)).w,d0
		move.b  d0,((byte_FFB4C5-$1000000)).w
		jsr     j_GetTargetX
		lsl.w   #8,d1
		move.w  d1,d6
		jsr     j_GetTargetY
		or.w    d1,d6
		move.w  d6,d0
		clr.b   ((byte_FFB538-$1000000)).w
		bsr.w   sub_8E52
		move.b  #$FF,((byte_FFB4D3-$1000000)).w
		bsr.w   sub_9940
		bsr.w   sub_AB2C
		move.w  #$FFFF,d0
		rts

	; End of function sub_A8D4


; START OF FUNCTION CHUNK FOR sub_9D08

loc_AAE4:
		bsr.w   sub_AB2C
		clr.b   ((byte_FFB4CA-$1000000)).w
loc_AAEC:
		clr.b   ((byte_FFB526-$1000000)).w
		bsr.w   sub_BF10
		tst.w   d0
		bmi.w   loc_AB24
		add.w   d0,d0
		move.w  off_AB08(pc,d0.w),d0
		jsr     off_AB08(pc,d0.w)
		bra.w   loc_AB22

; END OF FUNCTION CHUNK FOR sub_9D08

off_AB08:       dc.w sub_F63A-off_AB08
		dc.w sub_AB10-off_AB08
		dc.w sub_AB16-off_AB08
		dc.w sub_AB1C-off_AB08

; =============== S U B R O U T I N E =======================================

sub_AB10:
		jmp     (sub_364).l

	; End of function sub_AB10


; =============== S U B R O U T I N E =======================================

sub_AB16:
		jmp     (sub_368).l

	; End of function sub_AB16


; =============== S U B R O U T I N E =======================================

sub_AB1C:
		jmp     (sub_36C).l

	; End of function sub_AB1C


; START OF FUNCTION CHUNK FOR sub_9D08

loc_AB22:
		bmi.s   loc_AAEC
loc_AB24:
		bsr.w   sub_8770
		moveq   #$FFFFFFFF,d0
		rts

; END OF FUNCTION CHUNK FOR sub_9D08


; =============== S U B R O U T I N E =======================================

sub_AB2C:
		move.w  #1,(word_FF0C98).l
		move.l  #$10F3F,(dword_FF0E30).l
		rts

	; End of function sub_AB2C


; =============== S U B R O U T I N E =======================================

sub_AB40:
		clr.w   d1
		clr.w   d2
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d1
		mulu.w  ((MAP_WIDTH-$1000000)).w,d1
		move.b  ((CURSOR_POSITION-$1000000)).w,d2
		add.w   d2,d1
		lea     ((byte_FFA4C0-$1000000)).w,a0
		btst    d0,(a0,d1.w)
		rts

	; End of function sub_AB40


; =============== S U B R O U T I N E =======================================

sub_AB5C:
		lea     ((BATTLE_STATS-$1000000)).w,a0
		moveq   #$1F,d7
loc_AB62:
		cmpi.b  #$FF,(a0)
		beq.s   loc_AB7C
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		cmp.b   1(a0),d0
		bne.s   loc_AB7C
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		cmp.b   2(a0),d0
		beq.s   loc_AB90
loc_AB7C:
		adda.w  #$10,a0
		dbf     d7,loc_AB62
		move.b  #$FF,((byte_FFB4C5-$1000000)).w
		ori     #1,ccr
		rts
loc_AB90:
		moveq   #$1F,d0
		sub.w   d7,d0
		move.b  d0,((byte_FFB4C5-$1000000)).w
		tst.b   d0
		rts

	; End of function sub_AB5C


; =============== S U B R O U T I N E =======================================

sub_AB9C:
		move.w  ((MAP_WIDTH-$1000000)).w,d5
		move.w  d5,d6
		add.w   d5,d5
		add.w   d6,d5
		add.w   d5,d5
		subq.w  #4,d5
		lea     (MAP_SPRITE_POSITION).l,a1
		move.w  #$11FF,d7
loc_ABB4:
		andi.l  #$9FFF9FFF,(a1)+
		dbf     d7,loc_ABB4
		lea     ((byte_FFA4C0-$1000000)).w,a0
		lea     (MAP_SPRITE_POSITION).l,a1
		move.w  ((MAP_HEIGHT-$1000000)).w,d7
		subq.w  #1,d7
		move.w  ((MAP_WIDTH-$1000000)).w,d4
		move.w  d4,d1
		add.w   d4,d4
		add.w   d1,d4
		lsl.w   #2,d4
loc_ABDA:
		move.w  ((MAP_WIDTH-$1000000)).w,d6
		subq.w  #1,d6
loc_ABE0:
		move.b  (a0)+,d1
		move.w  d0,d3
		add.w   d3,d3
		move.w  off_ABEE(pc,d3.w),d3
		jmp     off_ABEE(pc,d3.w)

	; End of function sub_AB9C

off_ABEE:       dc.w loc_AC62-off_ABEE
		dc.w sub_ABF6-off_ABEE
		dc.w sub_AC44-off_ABEE
		dc.w sub_AC44-off_ABEE

; =============== S U B R O U T I N E =======================================

sub_ABF6:
		btst    #0,d1
		beq.s   loc_AC40
		move.l  a1,-(sp)
		andi.l  #$9FFF9FFF,(a1)
		ori.l   #$20002000,(a1)+
		andi.w  #$9FFF,(a1)
		ori.w   #$2000,(a1)
		adda.w  d5,a1
		andi.l  #$9FFF9FFF,(a1)
loc_AC1A:
		ori.l   #$20002000,(a1)+
		andi.w  #$9FFF,(a1)
		ori.w   #$2000,(a1)
		adda.w  d5,a1
		andi.l  #$9FFF9FFF,(a1)
		ori.l   #$20002000,(a1)+
		andi.w  #$9FFF,(a1)
		ori.w   #$2000,(a1)
		movea.l (sp)+,a1
loc_AC40:
		bra.w   loc_AC62

	; End of function sub_ABF6


; =============== S U B R O U T I N E =======================================

sub_AC44:
		btst    #0,d1
		bne.s   loc_AC5E
		move.l  a1,-(sp)
		clr.l   (a1)+
		clr.w   (a1)
		adda.w  d5,a1
		clr.l   (a1)+
		clr.w   (a1)
		adda.w  d5,a1
		clr.l   (a1)+
		clr.w   (a1)
		movea.l (sp)+,a1
loc_AC5E:
		bra.w   *+4

	; End of function sub_AC44


; START OF FUNCTION CHUNK FOR sub_ABF6

loc_AC62:
		addq.w  #6,a1
		dbf     d6,loc_ABE0
		adda.w  d4,a1
		dbf     d7,loc_ABDA
		add.w   d0,d0
		move.w  off_AC78(pc,d0.w),d0
		jmp     off_AC78(pc,d0.w)

; END OF FUNCTION CHUNK FOR sub_ABF6

off_AC78:       dc.w sub_AC80-off_AC78
		dc.w sub_AC80-off_AC78
		dc.w sub_AC80-off_AC78
		dc.w sub_AC80-off_AC78

; =============== S U B R O U T I N E =======================================

sub_AC80:
		bra.w   sub_8DE2        
		rts

	; End of function sub_AC80


; =============== S U B R O U T I N E =======================================

sub_AC86:
		lea     (PALETTE_2_BIS).l,a0
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a0)+
		jsr     (j_WaitForVInt).l
		move.b  #5,(FADING_SETTING).l
		clr.b   (FADING_POINTER).l
		move.b  (FADING_COUNTER_MAX).l,(FADING_COUNTER).l
loc_ACCA:
		move.b  #2,(FADING_PALETTE_FLAGS).l
		rts

	; End of function sub_AC86


; =============== S U B R O U T I N E =======================================

sub_ACD4:
		lea     ((byte_FFBC8E-$1000000)).w,a6
		jsr     sub_202DC
		jmp     sub_124000

	; End of function sub_ACD4


; =============== S U B R O U T I N E =======================================

; Check if boss dead

sub_ACE4:
		clr.w   d2
		clr.w   d3
		moveq   #$1F,d7
		clr.w   d0
loc_ACEC:
		jsr     j_GetTargetID
		cmpi.w  #$FFFF,d1
		beq.w   loc_AD06
		btst    #7,d1
		bne.s   loc_AD04
		addq.w  #1,d2
		bra.s   loc_AD06
loc_AD04:
		addq.w  #1,d3
loc_AD06:
		addq.w  #1,d0
		dbf     d7,loc_ACEC
		clr.w   d0
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_AD24
		tst.w   d3
		bne.s   loc_AD24
		jsr     j_ResetForceMemberStats
		moveq   #1,d0
		move.b  d0,((byte_FFB4D7-$1000000)).w
loc_AD24:
		move.w  d0,-(sp)
		clr.w   d0
		jsr     j_GetHPFromForceID
		move.w  (sp)+,d0
		tst.w   d1              ; Check if hero dead
		bne.s   loc_AD36
		moveq   #2,d0
loc_AD36:
		moveq   #$FFFFFFFF,d1
		rts

	; End of function sub_ACE4


; =============== S U B R O U T I N E =======================================

ParseBattleExits:
		
		tst.b   ((byte_FFB4C5-$1000000)).w
		bne.w   loc_AD9C
loc_AD42:
		move.b  ((CURRENT_REGION-$1000000)).w,d0
		bpl.s   loc_AD54
		cmpi.w  #$21A,((CURSOR_POSITION-$1000000)).w
		bne.s   loc_AD54
		moveq   #1,d0
		rts
loc_AD54:
		move.b  ((CURSOR_POSITION-$1000000)).w,d1
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d2
		movea.l (p_pt_BattleExits).l,a0
		clr.w   d7
		move.b  ((CURRENT_CHAPTER-$1000000)).w,d7
		subq.w  #1,d7
		lsl.w   #2,d7
		movea.l (a0,d7.w),a0    ; get battle exits for current chapter
		clr.w   d3
loc_AD72:
		tst.b   (a0)
		bmi.w   loc_AD9C
		cmp.b   (a0),d0         ; compare to current region
		bne.s   loc_AD98
		cmp.b   1(a0),d1        ; compare to current X position
		bne.s   loc_AD98
		cmp.b   2(a0),d2        ; compare to current Y position
		bne.s   loc_AD98
		clr.w   d0
		move.b  3(a0),d0        ; get destination map ID
		move.b  5(a0),d3
		move.b  6(a0),d4
		bra.s   loc_ADA0
loc_AD98:
		addq.l  #4,a0
		bra.s   loc_AD72
loc_AD9C:
		moveq   #$FFFFFFFF,d0
		rts
loc_ADA0:
		move.b  d0,((CURRENT_MAP-$1000000)).w
		rts

	; End of function ParseBattleExits


; =============== S U B R O U T I N E =======================================

; Wrapper for ADEO, loads position and calls ADB8

sub_ADA6:
		move.b  ((CURRENT_REGION-$1000000)).w,d0
		move.b  ((CURSOR_POSITION-$1000000)).w,d1
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d2
		bsr.s   sub_ADB8        
		bra.w   loc_ADE0

	; End of function sub_ADA6


; =============== S U B R O U T I N E =======================================

; Get coordinates of tile sprite is facing D1,D2

sub_ADB8:
		clr.w   d3
		move.b  ((SPRITE_DIRECTION-$1000000)).w,d3
		add.w   d3,d3
		move.w  off_ADC8(pc,d3.w),d3
		jmp     off_ADC8(pc,d3.w)

	; End of function sub_ADB8

off_ADC8:       dc.w sub_ADD4-off_ADC8
		dc.w sub_ADD8-off_ADC8
		dc.w sub_ADD0-off_ADC8
		dc.w sub_ADDC-off_ADC8

; =============== S U B R O U T I N E =======================================

sub_ADD0:
		subq.b  #1,d2
		rts

	; End of function sub_ADD0


; =============== S U B R O U T I N E =======================================

sub_ADD4:
		addq.b  #1,d2
		rts

	; End of function sub_ADD4


; =============== S U B R O U T I N E =======================================

sub_ADD8:
		subq.b  #1,d1
		rts

	; End of function sub_ADD8


; =============== S U B R O U T I N E =======================================

sub_ADDC:
		addq.b  #1,d1
		rts

	; End of function sub_ADDC


; START OF FUNCTION CHUNK FOR sub_ADA6

loc_ADE0:
		tst.b   ((byte_FFB4D7-$1000000)).w
		bne.s   loc_ADEC
		clr.b   ((byte_FFB4D5-$1000000)).w
		bra.s   loc_ADF2
loc_ADEC:
		move.b  #1,((byte_FFB4D5-$1000000)).w
loc_ADF2:
		clr.w   d7
		move.b  ((CURRENT_CHAPTER-$1000000)).w,d7
		subq.w  #1,d7
		lsl.w   #7,d7
		movea.l (p_BattleChests).l,a0
		adda.w  d7,a0
		move.w  #$1F,d7
		clr.w   d3
loc_AE0A:
		cmp.b   (a0),d0
		bne.s   loc_AE2A
		cmp.b   1(a0),d1
		bne.s   loc_AE2A
		cmp.b   2(a0),d2
		bne.s   loc_AE2A
		bset    #0,((byte_FFB4D5-$1000000)).w
		move.w  d3,d0
		clr.w   d3
		move.b  3(a0),d3
		bra.s   locret_AE34
loc_AE2A:
		addq.w  #1,d3
		addq.l  #4,a0
		dbf     d7,loc_AE0A
		moveq   #$FFFFFFFF,d0
locret_AE34:
		rts

; END OF FUNCTION CHUNK FOR sub_ADA6


; =============== S U B R O U T I N E =======================================

; Display window? D0 = XXXXWWHH D1=? D2=?

sub_AE36:
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SWITCH
loc_AE3A:
		movem.l d0-d2/a0,-(sp)
		swap    d1
		bsr.w   sub_AEA8
		bsr.w   sub_AF66
		jsr     (j_WaitForVInt).l
		movem.l (sp)+,d0-d2/a0
		move.w  d2,d3
		subq.w  #1,d2
loc_AE56:
		bsr.w   sub_AF84
		movem.l d0-d3/a0,-(sp)
		move.w  d3,d7
		sub.w   d2,d7
		move.w  d1,d4
		swap    d1
		movem.w d1/d4,-(sp)
		ext.w   d1
		ext.w   d4
		sub.w   d1,d4
		muls.w  d7,d4
		divs.w  d3,d4
		add.w   d1,d4
		movem.w (sp)+,d1/d5
		asr.w   #8,d1
		asr.w   #8,d5
		sub.w   d1,d5
		muls.w  d7,d5
		divs.w  d3,d5
		add.w   d1,d5
		lsl.w   #8,d5
		andi.w  #$FF,d4
		or.w    d5,d4
		move.w  d4,d1
		bsr.w   sub_AEA8
		bsr.w   sub_AF70
		jsr     (j_WaitForVInt).l
		movem.l (sp)+,d0-d3/a0
		dbf     d2,loc_AE56
locret_AEA6:
		rts

	; End of function sub_AE36


; =============== S U B R O U T I N E =======================================

sub_AEA8:
		move.w  d0,((word_FFB7D4-$1000000)).w
		move.w  d1,((word_FFB7D6-$1000000)).w
		tst.b   ((DONT_SEND_SOUND_COMMANDS-$1000000)).w
		bne.s   locret_AEA6
		move.w  d0,-(sp)
		lea     (byte_FFD000).l,a1
		move.w  d1,-(sp)
		andi.w  #$FF00,d1
		asr.w   #7,d1
		move.w  (sp)+,d0
		ext.w   d0
		btst    #0,(byte_FF0EE9).l
		beq.w   loc_AF22
		asl.w   #7,d0
		move.w  #$80,d2 
		add.w   d0,d1
		adda.w  d1,a1
		move.w  (sp)+,d6
		move.w  d6,d7
		andi.w  #$FF,d7
		lsr.w   #8,d6
		sub.w   d6,d2
		sub.w   d6,d2
		subq.w  #1,d6
		subq.w  #1,d7
loc_AEF2:
		move.w  d6,-(sp)
loc_AEF4:
		move.l  a1,d0
		btst    #6,d0
		bne.s   loc_AF1C
		btst    #$C,d0
		beq.s   loc_AF1C
		move.w  (a0)+,(a1)+
loc_AF04:
		dbf     d6,loc_AEF4
		move.w  (sp)+,d6
		adda.w  d2,a1
		dbf     d7,loc_AEF2
		lea     ((loc_BFFE+2)).l,a1
		move.w  #$780,d0
		rts
loc_AF1C:
		addq.l  #2,a0
		addq.l  #2,a1
		bra.s   loc_AF04
loc_AF22:
		asl.w   #6,d0
		moveq   #$40,d2 
		add.w   d0,d1
		adda.w  d1,a1
		move.w  (sp)+,d6
		move.w  d6,d7
		andi.w  #$FF,d7
		lsr.w   #8,d6
		sub.w   d6,d2
		sub.w   d6,d2
		subq.w  #1,d6
		subq.w  #1,d7
loc_AF3C:
		move.w  d6,-(sp)
loc_AF3E:
		move.l  a1,d0
		btst    #$B,d0
		bne.s   loc_AF60
		move.w  (a0)+,(a1)+
loc_AF48:
		dbf     d6,loc_AF3E
		move.w  (sp)+,d6
		adda.w  d2,a1
		dbf     d7,loc_AF3C
		lea     (loc_E000).l,a1
		move.w  #$3C0,d0
		rts
loc_AF60:
		addq.l  #2,a0
		addq.l  #2,a1
		bra.s   loc_AF48

	; End of function sub_AEA8


; =============== S U B R O U T I N E =======================================

sub_AF66:
		lea     ($C000).l,a1
		move.w  #$780,d0

	; End of function sub_AF66


; =============== S U B R O U T I N E =======================================

sub_AF70:
		lea     (byte_FFD000).l,a0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3).l

	; End of function sub_AF70


; =============== S U B R O U T I N E =======================================

sub_AF84:
		movem.l d0-a1,-(sp)
		move.w  ((word_FFB7D4-$1000000)).w,d0
		move.w  ((word_FFB7D6-$1000000)).w,d1
		move.w  d0,-(sp)
		lea     (byte_FFD000).l,a1
		move.w  d1,-(sp)
		andi.w  #$FF00,d1
		asr.w   #7,d1
		move.w  (sp)+,d0
		ext.w   d0
		btst    #0,(byte_FF0EE9).l
		beq.w   loc_AFF4
		asl.w   #7,d0
		move.w  #$80,d2 
		add.w   d0,d1
		adda.w  d1,a1
		move.w  (sp)+,d6
		move.w  d6,d7
		andi.w  #$FF,d7
		lsr.w   #8,d6
		sub.w   d6,d2
		sub.w   d6,d2
		subq.w  #1,d6
		subq.w  #1,d7
loc_AFCC:
		move.w  d6,-(sp)
loc_AFCE:
		move.l  a1,d0
		btst    #6,d0
		bne.s   loc_AFF0
loc_AFD6:
		btst    #$C,d0
		beq.s   loc_AFF0
		clr.w   (a1)+
loc_AFDE:
		dbf     d6,loc_AFCE
		move.w  (sp)+,d6
		adda.w  d2,a1
		dbf     d7,loc_AFCC
		movem.l (sp)+,d0-a1
		rts
loc_AFF0:
		addq.l  #2,a1
		bra.s   loc_AFDE
loc_AFF4:
		asl.w   #6,d0
		moveq   #$40,d2 
		add.w   d0,d1
		adda.w  d1,a1
		move.w  (sp)+,d6
		move.w  d6,d7
		andi.w  #$FF,d7
		lsr.w   #8,d6
		sub.w   d6,d2
		sub.w   d6,d2
		subq.w  #1,d6
		subq.w  #1,d7
loc_B00E:
		move.w  d6,-(sp)
loc_B010:
		move.l  a1,d0
		btst    #$B,d0
		bne.s   loc_B02C
		clr.w   (a1)+
loc_B01A:
		dbf     d6,loc_B010
		move.w  (sp)+,d6
		adda.w  d2,a1
		dbf     d7,loc_B00E
		movem.l (sp)+,d0-a1
		rts
loc_B02C:
		addq.l  #2,a1
		bra.s   loc_B01A

	; End of function sub_AF84


; =============== S U B R O U T I N E =======================================

sub_B030:
		lea     (byte_FFD000).l,a0
loc_B036:
		move.w  #$3FF,d0
loc_B03A:
		clr.l   (a0)+
		dbf     d0,loc_B03A
		rts

	; End of function sub_B030


; =============== S U B R O U T I N E =======================================

DisplayNumber:
		
		jsr     (j_WriteAsciiNumber).l
		lea     (byte_FF0E80).l,a0
		moveq   #$A,d0
		sub.w   d7,d0
		adda.w  d0,a0

	; End of function DisplayNumber


; =============== S U B R O U T I N E =======================================

sub_B054:
		move.l  a2,-(sp)
		movea.l a1,a2
		subq.w  #1,d7
loc_B05A:
		clr.w   d0
		move.b  (a0)+,d0
		beq.w   loc_B08E
		ori.w   #$C000,d0
		cmpi.b  #9,d0
		beq.s   loc_B084
		move.w  d0,(a1)+
		bra.s   loc_B08A
		move.w  (a1,d1.w),d2
		cmpi.b  #$61,d2 
		bne.s   loc_B07E
		subi.w  #$3C,d0 
loc_B07E:
		move.w  d0,(a1,d1.w)
		bra.s   loc_B08A
loc_B084:
		movea.l a2,a1
		suba.w  d1,a1
		movea.l a1,a2
loc_B08A:
		dbf     d7,loc_B05A
loc_B08E:
		movea.l (sp)+,a2
		rts

	; End of function sub_B054


; =============== S U B R O U T I N E =======================================

sub_B092:
		movem.l d0-a6,-(sp)
		trap    #SOUND_COMMAND
		dc.w $FE
		jsr     (j_WaitForVInt).l
		jsr     (j_WaitForVInt).l
		jsr     (j_WaitForVInt).l
		jsr     (j_DisableDisplayAndInterrupts).l
		movem.l (sp)+,d0-a6
		rts

	; End of function sub_B092


; =============== S U B R O U T I N E =======================================

sub_B0B8:
		jsr     j_LoadBattleStats
		trap    #SOUND_COMMAND
		dc.w SFX_VALIDATION
		andi.w  #$FF,d0
		move.w  d0,((word_FFB7C4-$1000000)).w
		bsr.w   sub_B4A6
		bsr.w   sub_B87A
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     sub_20300
		cmpi.w  #$FFFF,d1
		beq.s   loc_B0EA
		move.w  d1,d0
		jsr     sub_E156
loc_B0EA:
		bsr.w   sub_B926
loc_B0EE:
		move.w  (dword_FF0E30).l,d0
		subi.w  #$7C,d0 
		move.b  d0,((byte_FFB521-$1000000)).w
		move.b  d0,((byte_FFB51F-$1000000)).w
		move.w  (word_FF0E36).l,d0
		subi.w  #$7C,d0 
		move.b  d0,((byte_FFB520-$1000000)).w
		move.b  d0,((byte_FFB51E-$1000000)).w
		move.l  #$187C0800,((byte_FFB522-$1000000)).w
		move.l  #$B4F8,(dword_FF0EF6).l
		bsr.w   sub_B274
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$161A,d0
		move.l  #$1F010901,d1
		move.w  #8,d2
		bsr.w   sub_AE36        
		bsr.w   sub_B46E
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     sub_20300
		cmpi.w  #$FFFF,d1
		beq.s   loc_B168
		lea     ((byte_FFB58C-$1000000)).w,a0
		lea     (PALETTE_1).l,a1
		jsr     (j_CopyPalette).l
		jsr     (j_StoreVDPCommandster).l
loc_B168:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetID
		btst    #7,d1
		bne.s   loc_B1BA
		movem.l d7-a1,-(sp)
		lea     wl_StatusGold(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$40,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		jsr     j_GetGold
		move.l  d1,d0
		lea     ((byte_FFB7FC-$1000000)).w,a1
		moveq   #6,d7
		bsr.w   DisplayNumber
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$804,d0
		move.l  #$11B0117,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
loc_B1BA:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     sub_20300
		cmpi.w  #$FFFF,d1
		beq.s   loc_B1CE
		bsr.w   sub_E1B4
loc_B1CE:
		jsr     (j_WaitForPlayer1NewButtonPush).l
		clr.b   ((byte_FFB5AC-$1000000)).w
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.s   loc_B1E6
		clr.w   d0
		bra.s   loc_B1E8
loc_B1E6:
		moveq   #$FFFFFFFF,d0
loc_B1E8:
		move.w  d0,-(sp)
		move.w  ((byte_FFB520-$1000000)).w,d0
		move.w  ((byte_FFB522-$1000000)).w,((byte_FFB520-$1000000)).w
		move.w  d0,((byte_FFB522-$1000000)).w
		move.w  #$1000,((byte_FFB524-$1000000)).w
		move.l  #$B4F8,(dword_FF0EF6).l
		movem.l d7-a1,-(sp)
		lea     wl_StatusMain(pc), a0
loc_B210:
		lea     ((byte_FFB7DA-$1000000)).w,a1
loc_B214:
		move.w  #$478,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_B2AC
		bsr.w   sub_B5F2
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$161A,d0
		move.l  #$901E001,d1
		move.w  #8,d2
		bsr.w   sub_AE36        
		lea     (PALETTE_1).l,a1
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		jsr     (j_StoreVDPCommandster).l
		bsr.w   sub_8DE2        
		bsr.w   sub_B900
		bsr.w   sub_9940
		bsr.w   sub_B030
		bsr.w   sub_AF66
		move.w  (sp)+,d0
		rts

	; End of function sub_B0B8


; =============== S U B R O U T I N E =======================================

sub_B274:
		movem.l d7-a1,-(sp)
		lea     wl_StatusMain(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$478,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_B2AC
		bsr.w   sub_B5F2
		bsr.w   sub_B7D8
		rts

	; End of function sub_B274


; =============== S U B R O U T I N E =======================================

sub_B29C:
		move.l  d0,(a0)
		subq.l  #4,a0
		cmpi.w  #$C020,(a0)
		beq.s   locret_B2AA
		lea     ((byte_FFB84C-$1000000)).w,a0
locret_B2AA:
		rts

	; End of function sub_B29C


; =============== S U B R O U T I N E =======================================

sub_B2AC:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetClassFromForceID
		jsr     j_GetClassName
		lea     ((byte_FFB808-$1000000)).w,a1
		move.w  d1,d7
		moveq   #$FFFFFFD4,d1
		bsr.w   sub_B054
		move.w  ((word_FFB7C4-$1000000)).w,d0
loc_B2CC:
		jsr     j_GetForceStatsFromForceID
		addq.w  #2,a1
		moveq   #$FFFFFFD4,d1
		moveq   #$A,d7
		bsr.w   sub_B054
		lea     ((byte_FFB82C-$1000000)).w,a0
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetStatusFromForceID
		btst    #2,d1
		beq.s   loc_B2F8
		move.l  #$C0FEC0FF,d0
		bsr.s   sub_B29C
loc_B2F8:
		btst    #0,d1
		beq.s   loc_B306
		move.l  #$C0EEC0EF,d0
		bsr.s   sub_B29C
loc_B306:
		btst    #4,d1
		beq.s   loc_B314
		move.l  #$C05BC05D,d0
		bsr.s   sub_B29C
loc_B314:
		btst    #6,d1
		beq.s   loc_B324
loc_B31A:
		move.l  #$C03CC03E,d0
		bsr.w   sub_B29C
loc_B324:
		btst    #1,d1
		beq.s   loc_B334
		move.l  #$C0FCC0FD,d0
		bsr.w   sub_B29C
loc_B334:
		move.w  ((word_FFB7C4-$1000000)).w,d0
loc_B338:
		jsr     j_GetHPFromForceID
		cmpi.w  #$64,d1 
		bge.s   loc_B352
		lea     ((byte_FFB8C0-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
loc_B352:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetMaxHPFromForceID
		cmpi.w  #$64,d1 
		bge.s   loc_B372
		lea     ((byte_FFB8C4-$1000000)).w,a1
		addq.w  #2,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
loc_B372:
		move.w  ((word_FFB7C4-$1000000)).w,d0
loc_B376:
		jsr     j_GetMPFromForceID
		cmpi.w  #$64,d1 
		bge.s   loc_B390
		lea     ((byte_FFB918-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
loc_B390:
		move.w  ((word_FFB7C4-$1000000)).w,d0
loc_B394:
		jsr     j_GetMaxMPFromForceID
		cmpi.w  #$64,d1 
		bge.s   loc_B3B0
		lea     ((byte_FFB91C-$1000000)).w,a1
		addq.w  #2,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
loc_B3B0:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetID
		tst.b   d1
		blt.s   loc_B3EC
		jsr     j_GetLevelFromForceID
		lea     ((byte_FFB86E-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetEXPFromForceID
		lea     ((byte_FFB976-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		bra.s   loc_B408
loc_B3EC:
		lea     unk_B46A(pc), a0
		lea     ((byte_FFB86C-$1000000)).w,a1
		moveq   #3,d7
		bsr.w   sub_B054
		lea     unk_B46A(pc), a0
		lea     ((byte_FFB974-$1000000)).w,a1
		moveq   #3,d7
		bsr.w   sub_B054
loc_B408:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetATT
		lea     ((byte_FFB884-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetDEF
		lea     ((byte_FFB8DC-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetMOVE
		lea     ((byte_FFB934-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetAGI
		lea     ((byte_FFB98C-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		rts

	; End of function sub_B2AC

unk_B46A:       dc.b $4E 
		dc.b $2F 
		dc.b $41 
		dc.b $20

; =============== S U B R O U T I N E =======================================

sub_B46E:
		lea     (byte_FFE000).l,a0
		move.w  #$97F,d0
loc_B478:
		move.w  (a0)+,d1
		andi.w  #$6000,d1
		bne.s   loc_B484
		clr.w   -2(a0)
loc_B484:
		dbf     d0,loc_B478
		lea     (byte_FFE000).l,a0
loc_B48E:
		lea     ($E000).l,a1
		move.w  #$800,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3AndWait).l

	; End of function sub_B46E


; =============== S U B R O U T I N E =======================================

sub_B4A6:
		lea     (word_FF0D30).l,a0
		lea     ((byte_FFB52B-$1000000)).w,a1
		moveq   #$1F,d0
		move.w  $100(a0),d1
		addi.l  #$1C,d1
		move.w  $106(a0),d2
		addi.l  #$1C,d2
loc_B4C6:
		move.w  (a0),d3
		move.w  6(a0),d4
		sub.w   d1,d3
		bgt.s   loc_B4E8
		cmpi.w  #$FFC8,d3
		blt.s   loc_B4E8
		sub.w   d2,d4
		bgt.s   loc_B4E8
		cmpi.w  #$FFD0,d4
		blt.s   loc_B4E8
		moveq   #$1F,d3
		sub.w   d0,d3
		move.b  d3,(a1)+
		bra.s   loc_B4EC
loc_B4E8:
		move.w  #1,(a0)
loc_B4EC:
		addq.l  #8,a0
		dbf     d0,loc_B4C6
		move.b  #$FF,(a1)
		rts

	; End of function sub_B4A6


; =============== S U B R O U T I N E =======================================

sub_B4F8:
		clr.w   d0
		move.b  ((byte_FFB520-$1000000)).w,d0
		clr.w   d1
		move.b  ((byte_FFB521-$1000000)).w,d1
		clr.w   d2
		move.b  ((byte_FFB522-$1000000)).w,d2
		clr.w   d3
		move.b  ((byte_FFB523-$1000000)).w,d3
		clr.w   d4
		move.b  ((byte_FFB524-$1000000)).w,d4
		clr.w   d5
		move.b  ((byte_FFB525-$1000000)).w,d5
		sub.w   d0,d2
		muls.w  d5,d2
		divs.w  d4,d2
		add.w   d2,d0
		sub.w   d1,d3
		muls.w  d5,d3
		divs.w  d4,d3
		add.w   d3,d1
		lea     (dword_FF0E30).l,a0
		move.w  d1,(a0)
		addi.w  #$7C,(a0) 
		move.w  d0,6(a0)
		addi.w  #$7C,6(a0) 
		lea     (word_FF0D30).l,a0
		lea     ((byte_FFB52B-$1000000)).w,a1
		lea     ((BATTLE_STATS-$1000000)).w,a2
		clr.w   d6
		move.b  ((byte_FFB4C6-$1000000)).w,d6
		lsl.w   #4,d6
		clr.w   d2
		move.b  1(a2,d6.w),d2
		clr.w   d3
		move.b  2(a2,d6.w),d3
loc_B564:
		clr.w   d7
		move.b  (a1)+,d7
		cmpi.b  #$FF,d7
		beq.s   loc_B5B0
		movem.w d4-d5,-(sp)
		lsl.w   #4,d7
		clr.w   d4
		move.b  1(a2,d7.w),d4
		clr.w   d5
		move.b  2(a2,d7.w),d5
		lsr.w   #1,d7
		sub.w   d2,d4
		sub.w   d3,d5
		move.w  d4,d6
		add.w   d4,d4
		add.w   d6,d4
		lsl.w   #3,d4
		move.w  d5,d6
		add.w   d5,d5
		add.w   d6,d5
		lsl.w   #3,d5
		add.w   d0,d4
		add.w   d1,d5
		addi.w  #$80,d4 
		addi.w  #$78,d5 
		move.w  d5,(a0,d7.w)
		move.w  d4,6(a0,d7.w)
		movem.w (sp)+,d4-d5
		bra.s   loc_B564
loc_B5B0:
		clr.w   d2
		move.b  ((byte_FFB51E-$1000000)).w,d2
		clr.w   d3
		move.b  ((byte_FFB51F-$1000000)).w,d3
		move.w  d0,d6
		sub.w   d2,d6
		subq.w  #4,d6
		jsr     (j_ClearOtherHScrollStuff).l
		move.w  d1,d6
		sub.w   d3,d6
		subq.w  #8,d6
		neg.w   d6
		jsr     (j_ClearOtherVScrollStuff).l
		jsr     (j_SetVIntParam3).l
		cmp.w   d4,d5
		bne.s   loc_B5EA
loc_B5E0:
		move.l  #$9A8A,(dword_FF0EF6).l
loc_B5EA:
		addq.b  #1,((byte_FFB525-$1000000)).w
		bra.w   sub_9A8A

	; End of function sub_B4F8


; =============== S U B R O U T I N E =======================================

sub_B5F2:
		move.w  #$C6D0,d7
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetForceSpellsFromForceID
		move.b  (a0),d1
		cmpi.b  #$FF,d1
		beq.w   loc_B6FC
		lea     ((byte_FFBA1A-$1000000)).w,a1
		moveq   #3,d6
loc_B610:
		move.b  (a0)+,d1
		cmpi.b  #$FF,d1
		beq.w   loc_B710
		bsr.w   sub_B7B4
		movem.w d0-d1/d6-d7,-(sp)
		movem.l a0-a1,-(sp)
		move.w  d1,d0
		jsr     j_GetSpellName
		move.w  d1,d7
		adda.w  #$30,a1 
		moveq   #$FFFFFFD4,d1
loc_B636:
		bsr.w   sub_B054
		movem.l (sp)+,a0-a1
		movem.w (sp)+,d0-d1/d6-d7
		movem.w d6-d7,-(sp)
		movem.l a0-a1,-(sp)
		lea     unk_B67C(pc), a0
		andi.w  #$C0,d1 
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		lsr.w   #4,d1
		adda.w  d1,a0
		adda.w  #$5C,a1 
		moveq   #$C,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,a0-a1
		movem.w (sp)+,d6-d7
		adda.w  #$84,a1 
		dbf     d6,loc_B610
		bra.w   loc_B710
unk_B67C:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F1 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
unk_B688:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
unk_B694:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F1 
		dc.b $C0 
		dc.b $20
unk_B6A0:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
unk_B6AC:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F5 
		dc.b $C0 
		dc.b $F4 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
unk_B6B8:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
		dc.b $C8 
		dc.b $F4 
		dc.b $C0 
		dc.b $F7 
		dc.b $C0 
		dc.b $20
unk_B6C4:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F5 
		dc.b $C0 
		dc.b $F4 
unk_B6D0:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F5 
		dc.b $C0 
		dc.b $F4 
		dc.b $C8 
		dc.b $F4 
		dc.b $C0 
		dc.b $F7 
		dc.b $C0 
		dc.b $20
unk_B6DC:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F2 
		dc.b $C8 
		dc.b $F0 
		dc.b $C8 
		dc.b $F4 
		dc.b $C0 
		dc.b $F6 
		dc.b $C0 
		dc.b $F4 
unk_B6E8:
		dc.b $C0 
		dc.b $F0 
		dc.b $C0 
		dc.b $F5 
		dc.b $C0 
		dc.b $F4 
		dc.b $C8 
		dc.b $F4 
		dc.b $C0 
		dc.b $F6 
		dc.b $C0 
		dc.b $F4 
unk_B6F4:
		dc.b $AE 
		dc.b $AF 
		dc.b $B4 
		dc.b $A8 
		dc.b $A9 
		dc.b $AE 
		dc.b $A7 
		dc.b $FF
loc_B6FC:
		move.w  d7,-(sp)
		lea     unk_B6F4(pc), a0
		lea     ((byte_FFBA46-$1000000)).w,a1
		moveq   #$FFFFFFD4,d1
		moveq   #7,d7
		bsr.w   sub_B054
		move.w  (sp)+,d7
loc_B710:
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		move.b  (a0),d1
		cmpi.b  #$FF,d1
		beq.w   loc_B79C
		lea     ((byte_FFBA2C-$1000000)).w,a1
		moveq   #3,d6
loc_B72A:
		move.b  (a0)+,d1
		cmpi.b  #$FF,d1
		beq.w   locret_B78A
		bsr.w   sub_B7B4
		movem.w d0-d1/d6-d7,-(sp)
		movem.l a0-a1,-(sp)
		move.w  d1,d0
		jsr     j_GetItemName
		move.w  d1,d7
		addq.w  #4,a1
		moveq   #$FFFFFFD4,d1
		bsr.w   sub_B054
		movem.l (sp)+,a0-a1
		movem.w (sp)+,d0-d1/d6-d7
		btst    #7,d1
		beq.w   loc_B782
		movem.w d6-d7,-(sp)
		movem.l a0-a1,-(sp)
		lea     unk_B78C(pc), a0
		adda.w  #$5C,a1 
		moveq   #$FFFFFFD4,d1
		moveq   #8,d7
		bsr.w   sub_B054
		movem.l (sp)+,a0-a1
		movem.w (sp)+,d6-d7
loc_B782:
		adda.w  #$84,a1 
		dbf     d6,loc_B72A
locret_B78A:
		rts
unk_B78C:
		dc.b $A5 
		dc.b $B1 
		dc.b $B5 
		dc.b $A9 
		dc.b $B0 
		dc.b $B0 
		dc.b $A5 
		dc.b $A4 
unk_B794:
		dc.b $AE 
		dc.b $AF 
		dc.b $B4 
		dc.b $A8 
		dc.b $A9 
		dc.b $AE 
		dc.b $A7 
		dc.b $FF
loc_B79C:
		move.w  d7,-(sp)
		lea     unk_B794(pc), a0
		lea     ((byte_FFBA58-$1000000)).w,a1
		moveq   #$FFFFFFD4,d1
		moveq   #7,d7
		bsr.w   sub_B054
		move.w  (sp)+,d7
		rts

	; End of function sub_B5F2

		dc.b $FF
		dc.b $FF

; =============== S U B R O U T I N E =======================================

sub_B7B4:
		move.w  d7,(a1)
		addq.w  #1,d7
		move.w  d7,2(a1)
		addq.w  #1,d7
		move.w  d7,$2C(a1)
		addq.w  #1,d7
		move.w  d7,$2E(a1)
		addq.w  #1,d7
		move.w  d7,$58(a1)
		addq.w  #1,d7
		move.w  d7,$5A(a1)
		addq.w  #1,d7
		rts

	; End of function sub_B7B4


; =============== S U B R O U T I N E =======================================

sub_B7D8:
		lea     (byte_FF4000).l,a1
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetForceSpellsFromForceID
		moveq   #3,d6
loc_B7EA:
		move.b  (a0)+,d1
		cmpi.b  #$FF,d1
		beq.w   loc_B81E
		move.l  a0,-(sp)
		andi.w  #$1F,d1
		movea.l (p_SpellIcons).l,a0
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		lsl.w   #6,d1
		adda.w  d1,a0
		move.w  #$C0,d7 
		jsr     (j_CopyBytes).l
		movea.l (sp)+,a0
		adda.w  #$C0,a1 
		dbf     d6,loc_B7EA
loc_B81E:
		jsr     j_GetForceItemsFromForceID
		moveq   #3,d6
loc_B826:
		move.b  (a0)+,d1
		cmpi.b  #$FF,d1
		beq.w   loc_B85A
		move.l  a0,-(sp)
		andi.w  #$3F,d1 
		movea.l (p_ItemIcons).l,a0
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		lsl.w   #6,d1
		adda.w  d1,a0
		move.w  #$C0,d7 
		jsr     (j_CopyBytes).l
		movea.l (sp)+,a0
		adda.w  #$C0,a1 
		dbf     d6,loc_B826
loc_B85A:
		lea     (byte_FF4000).l,a0
		lea     ($DA00).l,a1
		move.w  #$300,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jsr     (j_SetVIntParam3AndWait).l
		rts

	; End of function sub_B7D8


; =============== S U B R O U T I N E =======================================

sub_B87A:
		clr.b   (FADING_SETTING).l
		lea     (PALETTE_2_BIS).l,a0
		lea     (PALETTE_2).l,a1
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		move.l  -$20(a0),(a1)+
		move.l  -$20(a0),(a0)+
		jsr     (j_StoreVDPCommandster).l
		jsr     (j_WaitForVInt).l
		moveq   #1,d0
		bsr.w   sub_B936
		move.b  #OUT_TO_BLACK,(FADING_SETTING).l
		clr.b   (FADING_POINTER).l
		move.b  (FADING_COUNTER_MAX).l,(FADING_COUNTER).l
		move.b  #1,(FADING_PALETTE_FLAGS).l
		rts

	; End of function sub_B87A


; =============== S U B R O U T I N E =======================================

sub_B900:
		move.b  #IN_FROM_BLACK,(FADING_SETTING).l
		clr.b   (FADING_POINTER).l
		move.b  (FADING_COUNTER_MAX).l,(FADING_COUNTER).l
		move.b  #1,(FADING_PALETTE_FLAGS).l
		bsr.s   sub_B926
		clr.w   d0
		bra.s   sub_B936

	; End of function sub_B900


; =============== S U B R O U T I N E =======================================

sub_B926:
		jsr     (j_WaitForVInt).l
		tst.b   (FADING_SETTING).l
		bne.s   sub_B926
		rts

	; End of function sub_B926


; =============== S U B R O U T I N E =======================================

sub_B936:
		clr.w   d2
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d2
		move.w  ((MAP_WIDTH-$1000000)).w,d1
		mulu.w  d1,d2
		clr.w   d1
		move.b  ((CURSOR_POSITION-$1000000)).w,d1
		add.w   d2,d1
		lea     ((byte_FFA4C0-$1000000)).w,a0
		adda.w  d1,a0
		move.w  ((MAP_WIDTH-$1000000)).w,d2
		move.b  d0,-1(a0,d2.w)
		move.b  d0,(a0,d2.w)
		move.b  d0,1(a0,d2.w)
		move.b  d0,-1(a0)
		move.b  d0,(a0)
		move.b  d0,1(a0)
		neg.w   d2
		move.b  d0,-1(a0,d2.w)
		move.b  d0,(a0,d2.w)
		move.b  d0,1(a0,d2.w)
		bsr.w   sub_AB9C
		jmp     (j_WaitForVInt).l

	; End of function sub_B936

wl_StatusMain:  incbin "data/graphics/tech/windowlayouts/wl-statusmain.bin"
wl_StatusGold:  incbin "data/graphics/tech/windowlayouts/wl-statusgold.bin"

; =============== S U B R O U T I N E =======================================

sub_BE3A:
		move.b  #3,((byte_FFB526-$1000000)).w
		jsr     j_GetForceItemsAddress
		movea.l (p_ItemIcons).l,a2
		bra.w   loc_C5F4

	; End of function sub_BE3A


; =============== S U B R O U T I N E =======================================

sub_BE50:
		clr.w   d0
		move.b  ((byte_FFB526-$1000000)).w,d0
		cmpi.w  #1,d0
		bne.s   loc_BE5E
		rts
loc_BE5E:
		lsl.w   #2,d0
		movea.l pt_MenuTiles(pc,d0.w),a0
		movea.l (a0),a0
		jmp     (j_DecompressGraphics).l

	; End of function sub_BE50

pt_MenuTiles:   dc.l p_MenuTiles_Options
		dc.l p_MenuTiles_Main
		dc.l p_MenuTiles_Options
		dc.l p_MenuTiles_Options
		dc.l p_MenuTiles_Item
		dc.l p_MenuTiles_Shop
		dc.l p_MenuTiles_Options
		dc.l p_MenuTiles_Options
		dc.l p_MenuTiles_HQ
		dc.l p_MenuTiles_Church

; =============== S U B R O U T I N E =======================================

sub_BE94:
		movem.l d0-a1,-(sp)
		bsr.w   sub_C46A
		lea     unk_CC90(pc), a0
		nop
		move.w  #$606,d0
		bclr    #0,((byte_FFB4CA-$1000000)).w
		bne.s   loc_BEBA
		move.l  #$20101910,d1
		moveq   #3,d2
		bsr.w   sub_AE36        
loc_BEBA:
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_BE94


; =============== S U B R O U T I N E =======================================

sub_BEC0:
		movem.l d0-a1,-(sp)
		lea     unk_CC90(pc), a0
		nop
		move.w  #$606,d0
		move.l  #$19102010,d1
		moveq   #2,d2
		bsr.w   sub_AE36        
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_BEC0


; =============== S U B R O U T I N E =======================================

sub_BEE0:
		clr.w   d7
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		jsr     sub_202BC
		jsr     sub_202D8
		tst.w   ((word_FFA8C0-$1000000)).w
		beq.s   loc_BEFC
		clr.w   d7
		bra.s   loc_BEFE
loc_BEFC:
		moveq   #3,d7
loc_BEFE:
		move.b  d7,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		move.b  d7,((byte_FFB529-$1000000)).w
		bra.s   loc_BF1C

	; End of function sub_BEE0


; =============== S U B R O U T I N E =======================================

sub_BF08:
		move.b  #3,((byte_FFB4D5-$1000000)).w
		bra.s   sub_BF14

	; End of function sub_BF08


; =============== S U B R O U T I N E =======================================

sub_BF10:
		clr.b   ((byte_FFB4D5-$1000000)).w

	; End of function sub_BF10


; =============== S U B R O U T I N E =======================================

sub_BF14:
		clr.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		clr.b   ((byte_FFB529-$1000000)).w
loc_BF1C:
		btst    #1,((byte_FFB526-$1000000)).w
		bne.s   loc_BF28
		bsr.w   sub_BE50
loc_BF28:
		bsr.w   sub_C3AA
		bsr.w   sub_C480
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$1306,d0
		bclr    #0,((byte_FFB4CA-$1000000)).w
		bne.s   loc_BF56
		tst.b   ((byte_FFB4CC-$1000000)).w
		beq.s   loc_BF4E
		move.l  #$19100C15,d1
		bra.s   loc_BF54
loc_BF4E:
		move.l  #$C1B0C15,d1
loc_BF54:
		bra.s   loc_BF5C
loc_BF56:
		move.l  #$1C150C15,d1
loc_BF5C:
		move.w  #4,d2
		bsr.w   sub_AE36        
		bsr.w   sub_C1EA
loc_BF68:
		moveq   #$F,d6
loc_BF6A:
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_BF8C
		moveq   #1,d1
		bsr.w   sub_C262
		bcs.w   loc_BF8C
		move.b  #1,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_C01A
loc_BF8C:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_BFAC
		moveq   #2,d1
		bsr.w   sub_C262
		bcs.s   loc_BFAC
		move.b  #2,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_C01A
loc_BFAC:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_BFC2
		clr.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_C01A
loc_BFC2:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_BFE2
		moveq   #3,d1
		bsr.w   sub_C262
		bcs.s   loc_BFE2
		move.b  #3,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_C01A
loc_BFE2:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_BFF2
		moveq   #$FFFFFFFF,d0
		bra.w   loc_C090
loc_BFF2:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_C006
		clr.w   d0
loc_BFFE:
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		bra.w   loc_C050
loc_C006:
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_C02E
		clr.w   d0
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		bra.w   loc_C050
loc_C01A:
		bsr.w   sub_C1DA
		bsr.w   sub_C3AA
		bsr.w   sub_C154
		jsr     (j_WaitForVInt).l
		moveq   #$13,d6
loc_C02E:
		btst    #1,((byte_FFB526-$1000000)).w
		beq.s   loc_C042
		bsr.w   sub_C1A6
		jsr     (j_WaitForVInt).l
		bra.s   loc_C046
loc_C042:
		bsr.w   sub_C480
loc_C046:
		subq.w  #1,d6
		bne.s   loc_C04C
		moveq   #$14,d6
loc_C04C:
		bra.w   loc_BF6A
loc_C050:
		cmpi.b  #2,((byte_FFB526-$1000000)).w
		bne.w   loc_C090
		trap    #SOUND_COMMAND
		dc.w SFX_VALIDATION
		move.w  d0,-(sp)
		moveq   #$14,d6
		bsr.w   sub_C1A6
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetForceSpellsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  (a0,d1.w),d1
		bsr.w   sub_C29C
		clr.w   d6
		bsr.w   sub_C16A
		trap    #SOUND_COMMAND
		dc.w SFX_VALIDATION
		move.w  (sp)+,d0
		cmpi.w  #$FFFF,d1
		beq.s   loc_C01A
loc_C090:
		movem.w d0-d1,-(sp)
		move.w  d0,-(sp)
		clr.w   d6
		bsr.w   sub_C1A6
		move.w  (sp)+,d0
		cmpi.b  #2,((byte_FFB526-$1000000)).w
		beq.w   loc_C10E
		cmpi.b  #3,((byte_FFB526-$1000000)).w
		bne.w   loc_C10E
		tst.b   ((byte_FFB52A-$1000000)).w
		bne.w   loc_C10E
		cmpi.w  #$FFFF,d0
		beq.w   loc_C10E
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  (a0,d1.w),d1
		btst    #7,d1
		beq.w   loc_C0E8
		jsr     j_GetItemType
		btst    #$D,d2
loc_C0E8:
		beq.s   loc_C100
		bsr.w   sub_DCFA
		moveq   #5,d0
		bsr.w   sub_D32C
		bsr.w   sub_C3AA
		movem.w (sp)+,d0-d1
		bra.w   loc_BF68
loc_C100:
		bra.s   loc_C10E
		clr.w   d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
loc_C10E:
		movem.w (sp)+,d0-d1
		lea     ((byte_FFB7DA-$1000000)).w,a0
		movem.w d0-d1,-(sp)
		cmpi.b  #$FF,d0
		beq.s   loc_C128
		move.l  #$C152015,d1
		bra.s   loc_C142
loc_C128:
		tst.b   ((byte_FFB4CC-$1000000)).w
		beq.s   loc_C136
		move.l  #$C151710,d1
		bra.s   loc_C13C
loc_C136:
		move.l  #$C150C1C,d1
loc_C13C:
		bset    #0,((byte_FFB4CA-$1000000)).w
loc_C142:
		move.w  #$1306,d0
		move.w  #4,d2
		bsr.w   sub_AE36        
		movem.w (sp)+,d0-d1
		rts

	; End of function sub_BF14


; =============== S U B R O U T I N E =======================================

sub_C154:
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$1306,d0
		move.l  #$C15,d1
		bsr.w   sub_AEA8
		bra.w   sub_AF66

	; End of function sub_C154


; =============== S U B R O U T I N E =======================================

sub_C16A:
		lea     (word_FF0C88).l,a1
		lea     unk_C7B2(pc), a0
		nop
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		cmpi.w  #$A,d6
		bge.s   loc_C190
		move.w  #1,-$10(a1)
		move.w  #1,-8(a1)
loc_C190:
		btst    #INPUT_A_START_BIT,(P1_INPUT).l
		beq.s   sub_C1A6
		move.w  #1,-$10(a1)
		move.w  #1,-8(a1)

	; End of function sub_C16A


; =============== S U B R O U T I N E =======================================

sub_C1A6:
		lea     (SPRITE_TABLE).l,a1
		lea     unk_C792(pc), a0
		nop
		clr.w   d0
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		lsl.w   #3,d0
		adda.w  d0,a0
		move.w  (a0)+,d0
		cmpi.w  #$A,d6
		bge.s   loc_C1C6
		moveq   #1,d0
loc_C1C6:
		btst    #INPUT_A_START_BIT,(P1_INPUT).l
		beq.s   loc_C1D2
		moveq   #1,d0
loc_C1D2:
		move.w  d0,(a1)+
		move.l  (a0)+,(a1)+
		move.w  (a0)+,(a1)+
		rts

	; End of function sub_C1A6


; =============== S U B R O U T I N E =======================================

sub_C1DA:
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d7
		cmp.b   ((byte_FFB529-$1000000)).w,d7
		beq.w   locret_C242
		move.b  d7,((byte_FFB529-$1000000)).w

	; End of function sub_C1DA


; =============== S U B R O U T I N E =======================================

sub_C1EA:
		btst    #1,((byte_FFB526-$1000000)).w
		beq.w   locret_C242
		tst.b   ((byte_FFB53A-$1000000)).w
		bne.s   locret_C242
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
loc_C204:
		btst    #0,((byte_FFB526-$1000000)).w
		beq.s   loc_C226
		tst.b   ((byte_FFB52A-$1000000)).w
		beq.w   locret_C242
		jsr     j_GetForceItemsFromForceID
loc_C21A:
		move.b  (a0,d1.w),d1
		jsr     j_UseItem
		bra.s   loc_C236
loc_C226:
		jsr     j_GetForceSpellsFromForceID
		move.b  (a0,d1.w),d1
		jsr     sub_202C8
loc_C236:
		moveq   #1,d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
locret_C242:
		rts

	; End of function sub_C1EA


; =============== S U B R O U T I N E =======================================

sub_C244:
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		tst.b   ((byte_FFB53A-$1000000)).w
		beq.s   loc_C250
		rts
loc_C250:
		lsl.w   #6,d5
		or.w    d5,d1
		jsr     sub_202C8
		jsr     (j_WaitForVInt).l
		bra.s   loc_C236

	; End of function sub_C244


; =============== S U B R O U T I N E =======================================

sub_C262:
		btst    #1,((byte_FFB526-$1000000)).w
		beq.w   loc_C298
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		btst    #0,((byte_FFB526-$1000000)).w
		beq.s   loc_C280
		jsr     j_GetForceItemsFromForceID
		bra.s   loc_C286
loc_C280:
		jsr     j_GetForceSpellsFromForceID
loc_C286:
		move.b  (a0,d1.w),d1
		cmpi.b  #$FF,d1
		bne.w   loc_C298
		ori     #1,ccr
		rts
loc_C298:
		tst.b   d0
		rts

	; End of function sub_C262


; =============== S U B R O U T I N E =======================================

sub_C29C:
		move.w  d1,d4
		lsr.w   #6,d4
		move.w  d4,d5
		andi.w  #$3F,d1 
		jsr     (j_WaitForVInt).l
loc_C2AC:
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_C2C4
		subq.w  #1,d5
		cmpi.w  #$FFFF,d5
		bne.s   loc_C2C0
		move.w  d4,d5
loc_C2C0:
		bra.w   loc_C308
loc_C2C4:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_C2DA
		addq.w  #1,d5
		cmp.w   d4,d5
		ble.s   loc_C2D6
		clr.w   d5
loc_C2D6:
		bra.w   loc_C308
loc_C2DA:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_C2E8
		moveq   #$FFFFFFFF,d1
		rts
loc_C2E8:
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_C2F6
		bra.w   loc_C302
loc_C2F6:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		beq.w   loc_C34E
loc_C302:
		lsl.w   #6,d5
		or.w    d5,d1
		rts
loc_C308:
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		movem.w d1/d4-d5,-(sp)
		lsl.w   #2,d4
		add.w   d5,d4
		lsl.w   #2,d4
		lea     off_C362(pc), a0
		nop
		movea.l (a0,d4.w),a0
		lea     ((byte_FFB860-$1000000)).w,a1
		moveq   #$C,d7
		jsr     (j_CopyBytes).l
		lsl.w   #6,d5
		andi.w  #$3F,d1 
		or.w    d5,d1
		bsr.w   sub_C73A
		bsr.w   sub_C154
		movem.w (sp)+,d1/d4-d5
		movem.w d1/d4-d5,-(sp)
		bsr.w   sub_C244
		movem.w (sp)+,d1/d4-d5
		moveq   #$13,d6
loc_C34E:
		bsr.w   sub_C16A
		jsr     (j_WaitForVInt).l
		subq.w  #1,d6
		bne.s   loc_C35E
		moveq   #$14,d6
loc_C35E:
		bra.w   loc_C2AC

	; End of function sub_C29C

off_C362:       dc.l unk_B67C
		dc.l unk_B67C
		dc.l unk_B67C
		dc.l unk_B67C
		dc.l unk_B6AC
		dc.l unk_B688
		dc.l unk_B688
		dc.l unk_B688
		dc.l unk_B6D0
		dc.l unk_B6B8
		dc.l unk_B694
		dc.l unk_B694
		dc.l unk_B6E8
		dc.l unk_B6DC
		dc.l unk_B6C4
		dc.l unk_B6A0
defined_word_C3A2:
		dc.w $AE
		dc.w $AE
		dc.w $62
		dc.w $88

; =============== S U B R O U T I N E =======================================

sub_C3AA:
		clr.w   d0
		move.b  ((byte_FFB526-$1000000)).w,d0
		move.w  d0,-(sp)
		cmpi.w  #3,d0
		bgt.s   loc_C3C2
		andi.w  #3,d0
		mulu.w  #$E4,d0 
		bra.s   loc_C3C4
loc_C3C2:
		clr.w   d0
loc_C3C4:
		lea     asc_C900(pc), a0
		adda.w  d0,a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$E4,d7 
		jsr     (j_CopyBytes).l
		move.w  (sp)+,d0
		cmpi.w  #2,d0
		beq.w   loc_C6EE
		cmpi.w  #3,d0
		beq.w   loc_C74E
		move.w  d0,d7
		andi.w  #3,d7
		add.w   d7,d7
		move.w  defined_word_C3A2(pc,d7.w),d7
		lea     ((byte_FFB7DA-$1000000)).w,a1
		adda.w  d7,a1
		lsl.w   #4,d0
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		lsl.w   #2,d1
		add.w   d1,d0
		lea     pt_MenuOptionLabels(pc), a0
		movea.l (a0,d0.w),a0
		cmpi.b  #1,((byte_FFB526-$1000000)).w
		bne.s   loc_C440
		cmpi.b  #0,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C42C
		btst    #1,((byte_FFB4D5-$1000000)).w
		beq.s   loc_C42C
		lea     unk_C89C(pc), a0
loc_C42C:
		cmpi.b  #3,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C440
		btst    #0,((byte_FFB4D5-$1000000)).w
		beq.s   loc_C440
		lea     unk_C895(pc), a0
loc_C440:
		cmpi.b  #4,((byte_FFB526-$1000000)).w
		bne.s   loc_C45C
		cmpi.b  #1,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C45C
		btst    #2,((byte_FFB4D5-$1000000)).w
		beq.s   loc_C45C
		lea     unk_C8A1(pc), a0
loc_C45C:
		clr.w   d7
		move.b  (a0)+,d7
		move.w  #$FFDA,d1
		bsr.w   sub_B054
		rts

	; End of function sub_C3AA


; =============== S U B R O U T I N E =======================================

sub_C46A:
		move.b  ((byte_FFB4C9-$1000000)).w,d1
		move.w  d1,-(sp)
		move.b  d0,((byte_FFB4C9-$1000000)).w
		bsr.w   sub_C480
		move.w  (sp)+,d1
		move.b  d1,((byte_FFB4C9-$1000000)).w
		rts

	; End of function sub_C46A


; =============== S U B R O U T I N E =======================================

sub_C480:
		clr.w   d0
		move.b  ((byte_FFB526-$1000000)).w,d0
		btst    #1,d0
		bne.w   loc_C5CC
		cmpi.b  #1,((byte_FFB526-$1000000)).w
		bne.s   loc_C49E
		movea.l (p_MenuTiles_Main).l,a2
		bra.s   loc_C4A4
loc_C49E:
		lea     (FF3000_LOADING_SPACE).l,a2
loc_C4A4:
		movea.l a2,a0
loc_C4A6:
		btst    #1,((byte_FFB4D5-$1000000)).w
		beq.s   loc_C4B2
		adda.w  #$900,a0
loc_C4B2:
		cmpi.w  #$A,d6
		ble.s   loc_C4C2
		tst.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C4C2
		adda.w  #$120,a0
loc_C4C2:
		lea     (FF0FFE_LOADING_SPACE).l,a1
		move.w  #$120,d7
		jsr     (j_CopyBytes).l
		adda.w  #$120,a1
		move.l  a1,-(sp)
		move.w  #$BF,d0 
loc_C4DC:
		clr.l   (a1)+
		dbf     d0,loc_C4DC
		movea.l (sp)+,a1
		movea.l a2,a0
		btst    #2,((byte_FFB4D5-$1000000)).w
		beq.s   loc_C4F2
		adda.w  #$6C0,a0
loc_C4F2:
		adda.w  #$240,a0
		cmpi.w  #$A,d6
		ble.s   loc_C508
		cmpi.b  #1,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C508
		adda.w  #$120,a0
loc_C508:
		moveq   #8,d7
loc_C50A:
		move.l  (a0)+,$10(a1)
		move.l  (a0)+,$14(a1)
		move.l  (a0)+,$18(a1)
		move.l  (a0)+,$1C(a1)
		move.l  (a0)+,$60(a1)
		move.l  (a0)+,$64(a1)
loc_C522:
		move.l  (a0)+,$68(a1)
		move.l  (a0)+,$6C(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_C50A
		adda.w  #$60,a1 
		movea.l a2,a0
		adda.w  #$480,a0
		cmpi.w  #$A,d6
		ble.s   loc_C54E
		cmpi.b  #2,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C54E
		adda.w  #$120,a0
loc_C54E:
		moveq   #8,d7
loc_C550:
		move.l  (a0)+,$10(a1)
		move.l  (a0)+,$14(a1)
		move.l  (a0)+,$18(a1)
		move.l  (a0)+,$1C(a1)
		move.l  (a0)+,$60(a1)
		move.l  (a0)+,$64(a1)
		move.l  (a0)+,$68(a1)
		move.l  (a0)+,$6C(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_C550
		adda.w  #$60,a1 
		movea.l a2,a0
		adda.w  #$6C0,a0
		btst    #0,((byte_FFB4D5-$1000000)).w
		beq.s   loc_C58E
		adda.w  #$480,a0
loc_C58E:
		cmpi.w  #$A,d6
		ble.s   loc_C5A0
		cmpi.b  #3,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bne.s   loc_C5A0
		adda.w  #$120,a0
loc_C5A0:
		move.w  #$120,d7
		jsr     (j_CopyBytes).l
		adda.w  #$120,a1
		lea     (FF0FFE_LOADING_SPACE).l,a0
		lea     ($F800).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3AndWait).l
loc_C5CC:
		btst    #0,d0
		beq.s   loc_C5E4
		movea.l (p_ItemIcons).l,a2
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		bra.s   loc_C5F4
loc_C5E4:
		movea.l (p_SpellIcons).l,a2
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetForceSpellsFromForceID
loc_C5F4:
		movea.l a0,a3
		clr.w   d1
		bsr.w   sub_C6C6
		lea     (FF0FFE_LOADING_SPACE).l,a1
		move.w  #$C0,d7 
loc_C606:
		jsr     (j_CopyBytes).l
		adda.w  #$C0,a1 
		move.l  a1,-(sp)
		move.w  #$BF,d0 
loc_C616:
		clr.l   (a1)+
		dbf     d0,loc_C616
		movea.l (sp)+,a1
		moveq   #1,d1
		bsr.w   sub_C6C6
		moveq   #5,d7
loc_C626:
		move.l  (a0)+,$10(a1)
		move.l  (a0)+,$14(a1)
		move.l  (a0)+,$18(a1)
		move.l  (a0)+,$1C(a1)
		move.l  (a0)+,$40(a1)
		move.l  (a0)+,$44(a1)
		move.l  (a0)+,$48(a1)
		move.l  (a0)+,$4C(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_C626
		adda.w  #$40,a1 
		moveq   #2,d1
		bsr.w   sub_C6C6
		moveq   #5,d7
loc_C65A:
		move.l  (a0)+,$10(a1)
		move.l  (a0)+,$14(a1)
		move.l  (a0)+,$18(a1)
		move.l  (a0)+,$1C(a1)
		move.l  (a0)+,$40(a1)
		move.l  (a0)+,$44(a1)
		move.l  (a0)+,$48(a1)
		move.l  (a0)+,$4C(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_C65A
		adda.w  #$40,a1 
		moveq   #3,d1
		bsr.w   sub_C6C6
		move.w  #$C0,d7 
		jsr     (j_CopyBytes).l
		adda.w  #$C0,a1 
		lea     unk_CCD8(pc), a0
		move.w  #$200,d7
		jsr     (j_CopyBytes).l
		lea     (FF0FFE_LOADING_SPACE).l,a0
		lea     ($F800).l,a1
		move.w  #$300,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3AndWait).l

	; End of function sub_C480


; =============== S U B R O U T I N E =======================================

sub_C6C6:
		move.b  (a3,d1.w),d1
		andi.w  #$3F,d1 
		cmpi.w  #$3F,d1 
		bne.s   loc_C6E0
		movea.l (p_ItemIcons).l,a0
		adda.w  #$2F40,a0
		bra.s   locret_C6EC
loc_C6E0:
		move.w  d1,d7
		add.w   d1,d1
		add.w   d7,d1
		lsl.w   #6,d1
		movea.l a2,a0
		adda.w  d1,a0
locret_C6EC:
		rts

	; End of function sub_C6C6


; START OF FUNCTION CHUNK FOR sub_C3AA

loc_C6EE:
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetForceSpellsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  (a0,d1.w),d1
		move.w  d1,-(sp)
		jsr     j_GetSpellName
		move.w  d1,d7
		lea     ((byte_FFB83A-$1000000)).w,a1
		moveq   #$FFFFFFDA,d1
		bsr.w   sub_B054
		move.w  (sp)+,d1
		move.w  d1,-(sp)
		lea     unk_B67C(pc), a0
		andi.w  #$C0,d1 
		move.w  d1,d2
		add.w   d1,d1
		add.w   d2,d1
		lsr.w   #4,d1
		adda.w  d1,a0
		lea     ((byte_FFB860-$1000000)).w,a1
		moveq   #$C,d7
		jsr     (j_CopyBytes).l
		move.w  (sp)+,d1

; END OF FUNCTION CHUNK FOR sub_C3AA


; =============== S U B R O U T I N E =======================================

sub_C73A:
		jsr     j_GetMPCost
		lea     ((byte_FFB88C-$1000000)).w,a1
		moveq   #3,d7
		move.w  d2,d0
		ext.l   d0
		bra.w   DisplayNumber

	; End of function sub_C73A


; START OF FUNCTION CHUNK FOR sub_C3AA

loc_C74E:
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetForceItemsFromForceID
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		move.b  (a0,d1.w),d1
		move.w  d1,-(sp)
		jsr     j_GetItemName
		move.w  d1,d7
		lea     ((byte_FFB83A-$1000000)).w,a1
		moveq   #$FFFFFFDA,d1
		bsr.w   sub_B054
		move.w  (sp)+,d1
		btst    #7,d1
		beq.s   locret_C790
		lea     unk_B78C(pc), a0
		lea     ((byte_FFB886-$1000000)).w,a1
		move.w  #8,d7
		moveq   #$FFFFFFDA,d1
		bsr.w   sub_B054
locret_C790:
		rts

; END OF FUNCTION CHUNK FOR sub_C3AA

unk_C792:       dc.b   1
		dc.b $27 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $FF
		dc.b   1
		dc.b $33 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $EF 
		dc.b   1
		dc.b $33 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   1
		dc.b  $F
		dc.b   1
		dc.b $3F 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $FF
unk_C7B2:       dc.b   1
		dc.b $40 
		dc.b  $C
		dc.b   2
		dc.b $C7 
		dc.b $E8 
		dc.b   1
		dc.b $28 
		dc.b   1
		dc.b $40 
		dc.b  $C
		dc.b   3
		dc.b $CF 
		dc.b $E8 
		dc.b   1
		dc.b $48 
pt_MenuOptionLabels:
		dc.l unk_C862
		dc.l unk_C86B
		dc.l unk_C871
		dc.l unk_C879
		dc.l unk_C87E
		dc.l unk_C885
		dc.l unk_C88B
		dc.l unk_C890
		dc.l unk_C895
		dc.l unk_C89C
		dc.l unk_C8A1
		dc.l unk_C8A1
		dc.l unk_C8A1
		dc.l unk_C8A1
		dc.l unk_C8A1
		dc.l unk_C8A1
		dc.l unk_C8A6
		dc.l unk_C8AA
		dc.l unk_C8AF
		dc.l unk_C8B5
		dc.l unk_C8BA
		dc.l unk_C8C3
		dc.l unk_C8BE
		dc.l unk_C8C9
		dc.l unk_C8A6
		dc.l unk_C8AA
		dc.l unk_C8AF
		dc.l unk_C8B5
		dc.l unk_C8BA
		dc.l unk_C8C3
		dc.l unk_C8BE
		dc.l unk_C8C9
		dc.l unk_C8D0
		dc.l unk_C8D7
		dc.l unk_C8DC
		dc.l unk_C8E1
		dc.l unk_C8E8
		dc.l unk_C8ED
		dc.l unk_C8F2
		dc.l unk_C8F8
unk_C862:       dc.b   8
aMapdisp:       dc.b 'MAP',0,'DISP'
unk_C86B:       dc.b   5
aSpeed:         dc.b 'SPEED'
unk_C871:       dc.b   7
aMessage:       dc.b 'MESSAGE'
unk_C879:       dc.b   4
aQuit:          dc.b 'QUIT'
unk_C87E:       dc.b   6
aAttack:        dc.b 'ATTACK'
unk_C885:       dc.b   5
aMagic:         dc.b 'MAGIC'
unk_C88B:       dc.b   4
aItem:          dc.b 'ITEM'
unk_C890:       dc.b   4
aStay:          dc.b 'STAY'
unk_C895:       dc.b   6
aSearch:        dc.b 'SEARCH'
unk_C89C:       dc.b   4
aTalk:          dc.b 'TALK'
unk_C8A1:       dc.b   4
aGold:          dc.b 'GOLD'
unk_C8A6:       dc.b   3
aUse:           dc.b 'USE'
unk_C8AA:       dc.b   4
aGive:          dc.b 'GIVE'
unk_C8AF:       dc.b   5
aEquip:         dc.b 'EQUIP'
unk_C8B5:       dc.b   4
aDrop:          dc.b 'DROP'
unk_C8BA:       dc.b   3
aBuy:           dc.b 'BUY'
unk_C8BE:       dc.b   4
aSell:          dc.b 'SELL'
unk_C8C3:       dc.b   5
aDeals:         dc.b 'DEALS'
unk_C8C9:       dc.b   6
aRepair:        dc.b 'REPAIR'
unk_C8D0:       dc.b   6
aAdvice:        dc.b 'ADVICE'
unk_C8D7:       dc.b   4
aJoin:          dc.b 'JOIN'
unk_C8DC:       dc.b   4
aItem_0:        dc.b 'ITEM'
unk_C8E1:       dc.b   6
aStatus:        dc.b 'STATUS'
unk_C8E8:       dc.b   4
aSave:          dc.b 'SAVE'
unk_C8ED:       dc.b   4
aCure:          dc.b 'CURE'
unk_C8F2:       dc.b   5
aRaise:         dc.b 'RAISE'
unk_C8F8:       dc.b   7
aPromote:       dc.b 'PROMOTE'
asc_C900:       dc.b '',0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C0 
		dc.b $C7 
		dc.b $C1 
		dc.b $C7 
		dc.b $C2 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C9 
		dc.b $C7 
		dc.b $CA 
		dc.b $C7 
		dc.b $CB 
		dc.b $C7 
		dc.b $C3 
		dc.b $C7 
		dc.b $C4 
		dc.b $C7 
		dc.b $C5 
		dc.b $C7 
		dc.b $D5 
		dc.b $C7 
		dc.b $D6 
		dc.b $C7 
		dc.b $D7 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CC 
		dc.b $C7 
		dc.b $CD 
		dc.b $C7 
		dc.b $CE 
		dc.b $C7 
		dc.b $C6 
		dc.b $C7 
		dc.b $C7 
		dc.b $C7 
		dc.b $C8 
		dc.b $C7 
		dc.b $D8 
		dc.b $C7 
		dc.b $D9 
		dc.b $C7 
		dc.b $DA 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CF 
		dc.b $C7 
		dc.b $D0 
		dc.b $C7 
		dc.b $D1 
		dc.b $C7 
		dc.b $E1 
		dc.b $C7 
		dc.b $E2 
		dc.b $C7 
		dc.b $E3 
		dc.b $C7 
		dc.b $DB 
		dc.b $C7 
		dc.b $DC 
		dc.b $C7 
		dc.b $DD 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $80 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C8 
		dc.b $80 
		dc.b $C7 
		dc.b $D2 
		dc.b $C7 
		dc.b $D3 
		dc.b $C7 
		dc.b $D4 
		dc.b $C7 
		dc.b $E4 
		dc.b $C7 
		dc.b $E5 
		dc.b $C7 
		dc.b $E6 
		dc.b $C7 
		dc.b $DE 
		dc.b $C7 
		dc.b $DF 
		dc.b $C7 
		dc.b $E0 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $E7 
		dc.b $C7 
		dc.b $E8 
		dc.b $C7 
		dc.b $E9 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $D0 
		dc.b $80 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D8 
		dc.b $80 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C0 
		dc.b $C7 
		dc.b $C1 
		dc.b $C7 
		dc.b $C2 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C9 
		dc.b $C7 
		dc.b $CA 
		dc.b $C7 
		dc.b $CB 
		dc.b $C7 
		dc.b $C3 
		dc.b $C7 
		dc.b $C4 
		dc.b $C7 
		dc.b $C5 
		dc.b $C7 
		dc.b $D5 
		dc.b $C7 
		dc.b $D6 
		dc.b $C7 
		dc.b $D7 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CC 
		dc.b $C7 
		dc.b $CD 
		dc.b $C7 
		dc.b $CE 
		dc.b $C7 
		dc.b $C6 
		dc.b $C7 
		dc.b $C7 
		dc.b $C7 
		dc.b $C8 
		dc.b $C7 
		dc.b $D8 
		dc.b $C7 
		dc.b $D9 
		dc.b $C7 
		dc.b $DA 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CF 
		dc.b $C7 
		dc.b $D0 
		dc.b $C7 
		dc.b $D1 
		dc.b $C7 
		dc.b $E1 
		dc.b $C7 
		dc.b $E2 
		dc.b $C7 
		dc.b $E3 
		dc.b $C7 
		dc.b $DB 
		dc.b $C7 
		dc.b $DC 
		dc.b $C7 
		dc.b $DD 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $80 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C8 
		dc.b $80 
		dc.b $C7 
		dc.b $D2 
		dc.b $C7 
		dc.b $D3 
		dc.b $C7 
		dc.b $D4 
		dc.b $C7 
		dc.b $E4 
		dc.b $C7 
		dc.b $E5 
		dc.b $C7 
		dc.b $E6 
		dc.b $C7 
		dc.b $DE 
		dc.b $C7 
		dc.b $DF 
		dc.b $C7 
		dc.b $E0 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $E7 
		dc.b $C7 
		dc.b $E8 
		dc.b $C7 
		dc.b $E9 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $D0 
		dc.b $80 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D8 
		dc.b $80 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C0 
		dc.b $C7 
		dc.b $C1 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C6 
		dc.b $C7 
		dc.b $C7 
		dc.b $C7 
		dc.b $C2 
		dc.b $C7 
		dc.b $C3 
		dc.b $C7 
		dc.b $CE 
		dc.b $C7 
		dc.b $CF 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $80 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C8 
		dc.b $80 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C8 
		dc.b $C7 
		dc.b $C9 
		dc.b $C7 
		dc.b $C4 
		dc.b $C7 
		dc.b $C5 
		dc.b $C7 
		dc.b $D0 
		dc.b $C7 
		dc.b $D1 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CA 
		dc.b $C7 
		dc.b $CB 
		dc.b $C7 
		dc.b $D6 
		dc.b $C7 
		dc.b $D7 
		dc.b $C7 
		dc.b $D2 
		dc.b $C7 
		dc.b $D3 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CC 
		dc.b $C7 
		dc.b $CD 
		dc.b $C7 
		dc.b $D8 
		dc.b $C7 
		dc.b $D9 
		dc.b $C7 
		dc.b $D4 
		dc.b $C7 
		dc.b $D5 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $4D 
		dc.b $C0 
		dc.b $50 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $DA 
		dc.b $C7 
		dc.b $DB 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $D0 
		dc.b $80 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D8 
		dc.b $80 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C0 
		dc.b $C7 
		dc.b $C1 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C6 
		dc.b $C7 
		dc.b $C7 
		dc.b $C7 
		dc.b $C2 
		dc.b $C7 
		dc.b $C3 
		dc.b $C7 
		dc.b $CE 
		dc.b $C7 
		dc.b $CF 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $80 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C8 
		dc.b $80 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C8 
		dc.b $C7 
		dc.b $C9 
		dc.b $C7 
		dc.b $C4 
		dc.b $C7 
		dc.b $C5 
		dc.b $C7 
		dc.b $D0 
		dc.b $C7 
		dc.b $D1 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CA 
		dc.b $C7 
		dc.b $CB 
		dc.b $C7 
		dc.b $D6 
		dc.b $C7 
		dc.b $D7 
		dc.b $C7 
		dc.b $D2 
		dc.b $C7 
		dc.b $D3 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $CC 
		dc.b $C7 
		dc.b $CD 
		dc.b $C7 
		dc.b $D8 
		dc.b $C7 
		dc.b $D9 
		dc.b $C7 
		dc.b $D4 
		dc.b $C7 
		dc.b $D5 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C8 
		dc.b $90 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $DA 
		dc.b $C7 
		dc.b $DB 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $D0 
		dc.b $80 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D0 
		dc.b $81 
		dc.b $D8 
		dc.b $80 
unk_CC90:       dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $C7 
		dc.b $C0 
		dc.b $C7 
		dc.b $C1 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $C7 
		dc.b $C6 
		dc.b $C7 
		dc.b $C7 
		dc.b $C7 
		dc.b $C2 
		dc.b $C7 
		dc.b $C3 
		dc.b $C7 
		dc.b $CE 
		dc.b $C7 
		dc.b $CF 
		dc.b $C7 
		dc.b $C8 
		dc.b $C7 
		dc.b $C9 
		dc.b $C7 
		dc.b $C4 
		dc.b $C7 
		dc.b $C5 
		dc.b $C7 
		dc.b $D0 
		dc.b $C7 
		dc.b $D1 
		dc.b $C7 
		dc.b $CA 
		dc.b $C7 
		dc.b $CB 
		dc.b $C7 
		dc.b $D6 
		dc.b $C7 
		dc.b $D7 
		dc.b $C7 
		dc.b $D2 
		dc.b $C7 
		dc.b $D3 
		dc.b $C7 
		dc.b $CC 
		dc.b $C7 
		dc.b $CD 
		dc.b $C7 
		dc.b $D8 
		dc.b $C7 
		dc.b $D9 
		dc.b $C7 
		dc.b $D4 
		dc.b $C7 
		dc.b $D5 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $C7 
		dc.b $DA 
		dc.b $C7 
		dc.b $DB 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
unk_CCD8:       dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b  $A
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $A0 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 

; =============== S U B R O U T I N E =======================================

sub_CED8:
		movem.l d0-a1,-(sp)
		bsr.w   sub_CFA6
		lea     (byte_FFB7DA).l,a0
		move.w  ((word_FFB7D8-$1000000)).w,d0
		lsl.w   #7,d0
		addq.w  #5,d0
		move.l  #$20010001,d1
		move.w  ((word_FFB7D8-$1000000)).w,d3
		lsr.w   #1,d3
		move.w  #$1F,d4
		sub.w   d3,d4
		lsl.w   #8,d4
		or.w    d4,d1
		move.w  #4,d2
		tst.b   ((byte_FFB4CB-$1000000)).w
		beq.s   loc_CF14
		addi.l  #$150015,d1
loc_CF14:
		bsr.w   sub_AE36        
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_CED8


; =============== S U B R O U T I N E =======================================

sub_CF1E:
		movem.l d0-a1,-(sp)
		bsr.w   sub_CFA6
		lea     (byte_FFB7DA).l,a0
		move.w  ((word_FFB7D8-$1000000)).w,d0
		lsl.w   #7,d0
		addq.w  #5,d0
		move.l  #$20010001,d1
		move.w  ((word_FFB7D8-$1000000)).w,d3
		lsr.w   #1,d3
		move.w  #$1F,d4
		sub.w   d3,d4
		lsl.w   #8,d4
		or.w    d4,d1
		swap    d1
		move.w  #4,d2
		tst.b   ((byte_FFB4CB-$1000000)).w
		beq.s   loc_CF5C
		addi.l  #$150015,d1
loc_CF5C:
		bsr.w   sub_AE36        
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_CF1E


; =============== S U B R O U T I N E =======================================

sub_CF66:
		bsr.w   loc_CFAC
		lea     (byte_FFB7DA).l,a0
		move.w  ((word_FFB7D8-$1000000)).w,d0
		lsl.w   #7,d0
		addq.w  #5,d0
		moveq   #1,d1
		move.w  ((word_FFB7D8-$1000000)).w,d3
		lsr.w   #1,d3
		moveq   #$1F,d4
		sub.w   d3,d4
		lsl.w   #8,d4
		or.w    d4,d1
		bra.w   sub_AEA8

	; End of function sub_CF66


; =============== S U B R O U T I N E =======================================

sub_CF8C:
		bsr.w   loc_CFAC
		lea     (byte_FFB7DA).l,a0
		move.w  ((word_FFB7D8-$1000000)).w,d0
		lsl.w   #7,d0
		addq.w  #5,d0
		move.w  #$114,d1
		bra.w   sub_AEA8

	; End of function sub_CF8C


; =============== S U B R O U T I N E =======================================

sub_CFA6:
		jsr     (j_WaitForVInt).l
loc_CFAC:
		ext.w   d0
		move.w  d0,((word_FFB7C4-$1000000)).w
		jsr     j_GetHPFromForceID
		move.w  d1,d2
		jsr     j_GetMaxHPFromForceID
		move.w  d1,d3
		bsr.w   sub_D21E
		movem.w d2-d3,-(sp)
		jsr     j_GetMPFromForceID
		move.w  d1,d2
		jsr     j_GetMaxMPFromForceID
		move.w  d1,d3
		movem.w (sp)+,d0-d1
		bsr.w   sub_D21E
		move.w  d1,d6
		cmp.w   d1,d3
		ble.s   loc_CFEA
		move.w  d3,d6
loc_CFEA:
		addq.w  #3,d6
		lsr.w   #3,d6
		addi.w  #$A,d6
		add.w   d6,d6
		movem.w d0-d2,-(sp)
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_LoadClassName
		move.w  d1,d2
		adda.w  d1,a0
loc_D006:
		tst.b   -(a0)
		bne.s   loc_D00E
		subq.w  #1,d2
		bra.s   loc_D006
loc_D00E:
		addq.w  #6,d2
		tst.b   d0
		bpl.s   loc_D018
		subq.w  #1,d2
		bra.s   loc_D026
loc_D018:
		jsr     j_GetLevelFromForceID
		cmpi.w  #$A,d1
		bge.s   loc_D026
		subq.w  #1,d2
loc_D026:
		add.w   d2,d2
		cmp.w   d6,d2
		ble.s   loc_D02E
		move.w  d2,d6
loc_D02E:
		movem.w (sp)+,d0-d2
		move.w  d6,((word_FFB7D8-$1000000)).w
		lea     unk_D230(pc), a0
		lea     (byte_FFB7DA).l,a1
		bsr.w   sub_D1B2
		bsr.w   sub_D1B2
		bsr.w   sub_D1B2
		move.w  ((word_FFB7D8-$1000000)).w,d7
		lsr.w   #1,d7
		subi.w  #9,d7
loc_D056:
		lea     unk_D24E(pc), a0
		nop
		bsr.w   sub_D1B2
		dbf     d7,loc_D056
		lea     unk_D258(pc), a0
		nop
		bsr.w   sub_D1B2
		bsr.w   sub_D1B2
		bsr.w   sub_D1B2
		bsr.w   sub_D1B2
		bsr.w   sub_D1B2
		movem.w d0-d3,-(sp)
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetID
		btst    #7,d1
		bne.s   loc_D09C
		jsr     j_GetForceStatsFromForceID
		moveq   #$A,d7
		bra.s   loc_D0AA
loc_D09C:
		jsr     j_GetClassFromForceID
		jsr     j_GetClassName
		move.w  d1,d7
loc_D0AA:
		lea     (byte_FFB7DA).l,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		addq.l  #2,a1
		move.w  ((word_FFB7D8-$1000000)).w,d1
		neg.w   d1
		bsr.w   sub_B054
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetLevelFromForceID
		addq.l  #2,a1
		move.w  #$C04C,(a1)+
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		cmpi.w  #$A,d1
		bge.s   loc_D0DE
		subq.w  #1,d7
loc_D0DE:
		movem.w d0-d1,-(sp)
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetID
		tst.b   d1
		movem.w (sp)+,d0-d1
		blt.s   loc_D0FA
		bsr.w   DisplayNumber
		bra.s   loc_D106
loc_D0FA:
		moveq   #2,d7
		subq.l  #2,a1
		lea     byte_D1B0(pc), a0
		bsr.w   sub_B054
loc_D106:
		movem.w (sp)+,d0-d3
		movem.w d0-d3,-(sp)
		lea     (byte_FFB7DA).l,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		addq.w  #6,a1
		move.l  a1,-(sp)
		move.w  d0,d4
		move.w  d1,d5
		bsr.w   sub_D1D8
		movea.l (sp)+,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		tst.w   d3
		bne.s   loc_D138
		move.w  #$C083,-2(a1)
loc_D138:
		move.w  d2,d4
		move.w  d3,d5
		bsr.w   sub_D1D8
		movem.w (sp)+,d0-d3
		ext.l   d0
		lea     (byte_FFB7DA).l,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		suba.w  #$C,a1
		move.l  a1,-(sp)
		moveq   #2,d7
		bsr.w   sub_D19A
		movea.l (sp)+,a1
		move.l  a1,-(sp)
		addq.l  #6,a1
		move.w  d1,d0
		ext.l   d0
		moveq   #2,d7
		bsr.w   sub_D19A
		movea.l (sp)+,a1
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		move.l  a1,-(sp)
		suba.w  #$C,a1
		move.w  d2,d0
		ext.l   d0
		movea.l (sp)+,a1
		moveq   #2,d7
		bsr.w   sub_D19A
		addq.l  #2,a1
		move.w  d3,d0
		ext.l   d0
		moveq   #2,d7
		bsr.w   sub_D19A
		rts

	; End of function sub_CFA6


; =============== S U B R O U T I N E =======================================

sub_D19A:
		cmpi.w  #$64,d0 
		bge.s   loc_D1A6
		bra.w   DisplayNumber
		bra.s   byte_D1AE
loc_D1A6:
		lea     byte_D1AE(pc), a0
		bra.w   sub_B054

	; End of function sub_D19A

byte_D1AE:      dc.b $3F
		dc.b $3F
byte_D1B0:      dc.b $20
		dc.b $20

; =============== S U B R O U T I N E =======================================

sub_D1B2:
		movem.l a1,-(sp)
		move.w  (a0)+,(a1)
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		move.w  (a0)+,(a1)
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		move.w  (a0)+,(a1)
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		move.w  (a0)+,(a1)
		adda.w  ((word_FFB7D8-$1000000)).w,a1
		move.w  (a0)+,(a1)
		movem.l (sp)+,a1
		addq.w  #2,a1
		rts

	; End of function sub_D1B2


; =============== S U B R O U T I N E =======================================

sub_D1D8:
		movem.w d0-d3,-(sp)
		tst.w   d5
		beq.w   loc_D218
loc_D1E2:
		move.w  d4,d0
		cmpi.w  #8,d0
		blt.s   loc_D1EC
		moveq   #8,d0
loc_D1EC:
		move.w  d5,d1
		cmpi.w  #8,d1
		blt.s   loc_D1F6
		moveq   #8,d1
loc_D1F6:
		lea     word_D28A(pc), a0
		mulu.w  #9,d1
		add.w   d1,d0
		add.w   d0,d0
		move.w  (a0,d0.w),(a1)+
		subq.w  #8,d4
		bge.s   loc_D20C
		clr.w   d4
loc_D20C:
		subq.w  #8,d5
		beq.s   loc_D214
		bgt.s   loc_D1E2
		bra.s   loc_D218
loc_D214:
		move.w  (word_D28A,pc),(a1)+
loc_D218:
		movem.w (sp)+,d0-d3
		rts

	; End of function sub_D1D8


; =============== S U B R O U T I N E =======================================

sub_D21E:
		cmpi.w  #$64,d2 
		blt.s   loc_D226
		moveq   #$64,d2 
loc_D226:
		cmpi.w  #$64,d3 
		blt.s   locret_D22E
		moveq   #$64,d3 
locret_D22E:
		rts

	; End of function sub_D21E

unk_D230:       dc.b $C0 
		dc.b $80 
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $90 
		dc.b $C0 
		dc.b $90 
		dc.b $D0 
		dc.b $80 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $48 
		dc.b $C0 
		dc.b $4D 
		dc.b $D0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $82 
		dc.b $C0 
		dc.b $82 
		dc.b $D0 
		dc.b $81 
unk_D24E:       dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $D0 
		dc.b $81 
unk_D258:       dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $30 
		dc.b $C0 
		dc.b $30 
		dc.b $D0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $2F 
		dc.b $C0 
		dc.b $2F 
		dc.b $D0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $D0 
		dc.b $81 
		dc.b $C0 
		dc.b $81 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $30 
		dc.b $C0 
		dc.b $30 
		dc.b $D0 
		dc.b $81 
		dc.b $C8 
		dc.b $80 
		dc.b $C8 
		dc.b $90 
		dc.b $C8 
		dc.b $90 
		dc.b $C8 
		dc.b $90 
		dc.b $D8 
		dc.b $80 
word_D28A:      dc.w $C0ED
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $EC 
		dc.b $C0 
		dc.b $EB 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $EA 
		dc.b $C0 
		dc.b $E9 
		dc.b $C0 
		dc.b $E8 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $E7 
		dc.b $C0 
		dc.b $E6 
		dc.b $C0 
		dc.b $E5 
		dc.b $C0 
		dc.b $E4 
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $E3 
		dc.b $C0 
		dc.b $E2 
		dc.b $C0 
		dc.b $E1 
		dc.b $C0 
		dc.b $E0 
		dc.b $C0 
		dc.b $1F
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $1E
		dc.b $C0 
		dc.b $1D
		dc.b $C0 
		dc.b $1C
		dc.b $C0 
		dc.b $1B
		dc.b $C0 
		dc.b $1A
		dc.b $C0 
		dc.b $19
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $18
		dc.b $C0 
		dc.b $17
		dc.b $C0 
		dc.b $16
		dc.b $C0 
		dc.b $15
		dc.b $C0 
		dc.b $14
		dc.b $C0 
		dc.b $13
		dc.b $C0 
		dc.b $12
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b $11
		dc.b $C0 
		dc.b $10
		dc.b $C0 
		dc.b  $F
		dc.b $C0 
		dc.b  $E
		dc.b $C0 
		dc.b  $D
		dc.b $C0 
		dc.b  $C
		dc.b $C0 
		dc.b  $B
		dc.b $C0 
		dc.b  $A
		dc.b $C0 
		dc.b $20
		dc.b $C0 
		dc.b   9
		dc.b $C0 
		dc.b   8
		dc.b $C0 
		dc.b   7
		dc.b $C0 
		dc.b   6
		dc.b $C0 
		dc.b   5
		dc.b $C0 
		dc.b   4
		dc.b $C0 
		dc.b   3
		dc.b $C0 
		dc.b   2
		dc.b $C0 
		dc.b   1

; =============== S U B R O U T I N E =======================================

sub_D32C:
		movem.l d0-a1,-(sp)
		lea     pt_MiscMessageWindowLayouts(pc), a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		move.w  (a0)+,d0
		lea     (byte_FFB7DA).l,a1
		move.w  #$80,d7 
		jsr     (j_CopyBytes).l
		move.w  d0,d7
		lsr.w   #8,d7
		lsr.w   #1,d7
		neg.w   d7
		addi.w  #$10,d7
		lsl.w   #8,d7
		movem.w d0/d7,-(sp)
		lea     (byte_FFB7DA).l,a0
		move.l  #$200C000C,d1
		or.w    d7,d1
		move.w  #8,d2
		bsr.w   sub_AE36        
		trap    #SOUND_COMMAND
		dc.w SFX_REFUSAL
		jsr     (j_WaitForInputFor3Seconds).l
		movem.w (sp)+,d0/d7
		move.l  #$EA0C000C,d1
		or.w    d7,d1
		swap    d1
		move.w  #8,d2
		bsr.w   sub_AE36        
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_D32C

pt_MiscMessageWindowLayouts:
		dc.l MiscMessageWindowLayout0
		dc.l MiscMessageWindowLayout1
		dc.l MiscMessageWindowLayout2
		dc.l MiscMessageWindowLayout3
		dc.l MiscMessageWindowLayout4
		dc.l MiscMessageWindowLayout5
		dc.l MiscMessageWindowLayout6
		dc.l MiscMessageWindowLayout7
		dc.l MiscMessageWindowLayout8
MiscMessageWindowLayout0:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout0.bin"
						; "No target."
MiscMessageWindowLayout1:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout1.bin"
						; "No magic."
MiscMessageWindowLayout2:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout2.bin"
						; "No item."
MiscMessageWindowLayout3:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout3.bin"
						; "Not enough MP."
MiscMessageWindowLayout4:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout4.bin"
						; "No equippable item."
MiscMessageWindowLayout5:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout5.bin"
						; "The item loves you."
MiscMessageWindowLayout6:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout6.bin"
						; "The item is cursed."
MiscMessageWindowLayout7:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout7.bin"
						; "No! Keep the item."
MiscMessageWindowLayout8:
		incbin "data/graphics/tech/windowlayouts/miscmessages/miscmessagewindowlayout8.bin"
						; "You can't use it."

; =============== S U B R O U T I N E =======================================

sub_D75A:
		bsr.w   sub_DAFC
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$C09,d0
		move.l  #$112F412,d1
		move.w  #4,d2
		bra.w   sub_AE36        

	; End of function sub_D75A


; =============== S U B R O U T I N E =======================================

sub_D774:
		tst.b   ((byte_FFB526-$1000000)).w
		bne.s   loc_D780
		move.w  #$100,d1
		bra.s   loc_D784
loc_D780:
		move.w  #$200,d1
loc_D784:
		clr.w   d0
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     j_GetEquippedItemFromForceID
		move.w  d2,((word_FFBC5A-$1000000)).w
		move.w  d2,((word_FFBC5C-$1000000)).w
		move.w  d3,((word_FFBC58-$1000000)).w
		bne.s   loc_D7A4
		clr.w   d0
		bra.w   loc_D7D0
loc_D7A4:
		cmpi.w  #$FFFF,d3
		bne.s   loc_D7BC
		cmpi.w  #4,((word_FFA8C0-$1000000)).w
		bne.s   loc_D7B6
		clr.w   d0
		bra.s   loc_D7B8
loc_D7B6:
		moveq   #3,d0
loc_D7B8:
		bra.w   loc_D7D0
loc_D7BC:
		bsr.w   sub_DB76
		clr.w   d0
		lea     ((byte_FFA8C2-$1000000)).w,a0
loc_D7C6:
		cmp.w   (a0),d3
		beq.s   loc_D7D0
		addq.w  #1,d0
		addq.l  #4,a0
		bra.s   loc_D7C6
loc_D7D0:
		move.b  d0,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		move.w  d0,((word_FFBC5E-$1000000)).w
		move.b  d0,((byte_FFB529-$1000000)).w
		bsr.w   sub_DAE2
		bsr.w   sub_DB92
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$1106,d0
		bclr    #0,((byte_FFB4CA-$1000000)).w
		bne.s   loc_D7FC
		move.l  #$E1B0E15,d1
		bra.s   loc_D802
loc_D7FC:
		move.l  #$1E150E15,d1
loc_D802:
		move.w  #4,d2
		bsr.w   sub_AE36        
		tst.w   (word_FFD902).l
		bne.w   loc_D82E
		bsr.w   sub_DAFC
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$C09,d0
		move.l  #$F4120112,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
loc_D82E:
		bsr.w   sub_DAE2
		bsr.w   sub_DA86
		bsr.w   sub_DB76
		moveq   #$F,d6
loc_D83C:
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_D85C
		cmpi.w  #2,((word_FFA8C0-$1000000)).w
		blt.s   loc_D85C
		move.b  #1,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_D8FA
loc_D85C:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_D87C
		cmpi.w  #3,((word_FFA8C0-$1000000)).w
		blt.s   loc_D87C
		move.b  #2,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_D8FA
loc_D87C:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_D892
		clr.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_D8FA
loc_D892:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_D8AA
		move.b  #3,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_D8FA
loc_D8AA:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_D8D0
		move.w  ((word_FFBC58-$1000000)).w,d2
		bsr.w   loc_DAC0
		bsr.w   sub_DAFC
		bsr.w   sub_DA28
		jsr     (j_WaitForVInt).l
		moveq   #$FFFFFFFF,d0
		bra.w   loc_D9CC
loc_D8D0:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_D8E4
		clr.w   d0
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		bra.w   loc_D942
loc_D8E4:
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		beq.w   loc_D92E
		clr.w   d0
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		bra.w   loc_D942
loc_D8FA:
		bsr.w   sub_DAAA
		bsr.w   sub_DAE2
		bsr.w   sub_DA12
		jsr     (j_WaitForVInt).l
		moveq   #$13,d6
		bsr.w   sub_DA3E
		move.w  d6,-(sp)
		bsr.w   sub_DAFC
		bsr.w   sub_DA28
		jsr     (j_WaitForVInt).l
		bsr.w   sub_DA78
		bsr.w   sub_DB76
		move.w  (sp)+,d6
		bra.s   loc_D932
loc_D92E:
		bsr.w   sub_DA3E
loc_D932:
		jsr     (j_WaitForVInt).l
		subq.w  #1,d6
		bne.s   loc_D93E
		moveq   #$14,d6
loc_D93E:
		bra.w   loc_D83C
loc_D942:
		movem.w d0-d1,-(sp)
		move.w  ((word_FFBC5A-$1000000)).w,d1
		jsr     j_GetItemType
		btst    #$D,d2
		beq.s   loc_D9A2
		move.w  ((word_FFBC5E-$1000000)).w,d3
		cmp.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d3
		beq.s   loc_D9A0
		move.w  ((word_FFBC58-$1000000)).w,d2
		bsr.w   loc_DAC0
		bsr.w   sub_DCFA
		move.b  d3,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bsr.w   sub_DAE2
		bsr.w   sub_DA12
		jsr     (j_WaitForVInt).l
		moveq   #$13,d6
		bsr.w   sub_DA3E
		bsr.w   sub_DAFC
		bsr.w   sub_DA28
		jsr     (j_WaitForVInt).l
		bsr.w   sub_DA78
		bsr.w   sub_DB76
		moveq   #5,d0
		bsr.w   sub_D32C
loc_D9A0:
		bra.s   loc_D9C8
loc_D9A2:
		move.w  ((word_FFBC5C-$1000000)).w,d1
		jsr     j_GetItemType
		btst    #$D,d2
		beq.s   loc_D9C8
		bsr.w   sub_DCFA
		moveq   #6,d0
		bsr.w   sub_D32C
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		moveq   #4,d1
		jsr     j_SetStatusFromForceID
loc_D9C8:
		movem.w (sp)+,d0-d1
loc_D9CC:
		movem.w d0-d1,-(sp)
		clr.w   d6
		bsr.w   sub_DA3E
		bsr.w   sub_DAE2
		lea     ((byte_FFB7DA-$1000000)).w,a0
		movem.w (sp)+,d0-d1
		movem.w d0-d1,-(sp)
		cmpi.b  #$FF,d0
		beq.s   loc_D9F4
		move.l  #$E152015,d1
		bra.s   loc_DA00
loc_D9F4:
		move.l  #$E150E1C,d1
		bset    #0,((byte_FFB4CA-$1000000)).w
loc_DA00:
		move.w  #$1106,d0
		move.w  #4,d2
		bsr.w   sub_AE36        
		movem.w (sp)+,d0-d1
		rts

	; End of function sub_D774


; =============== S U B R O U T I N E =======================================

sub_DA12:
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$1106,d0
		move.l  #$E15,d1
		bsr.w   sub_AEA8
		bra.w   sub_AF66

	; End of function sub_DA12


; =============== S U B R O U T I N E =======================================

sub_DA28:
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$C09,d0
		move.l  #$112,d1
		bsr.w   sub_AEA8
		bra.w   sub_AF66

	; End of function sub_DA28


; =============== S U B R O U T I N E =======================================

sub_DA3E:
		lea     (SPRITE_TABLE).l,a1
		lea     (unk_C792).l,a0
loc_DA4A:
		clr.w   d0
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		lsl.w   #3,d0
		adda.w  d0,a0
		move.w  (a0)+,d0
		cmpi.w  #$A,d6
		bge.s   loc_DA5E
		moveq   #1,d0
loc_DA5E:
		btst    #INPUT_A_START_BIT,(P1_INPUT).l
		beq.s   loc_DA6A
		moveq   #1,d0
loc_DA6A:
		move.w  d0,(a1)+
		move.w  (a0)+,d0
		lsr.w   #8,d0
		move.b  d0,(a1)+
		addq.l  #1,a1
		move.l  (a0)+,(a1)+
		rts

	; End of function sub_DA3E


; =============== S U B R O U T I N E =======================================

sub_DA78:
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d7
		cmp.b   ((byte_FFB529-$1000000)).w,d7
		beq.s   locret_DAA8
		move.b  d7,((byte_FFB529-$1000000)).w

	; End of function sub_DA78


; =============== S U B R O U T I N E =======================================

sub_DA86:
		tst.b   ((byte_FFB526-$1000000)).w
		bne.s   locret_DAA8
		tst.b   ((byte_FFB53A-$1000000)).w
		bne.s   locret_DAA8
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jsr     sub_202BC
		moveq   #1,d0
		bsr.w   sub_AB9C
		jsr     (j_WaitForVInt).l
locret_DAA8:
		rts

	; End of function sub_DA86


; =============== S U B R O U T I N E =======================================

sub_DAAA:
		lea     ((byte_FFA8C2-$1000000)).w,a0
		clr.w   d2
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d2
		lsl.w   #2,d2
		move.w  2(a0,d2.w),((word_FFBC5C-$1000000)).w
		move.w  (a0,d2.w),d2
loc_DAC0:
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		tst.b   ((byte_FFB526-$1000000)).w
		bne.s   loc_DAD0
		move.w  #$100,d1
		bra.s   loc_DAD4
loc_DAD0:
		move.w  #$200,d1
loc_DAD4:
		jmp     j_EquipItemFromForceID

	; End of function sub_DAAA

		dc.b   0
		dc.b $AE 
		dc.b   0
		dc.b $AE 
		dc.b   0
		dc.b $62 
		dc.b   0
		dc.b $88 

; =============== S U B R O U T I N E =======================================

sub_DAE2:
		bsr.w   sub_DB76
		lea     wl_BattleEquipItemName(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$CC,d7 
		jsr     (j_CopyBytes).l
		bra.w   loc_DCA4

	; End of function sub_DAE2


; =============== S U B R O U T I N E =======================================

sub_DAFC:
		lea     wl_BattleEquipStats(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$D8,d7 
		jsr     (j_CopyBytes).l
		clr.w   d0
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		move.w  d0,((word_FFB7C4-$1000000)).w
		jsr     j_GetTargetATT
		lea     ((byte_FFB804-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetDEF
		lea     ((byte_FFB834-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetMOVE
		lea     ((byte_FFB864-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		move.w  ((word_FFB7C4-$1000000)).w,d0
		jsr     j_GetTargetAGI
		lea     ((byte_FFB894-$1000000)).w,a1
		moveq   #2,d7
		move.w  d1,d0
		ext.l   d0
		bsr.w   DisplayNumber
		rts

	; End of function sub_DAFC


; =============== S U B R O U T I N E =======================================

sub_DB76:
		tst.b   ((byte_FFB526-$1000000)).w
		bne.s   loc_DB82
		move.w  #$100,d1
		bra.s   loc_DB86
loc_DB82:
		move.w  #$200,d1
loc_DB86:
		clr.w   d0
		move.b  ((byte_FFB4C9-$1000000)).w,d0
		jmp     j_LoadEquippableItemsFromForceID

	; End of function sub_DB76


; =============== S U B R O U T I N E =======================================

sub_DB92:
		bsr.s   sub_DB76
		move.w  ((word_FFA8C0-$1000000)).w,d7
		subq.w  #1,d7
		lea     ((byte_FFA8C2-$1000000)).w,a3
		clr.w   d1
		bsr.w   sub_DC6E
		lea     (FF3000_LOADING_SPACE).l,a1
		move.w  #$C0,d7 
		jsr     (j_CopyBytes).l
		adda.w  #$C0,a1 
		move.l  a1,-(sp)
		move.w  #$BF,d0 
loc_DBBE:
		clr.l   (a1)+
		dbf     d0,loc_DBBE
		movea.l (sp)+,a1
		moveq   #1,d1
		bsr.w   sub_DC6E
		moveq   #5,d7
loc_DBCE:
		move.l  (a0)+,$10(a1)
		move.l  (a0)+,$14(a1)
		move.l  (a0)+,$18(a1)
		move.l  (a0)+,$1C(a1)
		move.l  (a0)+,$40(a1)
		move.l  (a0)+,$44(a1)
		move.l  (a0)+,$48(a1)
		move.l  (a0)+,$4C(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_DBCE
		adda.w  #$40,a1 
		moveq   #2,d1
		bsr.w   sub_DC6E
		moveq   #5,d7
loc_DC02:
		move.l  (a0)+,$10(a1)
		move.l  (a0)+,$14(a1)
		move.l  (a0)+,$18(a1)
		move.l  (a0)+,$1C(a1)
		move.l  (a0)+,$40(a1)
		move.l  (a0)+,$44(a1)
		move.l  (a0)+,$48(a1)
		move.l  (a0)+,$4C(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_DC02
		adda.w  #$40,a1 
		moveq   #3,d1
		bsr.w   sub_DC6E
		move.w  #$C0,d7 
		jsr     (j_CopyBytes).l
		adda.w  #$C0,a1 
		lea     unk_CCD8(pc), a0
		move.w  #$200,d7
		jsr     (j_CopyBytes).l
		lea     (FF3000_LOADING_SPACE).l,a0
		lea     ($F800).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3AndWait).l

	; End of function sub_DB92


; =============== S U B R O U T I N E =======================================

sub_DC6E:
		movea.l (p_ItemIcons).l,a0
		cmp.w   ((word_FFA8C0-$1000000)).w,d1
		blt.s   loc_DC8E
		adda.l  #$2F40,a0
		cmpi.w  #3,d1
		bne.s   loc_DC8C
		adda.l  #$C0,a0 
loc_DC8C:
		bra.s   locret_DCA2
loc_DC8E:
		lsl.w   #2,d1
		move.w  2(a3,d1.w),d1
		andi.w  #$3F,d1 
		move.w  d1,d7
		add.w   d1,d1
		add.w   d7,d1
		lsl.w   #6,d1
		adda.w  d1,a0
locret_DCA2:
		rts

	; End of function sub_DC6E


; START OF FUNCTION CHUNK FOR sub_DAE2

loc_DCA4:
		lea     aWeaponring_0(pc), a0
		lea     ((byte_FFB82E-$1000000)).w,a1
		btst    #0,((byte_FFB526-$1000000)).w
		beq.s   loc_DCB6
		addq.w  #6,a0
loc_DCB6:
		moveq   #6,d7
		moveq   #$FFFFFFDE,d1
		bsr.w   sub_B054
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		cmpi.w  #4,((word_FFA8C0-$1000000)).w
		beq.w   loc_DCDE
		cmpi.w  #3,d1
		bne.s   loc_DCDE
		lea     unk_DD0A(pc), a0
		nop
		moveq   #6,d7
		bra.s   loc_DCF0
loc_DCDE:
		lea     ((byte_FFA8C2-$1000000)).w,a0
		lsl.w   #2,d1
		move.w  2(a0,d1.w),d1
		jsr     j_GetItemName
		move.w  d1,d7
loc_DCF0:
		lea     ((byte_FFB850-$1000000)).w,a1
		moveq   #$FFFFFFDE,d1
		bra.w   sub_B054

; END OF FUNCTION CHUNK FOR sub_DAE2


; =============== S U B R O U T I N E =======================================

sub_DCFA:
		trap    #SOUND_COMMAND
		dc.w MUSIC_CURSED_ITEM
		move.w  #$FB,d0 
		jsr     (j_PlayMusicAfterCurrentOne).l
		rts

	; End of function sub_DCFA

unk_DD0A:       dc.b $B2 
		dc.b $A5 
		dc.b $AD 
		dc.b $AF 
		dc.b $B6 
		dc.b $A5 
aWeaponring_0:  dc.b 'WEAPONRING',0
		dc.b   0
wl_BattleEquipStats:
		incbin "data/graphics/tech/windowlayouts/wl-battleequipstats.bin"
wl_BattleEquipItemName:
		incbin "data/graphics/tech/windowlayouts/wl-battleequipitemname.bin"

; =============== S U B R O U T I N E =======================================

sub_DEC0:
		movem.l d0-a1,-(sp)
		bsr.w   sub_DF30
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$806,d0
		move.l  #$F8010101,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_DEC0


; =============== S U B R O U T I N E =======================================

sub_DEE4:
		movem.l d0-a1,-(sp)
		bsr.w   sub_DF30
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$806,d0
		move.l  #$101F801,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_DEE4


; =============== S U B R O U T I N E =======================================

sub_DF08:
		movem.l d0-a1,-(sp)
		bsr.w   sub_DF30
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$806,d0
		move.l  #$101,d1
		move.w  #8,d2
		bsr.w   sub_AEA8
		bsr.w   sub_AF66
		movem.l (sp)+,d0-a1
		rts

	; End of function sub_DF08


; =============== S U B R O U T I N E =======================================

sub_DF30:
		lea     wl_LandEffect(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$60,d7 
		jsr     (j_CopyBytes).l
		clr.w   d0
		clr.w   d1
		clr.w   d2
		move.b  ((byte_FFB4C5-$1000000)).w,d0
		move.b  ((CURSOR_POSITION-$1000000)).w,d2
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d1
		jsr     j_GetLandEffectAtCoord
		move.w  d1,-(sp)
		lea     unk_DF7E(pc), a0
		lea     ((byte_FFB7EC-$1000000)).w,a1
		moveq   #$FFFFFFF0,d1
		clr.w   d7
		move.b  (a0)+,d7
		bsr.w   sub_B054
		move.w  (sp)+,d0
		ext.l   d0
		moveq   #2,d7
		lea     ((byte_FFB822-$1000000)).w,a1
		bsr.w   DisplayNumber
		rts

	; End of function sub_DF30

unk_DF7E:       dc.b  $C
aLandEffect:    dc.b 'Land',9,'Effect'
		dc.b   0
		dc.b $FF
wl_LandEffect:  incbin "data/graphics/tech/windowlayouts/wl-landeffect.bin"

; =============== S U B R O U T I N E =======================================

sub_DFEC:
		clr.b   ((byte_FFB5AC-$1000000)).w
		jsr     (j_WaitForVInt).l
		move.w  d0,-(sp)
		btst    #0,d0
		bne.s   loc_E002
		clr.w   d1
loc_E000:
		bra.s   loc_E004
loc_E002:
		moveq   #1,d1
loc_E004:
		lea     ((byte_FFB54E-$1000000)).w,a2
		move.w  ((word_FFB54C-$1000000)).w,d7
		bsr.w   sub_E0B4
		move.w  (sp)+,d0
		btst    #1,d0
		bne.s   loc_E01C
		clr.w   d1
		bra.s   loc_E01E
loc_E01C:
		moveq   #1,d1
loc_E01E:
		lea     ((byte_FFB56E-$1000000)).w,a2
		move.w  ((word_FFB56C-$1000000)).w,d7
		bsr.w   sub_E0B4
		rts

	; End of function sub_DFEC


; =============== S U B R O U T I N E =======================================

sub_E02C:
		tst.b   ((byte_FFB5AC-$1000000)).w
		beq.w   locret_E0B2
		lea     ((word_FFB56A-$1000000)).w,a0
		subq.w  #1,(a0)
		cmpi.w  #3,(a0)
		bne.s   loc_E04E
		moveq   #1,d1
		lea     ((byte_FFB54E-$1000000)).w,a2
		move.w  ((word_FFB54C-$1000000)).w,d7
		bsr.w   sub_E0B4
loc_E04E:
		tst.w   (a0)
		bne.s   loc_E06E
		clr.w   d1
		lea     ((byte_FFB54E-$1000000)).w,a2
		move.w  ((word_FFB54C-$1000000)).w,d7
		bsr.w   sub_E0B4
		moveq   #$78,d6 
		jsr     (j_UpdateRandomSeed).l
		addi.w  #$1E,d7
		move.w  d7,(a0)
loc_E06E:
		lea     ((word_FFB58A-$1000000)).w,a0
		tst.b   ((CURRENTLY_TYPEWRITING-$1000000)).w
		bne.s   loc_E07C
		clr.w   (a0)
		bra.s   loc_E096
loc_E07C:
		subq.w  #1,(a0)
		cmpi.w  #5,(a0)
		bne.s   loc_E092
		moveq   #1,d1
		lea     ((byte_FFB56E-$1000000)).w,a2
		move.w  ((word_FFB56C-$1000000)).w,d7
		bsr.w   sub_E0B4
loc_E092:
		tst.w   (a0)
		bne.s   locret_E0B2
loc_E096:
		clr.w   d1
		lea     ((byte_FFB56E-$1000000)).w,a2
		move.w  ((word_FFB56C-$1000000)).w,d7
		bsr.w   sub_E0B4
		moveq   #5,d6
		jsr     (j_UpdateRandomSeed).l
		addi.w  #$A,d7
		move.w  d7,(a0)
locret_E0B2:
		rts

	; End of function sub_E02C


; =============== S U B R O U T I N E =======================================

sub_E0B4:
		bne.s   loc_E0B8
		rts
loc_E0B8:
		subq.w  #1,d7
loc_E0BA:
		move.w  d7,-(sp)
		clr.w   d5
		clr.w   d6
		move.b  (a2)+,d5
		move.b  (a2)+,d6
		move.w  (a2)+,d0
		tst.w   d1
		bne.s   loc_E0D8
		move.w  d6,d0
		mulu.w  #6,d0
		add.w   d5,d0
		add.w   d0,d0
		move.w  unk_E0F6(pc,d0.w),d0
loc_E0D8:
		or.w    ((word_FFB5AE-$1000000)).w,d0
		add.w   ((word_FFB548-$1000000)).w,d5
		add.w   ((word_FFB54A-$1000000)).w,d6
		jsr     (sub_248).l
		move.w  (sp)+,d7
		dbf     d7,loc_E0BA
		jmp     (j_SetVIntParam0).l

	; End of function sub_E0B4

unk_E0F6:       dc.b $85 
		dc.b $C0 
		dc.b $85 
		dc.b $C4 
		dc.b $85 
		dc.b $C8 
		dc.b $85 
		dc.b $CC 
		dc.b $85 
		dc.b $E0 
		dc.b $85 
		dc.b $E4 
		dc.b $85 
		dc.b $C1 
		dc.b $85 
		dc.b $C5 
		dc.b $85 
		dc.b $C9 
		dc.b $85 
		dc.b $CD 
		dc.b $85 
		dc.b $E1 
		dc.b $85 
		dc.b $E5 
		dc.b $85 
		dc.b $C2 
		dc.b $85 
		dc.b $C6 
		dc.b $85 
		dc.b $CA 
		dc.b $85 
		dc.b $CE 
		dc.b $85 
		dc.b $E2 
		dc.b $85 
		dc.b $E6 
		dc.b $85 
		dc.b $C3 
		dc.b $85 
		dc.b $C7 
		dc.b $85 
		dc.b $CB 
		dc.b $85 
		dc.b $CF 
		dc.b $85 
		dc.b $E3 
		dc.b $85 
		dc.b $E7 
		dc.b $85 
		dc.b $D0 
		dc.b $85 
		dc.b $D4 
		dc.b $85 
		dc.b $D8 
		dc.b $85 
		dc.b $DC 
		dc.b $85 
		dc.b $F0 
		dc.b $85 
		dc.b $F4 
		dc.b $85 
		dc.b $D1 
		dc.b $85 
		dc.b $D5 
		dc.b $85 
		dc.b $D9 
		dc.b $85 
		dc.b $DD 
		dc.b $85 
		dc.b $F1 
		dc.b $85 
		dc.b $F5 
		dc.b $85 
		dc.b $D2 
		dc.b $85 
		dc.b $D6 
		dc.b $85 
		dc.b $DA 
		dc.b $85 
		dc.b $DE 
		dc.b $85 
		dc.b $F2 
		dc.b $85 
		dc.b $F6 
		dc.b $85 
		dc.b $D3 
		dc.b $85 
		dc.b $D7 
		dc.b $85 
		dc.b $DB 
		dc.b $85 
		dc.b $DF 
		dc.b $85 
		dc.b $F3 
		dc.b $85 
		dc.b $F7 

; =============== S U B R O U T I N E =======================================

sub_E156:
		movea.l (p_pt_Portraits).l,a0
		lsl.w   #2,d0
		movea.l (a0,d0.w),a0
		move.w  (a0)+,d0
		move.w  d0,((word_FFB54C-$1000000)).w
		beq.s   loc_E176
		subq.w  #1,d0
		lea     ((byte_FFB54E-$1000000)).w,a1
loc_E170:
		move.l  (a0)+,(a1)+
		dbf     d0,loc_E170
loc_E176:
		move.w  (a0)+,d0
		move.w  d0,((word_FFB56C-$1000000)).w
		beq.s   loc_E18A
		subq.w  #1,d0
		lea     ((byte_FFB56E-$1000000)).w,a1
loc_E184:
		move.l  (a0)+,(a1)+
		dbf     d0,loc_E184
loc_E18A:
		lea     ((byte_FFB58C-$1000000)).w,a1
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		lea     ($B800).l,a1
		move.w  #$380,d0
		jsr     (sub_298).l
		jmp     (j_SetVIntParam3).l

	; End of function sub_E156


; =============== S U B R O U T I N E =======================================

sub_E1B4:
		move.w  #$85C0,((word_FFB5AE-$1000000)).w
		move.w  #2,((word_FFB548-$1000000)).w
		move.w  #2,((word_FFB54A-$1000000)).w
		move.w  #$14,((word_FFB56A-$1000000)).w
		move.w  #$14,((word_FFB58A-$1000000)).w
		movem.l d7-a1,-(sp)
		lea     wl_Portrait2(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$A0,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$80A,d0
		move.l  #$1F60101,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		move.b  #1,((byte_FFB5AC-$1000000)).w
		rts

	; End of function sub_E1B4


; =============== S U B R O U T I N E =======================================

sub_E20A:
		move.w  d0,-(sp)
		bsr.w   sub_E156
		jsr     (j_WaitForVInt).l
		lea     ((byte_FFB58C-$1000000)).w,a0
		lea     (PALETTE_2).l,a1
		moveq   #7,d7
loc_E222:
		move.l  (a0)+,(a1)+
		dbf     d7,loc_E222
		jsr     (j_StoreVDPCommandster).l
		move.w  #$A5C0,((word_FFB5AE-$1000000)).w
		move.w  #2,((word_FFB548-$1000000)).w
		move.w  #2,((word_FFB54A-$1000000)).w
		move.w  #$14,((word_FFB56A-$1000000)).w
		move.w  #$14,((word_FFB58A-$1000000)).w
		movem.l d7-a1,-(sp)
		lea     wl_Portrait1(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$A0,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$80A,d0
		move.l  #$1F60101,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		move.b  #1,((byte_FFB5AC-$1000000)).w
		move.w  (sp)+,d0
		rts

	; End of function sub_E20A


; =============== S U B R O U T I N E =======================================

sub_E286:
		movem.w d0,-(sp)
		clr.b   ((byte_FFB5AC-$1000000)).w
		movem.l d7-a1,-(sp)
		lea     wl_Portrait1(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$A0,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$80A,d0
		move.l  #$10101F6,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		move.w  (sp)+,d0
		rts

	; End of function sub_E286


; =============== S U B R O U T I N E =======================================

sub_E2C2:
		movem.w d0,-(sp)
		bsr.s   sub_E2E8
		move.l  #$F60B000B,d1
		bsr.w   sub_AE36        
		move.w  (sp)+,d0
		rts

	; End of function sub_E2C2


; =============== S U B R O U T I N E =======================================

sub_E2D6:
		move.w  d0,-(sp)
		bsr.s   sub_E2E8
		move.l  #$BF60B,d1
		bsr.w   sub_AE36        
		move.w  (sp)+,d0
		rts

	; End of function sub_E2D6


; =============== S U B R O U T I N E =======================================

sub_E2E8:
		movem.l d7-a1,-(sp)
		lea     wl_SpeakerName(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$3C,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		jsr     j_GetForceStatsAddress
		move.w  d1,d7
		lea     ((byte_FFB7F0-$1000000)).w,a1
		moveq   #$FFFFFFF0,d1
		bsr.w   sub_B054
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$A03,d0
		move.w  #4,d2
		rts

	; End of function sub_E2E8

wl_Portrait1:   incbin "data/graphics/tech/windowlayouts/wl-portrait1.bin"
wl_Portrait2:   incbin "data/graphics/tech/windowlayouts/wl-portrait2.bin"
wl_SpeakerName: incbin "data/graphics/tech/windowlayouts/wl-speakername.bin"

; =============== S U B R O U T I N E =======================================

sub_E49E:
		clr.w   ((word_FFA940-$1000000)).w
		clr.w   ((word_FFA942-$1000000)).w
		movem.l d7-a1,-(sp)
		lea     wl_ShopInventory(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$144,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_E71A
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$1B06,d0
		move.l  #$2F70201,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		lea     ShopIconHighlightTiles(pc), a0
		lea     ($FE00).l,a1
		move.w  #$100,d0
		jsr     (sub_298).l
		jsr     (j_SetVIntParam3AndWait).l
		moveq   #$14,d1
		bsr.w   sub_EA04
loc_E4FA:
		move.w  ((word_FFA942-$1000000)).w,d0
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_E546
		move.w  ((word_FFA940-$1000000)).w,d2
		mulu.w  #6,d2
		add.w   d0,d2
		addq.w  #1,d2
		cmp.w   ((word_FFA93E-$1000000)).w,d2
		bge.s   loc_E546
		addq.w  #1,d0
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		cmp.w   ((word_FFA944-$1000000)).w,d0
		blt.s   loc_E53A
		addq.w  #1,((word_FFA940-$1000000)).w
		clr.w   ((word_FFA942-$1000000)).w
		clr.b   ((byte_FFB4D8-$1000000)).w
		bsr.w   sub_E992
		bra.w   loc_E62C
loc_E53A:
		move.w  d0,((word_FFA942-$1000000)).w
		bsr.w   sub_E9F0
		bra.w   loc_E62C
loc_E546:
		move.w  ((word_FFA942-$1000000)).w,d0
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_E58C
		move.w  ((word_FFA940-$1000000)).w,d2
		mulu.w  #6,d2
		add.w   d0,d2
		ble.s   loc_E58C
		subq.w  #1,d0
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bge.s   loc_E580
		subq.w  #1,((word_FFA940-$1000000)).w
		move.w  #5,((word_FFA942-$1000000)).w
		move.b  #1,((byte_FFB4D8-$1000000)).w
		bsr.w   sub_E992
		bra.w   loc_E62C
loc_E580:
		move.w  d0,((word_FFA942-$1000000)).w
		bsr.w   sub_E9F0
		bra.w   loc_E62C
loc_E58C:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_E5AE
		tst.w   ((word_FFA940-$1000000)).w
		beq.s   loc_E5AE
		subq.w  #1,((word_FFA940-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		move.b  #1,((byte_FFB4D8-$1000000)).w
		bsr.w   sub_E992
loc_E5AE:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_E608
		move.w  ((word_FFA940-$1000000)).w,d2
		addq.w  #1,d2
		mulu.w  #6,d2
		cmp.w   ((word_FFA93E-$1000000)).w,d2
		bge.s   loc_E608
		addq.w  #1,((word_FFA940-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		move.w  ((word_FFA942-$1000000)).w,d0
		move.w  ((word_FFA940-$1000000)).w,d2
		move.w  d2,d1
		add.w   d2,d2
		add.w   d1,d2
		add.w   d2,d2
		move.w  ((word_FFA93E-$1000000)).w,d1
		sub.w   d2,d1
		cmpi.w  #6,d1
		ble.s   loc_E5EE
		moveq   #6,d1
loc_E5EE:
		move.w  d1,((word_FFA944-$1000000)).w
loc_E5F2:
		cmp.w   d1,d0
		blt.w   loc_E5FC
		subq.w  #1,d0
		bne.s   loc_E5F2
loc_E5FC:
		move.w  d0,((word_FFA942-$1000000)).w
		clr.b   ((byte_FFB4D8-$1000000)).w
		bsr.w   sub_E992
loc_E608:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_E63A
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_E640
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_E640
loc_E62C:
		bsr.w   sub_E67A
		jsr     (j_WaitForVInt).l
		bra.w   loc_E4FA
loc_E63A:
		moveq   #$FFFFFFFF,d0
		bra.w   loc_E656
loc_E640:
		move.w  ((word_FFA940-$1000000)).w,d0
		mulu.w  #6,d0
		add.w   ((word_FFA942-$1000000)).w,d0
		lea     ((word_FFA8C0-$1000000)).w,a0
		add.w   d0,d0
		move.w  (a0,d0.w),d0
loc_E656:
		move.w  d0,-(sp)
		clr.w   d1
		bsr.s   sub_E67A
		bsr.w   sub_AF84
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$1B06,d0
		move.l  #$20102F7,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		move.w  (sp)+,d0
		rts

	; End of function sub_E49E


; =============== S U B R O U T I N E =======================================

sub_E67A:
		lea     (word_FF0D18).l,a0
		cmpi.w  #7,d1
		bge.s   loc_E692
		move.w  #1,(a0)
		move.w  #1,6(a0)
		bra.s   loc_E6A4
loc_E692:
		move.w  ((word_FFA942-$1000000)).w,d0
		lsl.w   #5,d0
		addi.w  #$9C,d0 
		move.w  d0,6(a0)
		move.w  #$91,(a0) 
loc_E6A4:
		move.b  #$F,2(a0)
		move.w  #$C7F0,4(a0)
		addq.l  #8,a0
		move.w  #1,(a0)
		move.w  #1,6(a0)
		tst.w   ((word_FFA940-$1000000)).w
		beq.s   loc_E6DC
		cmpi.w  #7,d1
		blt.s   loc_E6DC
		move.w  #$98,6(a0) 
		move.w  #$90,(a0) 
		clr.b   2(a0)
		move.w  #$D084,4(a0)
loc_E6DC:
		addq.l  #8,a0
		move.w  #1,(a0)
		move.w  #1,6(a0)
		move.w  ((word_FFA940-$1000000)).w,d0
		addq.w  #1,d0
		mulu.w  #6,d0
		cmp.w   ((word_FFA93E-$1000000)).w,d0
		bge.s   loc_E712
		cmpi.w  #7,d1
		blt.s   loc_E712
		move.w  #$158,6(a0)
		move.w  #$A8,(a0) 
		clr.b   2(a0)
		move.w  #$C084,4(a0)
loc_E712:
		subq.w  #1,d1
		bne.s   locret_E718
		moveq   #$14,d1
locret_E718:
		rts

	; End of function sub_E67A


; =============== S U B R O U T I N E =======================================

sub_E71A:
		lea     (byte_FF113E).l,a0
		move.w  #$63F,d7
loc_E724:
		move.l  #$DDDDDDDD,(a0)+
		dbf     d7,loc_E724
		lea     ((word_FFA8C0-$1000000)).w,a1
		move.w  ((word_FFA940-$1000000)).w,d0
		move.w  d0,d1
		add.w   d0,d0
		add.w   d1,d0
		add.w   d0,d0
		adda.w  d0,a1
		adda.w  d0,a1
		move.w  ((word_FFA93E-$1000000)).w,d1
		sub.w   d0,d1
		cmpi.w  #6,d1
		ble.s   loc_E750
		moveq   #6,d1
loc_E750:
		move.w  d1,((word_FFA944-$1000000)).w
		move.w  d1,d7
		subq.w  #1,d7
		lea     (FF0FFE_LOADING_SPACE).l,a0
		lea     ((byte_FFB816-$1000000)).w,a2
loc_E762:
		move.w  (a1)+,d0
		move.w  d7,-(sp)
		bsr.w   sub_E802
		jsr     j_GetItemPrice
		move.w  d2,d0
		bsr.w   sub_E7A2
		move.w  #$C024,(a2)
		addq.l  #8,a2
		move.w  (sp)+,d7
		dbf     d7,loc_E762
		lea     (FF0FFE_LOADING_SPACE).l,a0
		lea     ($B800).l,a1
		move.w  #$3C0,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jsr     (j_SetVIntParam3AndWait).l
		rts

	; End of function sub_E71A


; =============== S U B R O U T I N E =======================================

sub_E7A2:
		movem.l a1-a2,-(sp)
		andi.l  #$FFFF,d0
		move.l  a0,-(sp)
		lea     unk_F06A(pc), a1
		moveq   #$1F,d7
loc_E7B4:
		move.l  (a1)+,(a0)+
		dbf     d7,loc_E7B4
		movea.l (sp)+,a0
		adda.w  #$14,a0
		jsr     (j_WriteAsciiNumber).l
		lea     (byte_FF0E85).l,a2
		moveq   #4,d7
loc_E7CE:
		clr.w   d0
		move.b  (a2)+,d0
		cmpi.w  #$20,d0 
		beq.s   loc_E7F2
		subi.w  #$30,d0 
		mulu.w  #$14,d0
		lea     byte_F0EA(pc), a1
		adda.w  d0,a1
		move.l  (a1)+,(a0)+
		move.l  (a1)+,(a0)+
		move.l  (a1)+,(a0)+
		move.l  (a1)+,(a0)+
		move.l  (a1)+,(a0)+
		bra.s   loc_E7F6
loc_E7F2:
		adda.w  #$14,a0
loc_E7F6:
		dbf     d7,loc_E7CE
		addq.w  #8,a0
		movem.l (sp)+,a1-a2
		rts

	; End of function sub_E7A2


; =============== S U B R O U T I N E =======================================

sub_E802:
		move.l  a1,-(sp)
		move.w  d0,-(sp)
		movea.l (p_ItemIcons).l,a1
		move.w  d0,d1
		add.w   d0,d0
		add.w   d1,d0
		lsl.w   #6,d0
		adda.w  d0,a1
		moveq   #$2F,d7 
loc_E818:
		move.l  (a1)+,(a0)+
		dbf     d7,loc_E818
		ori.w   #$D,-2(a0)
		ori.w   #$D000,-$24(a0)
		ori.w   #$D,-$9E(a0)
		ori.w   #$D000,-$C0(a0)
		move.w  (sp)+,d0
		movea.l (sp)+,a1
		rts

	; End of function sub_E802


; =============== S U B R O U T I N E =======================================

sub_E83C:
		move.w  ((word_FFA940-$1000000)).w,d0
		move.w  d0,d1
		add.w   d0,d0
		add.w   d1,d0
		add.w   d0,d0
		move.w  ((word_FFA942-$1000000)).w,d1
		add.w   d1,d0
		add.w   d0,d0
		lea     ((word_FFA8C0-$1000000)).w,a0
		move.w  (a0,d0.w),d0
		rts

	; End of function sub_E83C


; =============== S U B R O U T I N E =======================================

sub_E85A:
		bsr.w   *+4
		movem.l d7-a1,-(sp)
		lea     ((byte_FFBA0C-$1000000)).w,a0
		lea     ((byte_FFB9A0-$1000000)).w,a1
		move.w  #$6C,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		movem.l d7-a1,-(sp)
		lea     wl_F30E(pc), a0
		lea     ((byte_FFBA0C-$1000000)).w,a1
		move.w  #$36,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		movem.l d7-a1,-(sp)
		lea     wl_F30E(pc), a0
		lea     ((byte_FFBA42-$1000000)).w,a1
		move.w  #$36,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
loc_E8AC:
		move.w  #$1B06,d0
		move.w  #$201,d1
		lea     ((byte_FFB96A-$1000000)).w,a0
		bsr.w   sub_AEA8
		bsr.w   sub_AF66
		jmp     (j_SetVIntParam3AndWait).l

	; End of function sub_E85A


; =============== S U B R O U T I N E =======================================

sub_E8C6:
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB810-$1000000)).w,a0
		lea     ((byte_FFBA0C-$1000000)).w,a1
		move.w  #$6C,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_E8FE
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB810-$1000000)).w,a0
		lea     ((byte_FFB9A0-$1000000)).w,a1
		move.w  #$D8,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1

	; End of function sub_E8C6


; =============== S U B R O U T I N E =======================================

sub_E8FE:
		bra.s   loc_E8AC

	; End of function sub_E8FE


; =============== S U B R O U T I N E =======================================

sub_E900:
		bsr.w   *+4
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB9A0-$1000000)).w,a0
		lea     ((byte_FFBA0C-$1000000)).w,a1
		move.w  #$6C,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		movem.l d7-a1,-(sp)
		lea     wl_F30E(pc), a0
		lea     ((byte_FFB9A0-$1000000)).w,a1
		move.w  #$36,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		movem.l d7-a1,-(sp)
		lea     wl_F30E(pc), a0
		lea     ((byte_FFB9D6-$1000000)).w,a1
		move.w  #$36,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bra.w   loc_E8AC

	; End of function sub_E900


; =============== S U B R O U T I N E =======================================

sub_E956:
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB87C-$1000000)).w,a0
		lea     ((byte_FFB9A0-$1000000)).w,a1
		move.w  #$6C,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_E98E
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB810-$1000000)).w,a0
		lea     ((byte_FFB9A0-$1000000)).w,a1
		move.w  #$D8,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1

	; End of function sub_E956


; =============== S U B R O U T I N E =======================================

sub_E98E:
		bra.w   loc_E8AC

	; End of function sub_E98E


; =============== S U B R O U T I N E =======================================

sub_E992:
		bsr.w   sub_AF84
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB7DA-$1000000)).w,a0
		lea     ((byte_FFB96A-$1000000)).w,a1
		move.w  #$144,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		tst.b   ((byte_FFB4D8-$1000000)).w
		bne.s   loc_E9BC
		bsr.w   sub_E85A
		bra.s   loc_E9C0
loc_E9BC:
		bsr.w   sub_E900
loc_E9C0:
		movem.l d7-a1,-(sp)
		lea     wl_ShopInventory(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$144,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_E71A
		tst.b   ((byte_FFB4D8-$1000000)).w
		bne.s   loc_E9EA
		bsr.w   sub_E8C6
		bra.s   loc_E9EE
loc_E9EA:
		bsr.w   sub_E956
loc_E9EE:
		bra.s   sub_EA04

	; End of function sub_E992


; =============== S U B R O U T I N E =======================================

sub_E9F0:
		bsr.w   sub_AF84
		lea     wl_F2D8(pc), a0
		move.w  #$1B01,d0
		move.w  #$206,d1
		bsr.w   sub_AEA8

	; End of function sub_E9F0


; =============== S U B R O U T I N E =======================================

sub_EA04:
		movem.l d7-a1,-(sp)
		lea     wl_ShopItemNameAndPrice(pc), a0
		lea     ((byte_FFB96A-$1000000)).w,a1
		move.w  #$64,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_E83C
		move.w  d0,d1
		move.w  d1,-(sp)
		jsr     j_GetItemName
		move.w  d1,d7
		lea     ((byte_FFB980-$1000000)).w,a1
		moveq   #$FFFFFFEC,d1
		bsr.w   sub_B054
		move.w  (sp)+,d1
		jsr     j_GetItemPrice
		move.l  d2,d0
		lea     ((byte_FFB9AE-$1000000)).w,a1
		moveq   #5,d7
		bsr.w   DisplayNumber
		lea     ((byte_FFB96A-$1000000)).w,a0
		move.w  #$A05,d0
		move.w  ((word_FFA942-$1000000)).w,d1
		ror.w   #6,d1
		ori.w   #$106,d1
		bsr.w   sub_AEA8
		bra.w   sub_AF66

	; End of function sub_EA04


; =============== S U B R O U T I N E =======================================

sub_EA66:
		bsr.w   sub_EC28
		bsr.w   sub_ECA6
		bra.w   loc_ED5C

	; End of function sub_EA66


; =============== S U B R O U T I N E =======================================

sub_EA72:
		bsr.w   sub_EC28
loc_EA76:
		bsr.w   sub_ECA6
		tst.w   d0
		bmi.w   loc_ED5C
		jsr     j_GetForceItemsAddress
		movea.l a0,a2
		cmpi.b  #$FF,(a0)
		beq.s   loc_EA76
		move.w  d0,-(sp)
		bsr.w   sub_EAA2
		move.w  (sp)+,d0
		clr.w   d1
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d1
		blt.s   loc_EA76
		bra.w   loc_ED5C

	; End of function sub_EA72


; =============== S U B R O U T I N E =======================================

sub_EAA2:
		moveq   #$14,d1
		bsr.w   sub_EDCC
		clr.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bsr.w   sub_EBE0
		move.w  #$A04,d0
		move.l  #$200E090E,d1
		move.w  #6,d2
		bsr.w   sub_AE36        
		moveq   #$14,d6
loc_EAC4:
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EAE4
		cmpi.b  #$FF,1(a2)
		beq.s   loc_EAE4
		move.b  #1,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_EB6A
loc_EAE4:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EB04
		cmpi.b  #$FF,2(a2)
		beq.s   loc_EB04
		move.b  #2,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_EB6A
loc_EB04:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EB1A
		clr.b   ((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_EB6A
loc_EB1A:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EB3A
		cmpi.b  #$FF,3(a2)
		beq.s   loc_EB3A
		move.b  #3,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bra.w   loc_EB6A
loc_EB3A:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EB4E
		move.b  #$FF,((CURRENT_DIAMENU_CHOICE-$1000000)).w
		bra.w   loc_EB94
loc_EB4E:
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EB5C
		bra.w   loc_EB94
loc_EB5C:
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_EB80
		bra.w   loc_EB94
loc_EB6A:
		bsr.w   sub_EBE0
		move.w  #$A04,d0
		move.w  #$90E,d1
		bsr.w   sub_AEA8
		bsr.w   sub_AF66
		moveq   #$14,d6
loc_EB80:
		bsr.w   sub_EBB2
		jsr     (j_WaitForVInt).l
		subq.w  #1,d6
		bne.s   loc_EB90
		moveq   #$14,d6
loc_EB90:
		bra.w   loc_EAC4
loc_EB94:
		clr.w   d6
		bsr.w   sub_EBB2
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$A04,d0
		move.l  #$90E200E,d1
		move.w  #6,d2
		bsr.w   sub_AE36        
		rts

	; End of function sub_EAA2


; =============== S U B R O U T I N E =======================================

sub_EBB2:
		lea     (SPRITE_TABLE).l,a1
		lea     unk_EBC0(pc), a0
		bra.w   loc_DA4A

	; End of function sub_EBB2

unk_EBC0:       dc.b   0
		dc.b $D7 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $9F 
		dc.b   0
		dc.b $E3 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $8F 
		dc.b   0
		dc.b $E3 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $AF 
		dc.b   0
		dc.b $EF 
		dc.b  $B
		dc.b   1
		dc.b $C7 
		dc.b $DC 
		dc.b   0
		dc.b $9F 

; =============== S U B R O U T I N E =======================================

sub_EBE0:
		movem.l d7-a1,-(sp)
		lea     wl_ItemMenuItemName(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		move.w  #$50,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bsr.w   sub_EE9A
		jsr     j_GetForceItemsAddress
		move.b  ((CURRENT_DIAMENU_CHOICE-$1000000)).w,d0
		move.b  (a0,d0.w),d1
		andi.w  #$3F,d1 
		jsr     j_GetItemName
		move.w  d1,d7
		lea     ((byte_FFB7F0-$1000000)).w,a1
		moveq   #$FFFFFFEC,d1
		bsr.w   sub_B054
		lea     ((byte_FFB7DA-$1000000)).w,a0
		rts

	; End of function sub_EBE0


; =============== S U B R O U T I N E =======================================

sub_EC28:
		bsr.w   sub_F61E
		tst.b   ((byte_FFC140-$1000000)).w
		bpl.s   loc_EC3E
		clr.w   ((word_FFC1C4-$1000000)).w
		clr.w   ((word_FFC1C6-$1000000)).w
		clr.w   ((byte_FFC140-$1000000)).w
loc_EC3E:
		lea     unk_F4DE(pc), a0
		lea     ($FE00).l,a1
		move.w  #$A0,d0 
		moveq   #2,d1
		jsr     (sub_278).l
		jsr     (j_SetVIntParam3AndWait).l
		bsr.w   sub_EF98
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$150D,d0
		move.l  #$9F30901,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		bsr.w   sub_EE9A
		jsr     sub_20304
		move.w  d1,d0
		bsr.w   sub_E20A
		clr.b   ((byte_FFB5AC-$1000000)).w
		bsr.w   sub_EE9A
		bsr.w   sub_BE3A
		lea     unk_F3C8(pc), a0
		move.w  #$606,d0
		move.l  #$FA0B020B,d1
		move.w  #4,d2
		bra.w   sub_AE36        

	; End of function sub_EC28


; =============== S U B R O U T I N E =======================================

sub_ECA6:
		bsr.w   sub_EF98
		moveq   #$14,d1
loc_ECAC:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_ECE6
		move.w  ((word_FFC1C4-$1000000)).w,d0
		subq.w  #1,d0
		blt.s   loc_ECE6
		clr.w   d1
		bsr.w   sub_EDCC
		moveq   #$14,d1
		cmp.w   ((word_FFC1C6-$1000000)).w,d0
		bge.s   loc_ECDA
		subq.w  #1,((word_FFC1C6-$1000000)).w
		move.b  #1,((byte_FFB4D8-$1000000)).w
		bsr.w   sub_EEEC
loc_ECDA:
		move.w  d0,((word_FFC1C4-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bsr.w   sub_EEAC
loc_ECE6:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_ED26
		move.w  ((word_FFC1C4-$1000000)).w,d0
		addq.w  #1,d0
		cmp.w   ((word_FFCB82-$1000000)).w,d0
		bge.s   loc_ED26
		clr.w   d1
		bsr.w   sub_EDCC
		moveq   #$14,d1
		move.w  ((word_FFC1C6-$1000000)).w,d2
		addq.w  #6,d2
		cmp.w   d2,d0
		blt.s   loc_ED1A
		addq.w  #1,((word_FFC1C6-$1000000)).w
		clr.b   ((byte_FFB4D8-$1000000)).w
		bsr.w   sub_EEEC
loc_ED1A:
		move.w  d0,((word_FFC1C4-$1000000)).w
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		bsr.w   sub_EEAC
loc_ED26:
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   loc_ED58
		btst    #INPUT_A_C_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   sub_EE9A
		btst    #INPUT_A_A_BIT,(CURRENT_PLAYER_INPUT).l
		bne.w   sub_EE9A
		bsr.w   sub_EDCC
		jsr     (j_WaitForVInt).l
		bra.w   loc_ECAC
loc_ED58:
		moveq   #$FFFFFFFF,d0
		rts

	; End of function sub_ECA6


; START OF FUNCTION CHUNK FOR sub_EA72

loc_ED5C:
		movem.w d0-d1,-(sp)
		clr.w   d1
		bsr.s   sub_EDCC
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$150D,d0
		move.l  #$90109F3,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		bsr.w   sub_E286
		lea     unk_F3C8(pc), a0
		move.w  #$606,d0
		move.l  #$20BFA0B,d1
		move.w  #4,d2
		bsr.w   sub_AE36        
		lea     (FF3000_LOADING_SPACE).l,a0
		move.w  #$17F,d7
loc_ED9E:
		move.l  #$DDDDDDDD,(a0)+
		dbf     d7,loc_ED9E
		lea     (FF3000_LOADING_SPACE).l,a0
		lea     ($F800).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jsr     (j_SetVIntParam3AndWait).l
		movem.w (sp)+,d0-d1
		rts

; END OF FUNCTION CHUNK FOR sub_EA72


; =============== S U B R O U T I N E =======================================

sub_EDCC:
		move.w  d0,-(sp)
		lea     (word_FF0C88).l,a0
		lea     unk_EE72(pc), a1
		cmpi.w  #7,d1
		bge.s   loc_EDE4
		move.w  #$100,d0
		bra.s   loc_EDE6
loc_EDE4:
		clr.w   d0
loc_EDE6:
		move.w  ((word_FFC1C4-$1000000)).w,d2
		sub.w   ((word_FFC1C6-$1000000)).w,d2
		lsl.w   #4,d2
		add.w   d2,d0
		moveq   #4,d7
loc_EDF4:
		move.w  (a1)+,(a0)
		add.w   d0,(a0)
		move.w  (a1)+,d2
		move.w  d2,2(a0)
		move.w  (a1)+,4(a0)
		move.w  (a1)+,6(a0)
		addq.l  #8,a0
		dbf     d7,loc_EDF4
		move.w  #1,(a0)
		move.w  #1,6(a0)
		tst.w   ((word_FFC1C6-$1000000)).w
		beq.s   loc_EE36
		cmpi.w  #7,d1
		blt.s   loc_EE36
		move.w  #$D0,6(a0) 
		move.w  #$90,(a0) 
		clr.b   2(a0)
		move.w  #$D084,4(a0)
loc_EE36:
		addq.l  #8,a0
		move.w  #1,(a0)
		move.w  #1,6(a0)
		move.w  ((word_FFC1C6-$1000000)).w,d0
		addq.w  #6,d0
		cmp.w   ((word_FFCB82-$1000000)).w,d0
		bge.s   loc_EE68
		cmpi.w  #7,d1
		blt.s   loc_EE68
		move.w  #$D0,6(a0) 
		move.w  #$E0,(a0) 
		clr.b   2(a0)
		move.w  #$C084,4(a0)
loc_EE68:
		subq.w  #1,d1
		bne.s   loc_EE6E
		moveq   #$14,d1
loc_EE6E:
		move.w  (sp)+,d0
		rts

	; End of function sub_EDCC

unk_EE72:       dc.b   0
		dc.b $8C 
		dc.b  $D
		dc.b   2
		dc.b $C7 
		dc.b $F0 
		dc.b   0
		dc.b $D6 
		dc.b   0
		dc.b $8C 
		dc.b  $D
		dc.b   3
		dc.b $C7 
		dc.b $F2 
		dc.b   0
		dc.b $F4 
		dc.b   0
		dc.b $8C 
		dc.b  $D
		dc.b   4
		dc.b $C7 
		dc.b $F2 
		dc.b   1
		dc.b $14
		dc.b   0
		dc.b $8C 
		dc.b  $D
		dc.b   5
		dc.b $C7 
		dc.b $F2 
		dc.b   1
		dc.b $34 
		dc.b   0
		dc.b $8C 
		dc.b  $D
		dc.b   6
		dc.b $CF 
		dc.b $F0 
		dc.b   1
		dc.b $4A 

; =============== S U B R O U T I N E =======================================

sub_EE9A:
		lea     ((byte_FFCB84-$1000000)).w,a0
		move.w  ((word_FFC1C4-$1000000)).w,d0
		move.b  (a0,d0.w),d0
		bclr    #6,d0
		rts

	; End of function sub_EE9A


; =============== S U B R O U T I N E =======================================

sub_EEAC:
		movem.w d0-d1,-(sp)
		bsr.s   sub_EE9A
		move.w  d0,-(sp)
		bsr.w   sub_BE3A
		move.w  (sp)+,d0
		jsr     sub_20304
		move.w  d1,d0
		andi.w  #$FF,d0
		bsr.w   sub_E156
		lea     ((byte_FFB58C-$1000000)).w,a0
		lea     (PALETTE_2).l,a1
		jsr     (j_CopyPalette).l
		jsr     (j_StoreVDPCommandster).l
		jsr     (j_SetVIntParam3).l
		movem.w (sp)+,d0-d1
		rts

	; End of function sub_EEAC


; =============== S U B R O U T I N E =======================================

sub_EEEC:
		movem.w d0-d1,-(sp)
		tst.b   ((byte_FFB4D8-$1000000)).w
		beq.s   loc_EF2C
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB804-$1000000)).w,a0
		lea     ((byte_FFB82E-$1000000)).w,a1
		move.w  #$1A4,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		movem.l d7-a1,-(sp)
		lea     wl_MemberList2(pc), a0
		lea     ((byte_FFB804-$1000000)).w,a1
		move.w  #$2A,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		bra.s   loc_EF60
loc_EF2C:
		movem.l d7-a1,-(sp)
		lea     ((byte_FFB82E-$1000000)).w,a0
		lea     ((byte_FFB804-$1000000)).w,a1
		move.w  #$1A4,d7
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
		movem.l d7-a1,-(sp)
		lea     wl_MemberList2(pc), a0
		lea     ((byte_FFB9A8-$1000000)).w,a1
		move.w  #$2A,d7 
		jsr     (j_CopyBytes).l
		movem.l (sp)+,d7-a1
loc_EF60:
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$150D,d0
		move.w  #$901,d1
		bsr.w   sub_AEA8
		bsr.w   sub_AF66
		jsr     (j_WaitForVInt).l
		bsr.w   sub_EF98
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$150D,d0
		move.w  #$901,d1
		bsr.w   sub_AEA8
		bsr.w   sub_AF66
		movem.w (sp)+,d0-d1
		rts

	; End of function sub_EEEC


; =============== S U B R O U T I N E =======================================

sub_EF98:
		lea     wl_MemberList1(pc), a0
		lea     ((byte_FFB7DA-$1000000)).w,a1
		movem.l d7,-(sp)
		move.w  #$29,d7 
loc_EFA8:
		move.b  (a0)+,(a1)+
		dbf     d7,loc_EFA8
		movem.l (sp)+,d7
		moveq   #$A,d6
loc_EFB4:
		lea     wl_MemberList2(pc), a0
		movem.l d7,-(sp)
		move.w  #$29,d7 
loc_EFC0:
		move.b  (a0)+,(a1)+
		dbf     d7,loc_EFC0
		movem.l (sp)+,d7
		dbf     d6,loc_EFB4
		lea     wl_MemberList3(pc), a0
		movem.l d7,-(sp)
		move.w  #$29,d7 
loc_EFDA:
		move.b  (a0)+,(a1)+
		dbf     d7,loc_EFDA
		movem.l (sp)+,d7
		lea     ((byte_FFB80A-$1000000)).w,a1
		lea     ((byte_FFCB84-$1000000)).w,a0
		move.w  ((word_FFC1C6-$1000000)).w,d0
		adda.w  d0,a0
		moveq   #5,d7
loc_EFF4:
		move.b  (a0)+,d0
		bmi.w   locret_F068
		bclr    #6,d0
		beq.s   loc_F006
		move.w  ((word_FFC0B6-$1000000)).w,-2(a1)
loc_F006:
		move.w  d7,-(sp)
		movem.l a0-a1,-(sp)
		move.w  d0,-(sp)
		move.l  a1,-(sp)
		jsr     j_GetForceStatsAddress
		moveq   #$FFFFFFD6,d1
		moveq   #8,d7
		bsr.w   sub_B054
		movea.l (sp)+,a1
		lea     $12(a1),a1
		move.w  (sp)+,d0
		move.w  d0,-(sp)
		move.l  a1,-(sp)
		jsr     j_GetForceMemberClass
		jsr     j_GetClassName
		move.w  d1,d7
		moveq   #$FFFFFFD6,d1
		bsr.w   sub_B054
		movea.l (sp)+,a1
		lea     $A(a1),a1
		move.w  (sp)+,d0
		move.w  #$C04C,(a1)+
		jsr     j_GetForceMemberLevel
		move.w  d1,d0
		ext.l   d0
		moveq   #2,d7
		bsr.w   DisplayNumber
		movem.l (sp)+,a0-a1
		lea     $54(a1),a1
		move.w  (sp)+,d7
		dbf     d7,loc_EFF4
locret_F068:
		rts

	; End of function sub_EF98

unk_F06A:       dc.b $11
		dc.b $DD 
		dc.b $DD 
		dc.b $DD 
		dc.b $EE 
		dc.b $1D
		dc.b $DD 
		dc.b $DD 
		dc.b $DD 
		dc.b $D1 
		dc.b $DD 
		dc.b $DD 
		dc.b $EB 
		dc.b $BB 
		dc.b $BB 
		dc.b $DD 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BD 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $DB 
		dc.b $BB 
		dc.b $BB 
		dc.b $EE 
		dc.b $DD 
		dc.b $EE 
		dc.b $EE 
		dc.b $ED 
byte_F0EA:      dc.b $BE
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $EB 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $EB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $EB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $BE 
		dc.b $EE 
		dc.b $EE 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b $BB 
		dc.b $BB 
		dc.b $BB 
		dc.b $BE 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
wl_ShopInventory:
		incbin "data/graphics/tech/windowlayouts/wl-shopinventory.bin"
wl_F2D8:        incbin "data/graphics/tech/windowlayouts/wl-f2d8.bin"
wl_F30E:        incbin "data/graphics/tech/windowlayouts/wl-f30e.bin"
ShopIconHighlightTiles:
		incbin "data/graphics/tech/menus/shopiconhighlighttiles.bin"
wl_ShopItemNameAndPrice:
		incbin "data/graphics/tech/windowlayouts/wl-shopitemnameandprice.bin"
unk_F3C8:       dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C0 
		dc.b $C7 
		dc.b $C1 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $C6 
		dc.b $C7 
		dc.b $C7 
		dc.b $C7 
		dc.b $C2 
		dc.b $C7 
		dc.b $C3 
		dc.b $C7 
		dc.b $CE 
		dc.b $C7 
		dc.b $CF 
		dc.b $C7 
		dc.b $C8 
		dc.b $C7 
		dc.b $C9 
		dc.b $C7 
		dc.b $C4 
		dc.b $C7 
		dc.b $C5 
		dc.b $C7 
		dc.b $D0 
		dc.b $C7 
		dc.b $D1 
		dc.b $C7 
		dc.b $CA 
		dc.b $C7 
		dc.b $CB 
		dc.b $C7 
		dc.b $D6 
		dc.b $C7 
		dc.b $D7 
		dc.b $C7 
		dc.b $D2 
		dc.b $C7 
		dc.b $D3 
		dc.b $C7 
		dc.b $CC 
		dc.b $C7 
		dc.b $CD 
		dc.b $C7 
		dc.b $D8 
		dc.b $C7 
		dc.b $D9 
		dc.b $C7 
		dc.b $D4 
		dc.b $C7 
		dc.b $D5 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
		dc.b $C7 
		dc.b $DA 
		dc.b $C7 
		dc.b $DB 
		dc.b $C0 
		dc.b   0
		dc.b $C0 
		dc.b   0
wl_MemberList1: incbin "data/graphics/tech/windowlayouts/wl-memberlist1.bin"
wl_MemberList2: incbin "data/graphics/tech/windowlayouts/wl-memberlist2.bin"
wl_MemberList3: incbin "data/graphics/tech/windowlayouts/wl-memberlist3.bin"
wl_ItemMenuItemName:
		incbin "data/graphics/tech/windowlayouts/wl-itemmenuitemname.bin"
unk_F4DE:       dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b  $A
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b  $A
		dc.b $A0 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b $AA 
		dc.b   0
		dc.b   0
		dc.b   0
		dc.b   0

; =============== S U B R O U T I N E =======================================

sub_F61E:
		lea     (byte_FFDC86).l,a0
		move.l  #$C020C020,-$50(a0)
		moveq   #$C,d7
loc_F62E:
		move.l  #$C020C020,(a0)+
		dbf     d7,loc_F62E
		rts

	; End of function sub_F61E


; =============== S U B R O U T I N E =======================================

sub_F63A:
		lea     (PALETTE_1).l,a0
		lea     (PALETTE_2).l,a1
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		jsr     (j_StoreVDPCommandster).l
		move.b  #9,(FADING_SETTING).l
		clr.b   (FADING_POINTER).l
		move.b  (FADING_COUNTER_MAX).l,(FADING_COUNTER).l
		move.b  #$D,(FADING_PALETTE_FLAGS).l
		move.l  (dword_FF0EF6).l,-(sp)
		clr.l   (dword_FF0EF6).l
		bsr.w   sub_F7CE
		move.l  (sp)+,(dword_FF0EF6).l
loc_F692:
		jsr     (j_WaitForVInt).l
		tst.b   (FADING_SETTING).l
		bne.s   loc_F692
		lea     (PALETTE_3_BIS).l,a0
		lea     (PALETTE_3).l,a1
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		move.l  (a0)+,(a1)+
		jsr     (j_StoreVDPCommandster).l
		move.l  #$9A8C,(dword_FF0EF6).l
		jsr     (j_ClearSpriteTable).l
		move.w  #$3E,(word_FF0E2A).l 
		bsr.w   sub_FAC6
		lea     ((byte_FFB7DA-$1000000)).w,a0
		bsr.w   sub_FB38
		andi.l  #$FFFFFF,d1
		ori.l   #$20000000,d1
		move.w  #8,d2
		bsr.w   sub_AE36        
		jsr     sub_FB68(pc)
		nop
		move.w  #$14,((word_FFB7C4-$1000000)).w
		moveq   #$A,d3
loc_F708:
		move.b  #1,(byte_FF0F03).l
		move.w  d3,-(sp)
		jsr     sub_FBF4(pc)
		nop
		move.w  (sp)+,d3
		jsr     (j_WaitForVInt).l
		subq.w  #1,d3
		bne.s   loc_F726
		moveq   #$14,d3
loc_F726:
		bsr.w   sub_FC94
		move.b  (CURRENT_PLAYER_INPUT).l,d0
		andi.b  #$70,d0 
		beq.s   loc_F708
		clr.b   (byte_FF0F03).l
		jsr     (j_ClearSpriteTable).l
		lea     ((byte_FFB7DA-$1000000)).w,a0
		bsr.w   sub_FB38
		andi.l  #$FFFFFF,d1
		btst    #INPUT_A_B_BIT,(CURRENT_PLAYER_INPUT).l
		bne.s   loc_F764
		ori.l   #$E0000000,d1
		clr.w   d7
		bra.s   loc_F772
loc_F764:
		ori.l   #$20000000,d1
		bset    #0,((byte_FFB4CA-$1000000)).w
		moveq   #$FFFFFFFF,d7
loc_F772:
		move.w  d7,-(sp)
		swap    d1
		move.w  #6,d2
		bsr.w   sub_AE36        
		lea     (PALETTE_3).l,a1
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		clr.l   (a1)+
		jsr     (j_StoreVDPCommandster).l
		jsr     sub_98A8
		move.l  #$9A8A,(dword_FF0EF6).l
		move.b  #$A,(FADING_SETTING).l
		clr.b   (FADING_POINTER).l
		move.b  (FADING_COUNTER_MAX).l,(FADING_COUNTER).l
		move.b  #$D,(FADING_PALETTE_FLAGS).l
		move.w  (sp)+,d0
		rts

	; End of function sub_F63A


; =============== S U B R O U T I N E =======================================

sub_F7CE:
		lea     (MAP_SPRITE_POSITION).l,a0
		lea     (FF0FFE_LOADING_SPACE).l,a1
		move.w  ((MAP_WIDTH-$1000000)).w,d5
		move.w  d5,d6
		add.w   d5,d5
		add.w   d6,d5
		add.w   d5,d5
		moveq   #2,d4
		move.w  ((MAP_HEIGHT-$1000000)).w,d6
		subq.w  #1,d6
loc_F7EE:
		jsr     (j_EnableInterrupts).l
		jsr     (j_WaitForVInt).l
		jsr     (j_DisableInterrupts).l
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		lsr.w   #1,d7
		subq.w  #1,d7
loc_F808:
		move.w  ((MAP_HEIGHT-$1000000)).w,d2
		subq.w  #1,d2
		sub.w   d6,d2
		move.w  ((MAP_WIDTH-$1000000)).w,d1
		mulu.w  d1,d2
		move.w  d2,d1
		lsl.w   #3,d2
		add.w   d1,d2
		add.w   d2,d2
		move.w  ((MAP_WIDTH-$1000000)).w,d1
		lsr.w   #1,d1
		subq.w  #1,d1
		sub.w   d7,d1
		lsl.w   #2,d1
		move.w  d1,d0
		add.w   d1,d1
		add.w   d0,d1
		add.w   d1,d2
		add.w   d5,d2
		move.w  2(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,(a1)
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,4(a1)
		add.w   d5,d2
		move.w  2(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,8(a1)
		move.w  2(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,$C(a1)
		sub.w   d5,d2
		addq.w  #6,d2
		move.w  2(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,2(a1)
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,6(a1)
		add.w   d5,d2
		move.w  2(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,$A(a1)
		move.w  2(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		move.w  d0,d3
		move.w  4(a0,d2.w),d0
		add.w   d0,d0
		addq.w  #1,d0
		bsr.w   sub_FA46
		move.w  d0,d1
		lsl.w   #4,d1
		andi.w  #$F000,d0
		andi.w  #$F00,d1
		or.w    d1,d0
		lsr.w   #8,d0
		or.w    d0,d3
		move.w  d3,$E(a1)
		adda.w  #$20,a1 
		dbf     d7,loc_F808
		subq.w  #1,d4
		beq.s   loc_FA32
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		subq.w  #1,d7
		lsl.w   #4,d7
		suba.w  d7,a1
		bra.s   loc_FA38
loc_FA32:
		suba.w  #$10,a1
		moveq   #2,d4
loc_FA38:
		dbf     d6,loc_F7EE
		jsr     (j_EnableInterrupts).l
		bra.w   loc_FA6C

	; End of function sub_F7CE


; =============== S U B R O U T I N E =======================================

sub_FA46:
		andi.w  #$FFF,d0
		lsl.w   #4,d0
		move.w  d0,d1
		andi.w  #$3FFF,d1
		move.w  d1,(VDP_Control).l
		rol.w   #2,d0
		andi.w  #3,d0
		move.w  d0,(VDP_Control).l
		move.w  (VDP_Data).l,d0
		rts

	; End of function sub_FA46


; START OF FUNCTION CHUNK FOR sub_F7CE

loc_FA6C:
		lea     (FF0FFE_LOADING_SPACE).l,a0
		lea     ($B800).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		lea     ($D000).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jsr     (j_SetVIntParam3AndWait).l
		lea     ($D800).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		lea     ($F800).l,a1
		move.w  #$400,d0
		moveq   #2,d1
		jsr     (sub_278).l
		jmp     (j_SetVIntParam3AndWait).l

; END OF FUNCTION CHUNK FOR sub_F7CE


; =============== S U B R O U T I N E =======================================

sub_FAC6:
		lea     ((byte_FFB7DA-$1000000)).w,a0
		move.w  #$A5C0,d5
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		lsr.w   #1,d7
		subq.w  #1,d7
		move.w  #$C0F9,(a0)+
loc_FADA:
		move.w  #$C0FA,(a0)+
		dbf     d7,loc_FADA
		move.w  #$C8F9,(a0)+
		move.w  ((MAP_HEIGHT-$1000000)).w,d6
		lsr.w   #1,d6
		subq.w  #1,d6
loc_FAEE:
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		lsr.w   #1,d7
		subq.w  #1,d7
		move.w  #$C0FB,(a0)+
loc_FAFA:
		move.w  d5,(a0)+
		addq.w  #1,d5
		cmpi.w  #$A600,d5
		bne.s   loc_FB08
		move.w  #$A680,d5
loc_FB08:
		cmpi.w  #$A700,d5
		bne.s   loc_FB12
		move.w  #$A7C0,d5
loc_FB12:
		dbf     d7,loc_FAFA
		move.w  #$C8FB,(a0)+
		dbf     d6,loc_FAEE
		move.w  ((MAP_WIDTH-$1000000)).w,d7
		lsr.w   #1,d7
		subq.w  #1,d7
		move.w  #$D0F9,(a0)+
loc_FB2A:
		move.w  #$D0FA,(a0)+
		dbf     d7,loc_FB2A
		move.w  #$D8F9,(a0)+
		rts

	; End of function sub_FAC6


; =============== S U B R O U T I N E =======================================

sub_FB38:
		move.w  ((MAP_WIDTH-$1000000)).w,d0
		addq.w  #4,d0
		lsl.w   #7,d0
		move.w  ((MAP_HEIGHT-$1000000)).w,d1
		addq.w  #4,d1
		lsr.w   #1,d1
		or.w    d1,d0
		move.w  d0,-(sp)
		moveq   #$3C,d0 
		sub.w   ((MAP_WIDTH-$1000000)).w,d0
		lsl.w   #6,d0
		moveq   #$34,d1 
		sub.w   ((MAP_HEIGHT-$1000000)).w,d1
		lsr.w   #2,d1
		or.w    d0,d1
		move.w  d1,d0
		swap    d0
		or.l    d0,d1
		move.w  (sp)+,d0
		rts

	; End of function sub_FB38


; =============== S U B R O U T I N E =======================================

sub_FB68:
		bsr.w   sub_FBD6
		lea     (FF0FFE_LOADING_SPACE).l,a1
		clr.w   d0
		moveq   #$1F,d7
loc_FB76:
		jsr     j_GetTargetID
		move.w  d1,(a1)+
		jsr     j_GetTargetX
		lsl.w   #2,d1
		add.w   d2,d1
		move.w  d1,(a1)+
		jsr     j_GetTargetY
		lsl.w   #2,d1
		add.w   d3,d1
		move.w  d1,(a1)+
		clr.w   (a1)+
		addq.w  #1,d0
		dbf     d7,loc_FB76
		moveq   #$1D,d6
loc_FBA0:
		lea     (FF0FFE_LOADING_SPACE).l,a0
		moveq   #$1E,d7
loc_FBA8:
		move.w  4(a0),d0
		cmp.w   $C(a0),d0
		bge.s   loc_FBCA
		move.l  8(a0),d0
		move.l  (a0),8(a0)
		move.l  d0,(a0)
		move.l  $C(a0),d0
		move.l  4(a0),$C(a0)
		move.l  d0,4(a0)
loc_FBCA:
		addq.w  #8,a0
		dbf     d7,loc_FBA8
		dbf     d6,loc_FBA0
		rts

	; End of function sub_FB68


; =============== S U B R O U T I N E =======================================

sub_FBD6:
		moveq   #$40,d2 
		sub.w   ((MAP_WIDTH-$1000000)).w,d2
		lsr.w   #2,d2
		lsl.w   #3,d2
		addi.w  #$80,d2 
		moveq   #$38,d3 
		sub.w   ((MAP_HEIGHT-$1000000)).w,d3
		lsr.w   #2,d3
		lsl.w   #3,d3
		addi.w  #$80,d3 
		rts

	; End of function sub_FBD6


; =============== S U B R O U T I N E =======================================

sub_FBF4:
		subq.w  #1,((word_FFB7C4-$1000000)).w
		bne.s   loc_FC00
		move.w  #$14,((word_FFB7C4-$1000000)).w
loc_FC00:
		cmpi.w  #7,((word_FFB7C4-$1000000)).w
		bgt.s   loc_FC10
		move.l  #$100,d6
		bra.s   loc_FC12
loc_FC10:
		clr.w   d6
loc_FC12:
		lea     (FF0FFE_LOADING_SPACE).l,a0
		lea     (word_FF0D30).l,a1
		moveq   #$1F,d7
loc_FC20:
		move.w  (a0),d0
		cmpi.b  #$FF,d0
		beq.s   loc_FC48
		move.w  2(a0),6(a1)
		move.w  4(a0),(a1)
		add.w   d6,(a1)
		btst    #7,d0
		beq.s   loc_FC42
		move.w  #$C05C,4(a1)
		bra.s   loc_FC48
loc_FC42:
		move.w  #$C05E,4(a1)
loc_FC48:
		addq.l  #8,a0
		addq.l  #8,a1
		dbf     d7,loc_FC20
		lea     (byte_FF0D28).l,a1
		move.w  d3,-(sp)
		bsr.w   sub_FBD6
		lea     (byte_FF10FE).l,a0
		clr.w   d0
		move.b  ((CURSOR_POSITION-$1000000)).w,d0
		lsl.w   #2,d0
		add.w   d2,d0
		move.w  d0,6(a1)
		clr.w   d0
		move.b  ((CURSOR_POSITION+1-$1000000)).w,d0
		lsl.w   #2,d0
		add.w   d3,d0
		move.w  d0,(a1)
		move.w  (sp)+,d3
		cmpi.w  #7,d3
		bge.s   loc_FC8C
		move.w  #0,4(a1)
		bra.s   locret_FC92
loc_FC8C:
		move.w  #$C03B,4(a1)
locret_FC92:
		rts

	; End of function sub_FBF4


; =============== S U B R O U T I N E =======================================

sub_FC94:
		move.w  d3,-(sp)
		clr.b   ((byte_FFB538-$1000000)).w
		clr.l   ((byte_FFB4C0-$1000000)).w
		bsr.w   sub_87AA
		btst    #INPUT_A_LEFT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_FCB0
		bsr.w   sub_86DA
loc_FCB0:
		btst    #INPUT_A_RIGHT_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_FCBE
		bsr.w   sub_8650
loc_FCBE:
		btst    #INPUT_A_UP_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_FCCC
		bsr.w   sub_853E
loc_FCCC:
		btst    #INPUT_A_DOWN_BIT,(CURRENT_PLAYER_INPUT).l
		beq.s   loc_FCDA
		bsr.w   sub_85C2
loc_FCDA:
		move.w  (sp)+,d3
		tst.l   ((byte_FFB4C0-$1000000)).w
		beq.w   locret_FD56
		trap    #SOUND_COMMAND
		dc.w SFX_MENU_SELECTION
		moveq   #$14,d3
		movem.w d1-d7,-(sp)
		clr.w   d1
		clr.w   d2
		clr.w   d3
		clr.w   d4
		move.b  ((byte_FFB4C0-$1000000)).w,d3
		move.b  ((byte_FFB4C1-$1000000)).w,d4
		ext.w   d3
		ext.w   d4
		add.w   d3,d3
		add.w   d4,d4
		addi.w  #-$10,d3
		addi.w  #$14,d4
		moveq   #5,d7
loc_FD10:
		clr.b   ((byte_FFB4C4-$1000000)).w
		move.w  d7,-(sp)
		bsr.w   sub_8A22
		move.w  (sp)+,d7
		move.w  d7,-(sp)
		bsr.w   sub_8A8A
		move.w  (sp)+,d7
		tst.b   ((byte_FFB4C4-$1000000)).w
		beq.w   loc_FD38
		movem.w d1-d7,-(sp)
		bsr.w   sub_8DE2        
		movem.w (sp)+,d1-d7
loc_FD38:
		tst.w   d7
		beq.s   loc_FD4E
		movem.w d0-d7,-(sp)
		bsr.w   sub_FBF4
		movem.w (sp)+,d0-d7
		jsr     (j_WaitForVInt).l
loc_FD4E:
		dbf     d7,loc_FD10
		movem.w (sp)+,d1-d7
locret_FD56:
		rts

	; End of function sub_FC94

algn_FD58:      align $8000
